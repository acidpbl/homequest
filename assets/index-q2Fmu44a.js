(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function rS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wp={exports:{}},bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function cI(){if(zT)return bu;zT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return bu.Fragment=e,bu.jsx=n,bu.jsxs=n,bu}var BT;function hI(){return BT||(BT=1,wp.exports=cI()),wp.exports}var q=hI(),Sp={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function fI(){if(FT)return Me;FT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,O={};function P(L,ae,ye){this.props=L,this.context=ae,this.refs=O,this.updater=ye||A}P.prototype.isReactComponent={},P.prototype.setState=function(L,ae){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ae,"setState")},P.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=P.prototype;function Y(L,ae,ye){this.props=L,this.context=ae,this.refs=O,this.updater=ye||A}var K=Y.prototype=new k;K.constructor=Y,x(K,P.prototype),K.isPureReactComponent=!0;var ee=Array.isArray,W={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function D(L,ae,ye,ce,ue,Re){return ye=Re.ref,{$$typeof:t,type:L,key:ae,ref:ye!==void 0?ye:null,props:Re}}function R(L,ae){return D(L.type,ae,void 0,void 0,void 0,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function I(L){var ae={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ye){return ae[ye]})}var U=/\/+/g;function F(L,ae){return typeof L=="object"&&L!==null&&L.key!=null?I(""+L.key):ae.toString(36)}function V(){}function ze(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(V,V):(L.status="pending",L.then(function(ae){L.status==="pending"&&(L.status="fulfilled",L.value=ae)},function(ae){L.status==="pending"&&(L.status="rejected",L.reason=ae)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Qe(L,ae,ye,ce,ue){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var Ce=!1;if(L===null)Ce=!0;else switch(Re){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(L.$$typeof){case t:case e:Ce=!0;break;case y:return Ce=L._init,Qe(Ce(L._payload),ae,ye,ce,ue)}}if(Ce)return ue=ue(L),Ce=ce===""?"."+F(L,0):ce,ee(ue)?(ye="",Ce!=null&&(ye=Ce.replace(U,"$&/")+"/"),Qe(ue,ae,ye,"",function(dt){return dt})):ue!=null&&(C(ue)&&(ue=R(ue,ye+(ue.key==null||L&&L.key===ue.key?"":(""+ue.key).replace(U,"$&/")+"/")+Ce)),ae.push(ue)),1;Ce=0;var st=ce===""?".":ce+":";if(ee(L))for(var Ge=0;Ge<L.length;Ge++)ce=L[Ge],Re=st+F(ce,Ge),Ce+=Qe(ce,ae,ye,Re,ue);else if(Ge=b(L),typeof Ge=="function")for(L=Ge.call(L),Ge=0;!(ce=L.next()).done;)ce=ce.value,Re=st+F(ce,Ge++),Ce+=Qe(ce,ae,ye,Re,ue);else if(Re==="object"){if(typeof L.then=="function")return Qe(ze(L),ae,ye,ce,ue);throw ae=String(L),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function te(L,ae,ye){if(L==null)return L;var ce=[],ue=0;return Qe(L,ce,"","",function(Re){return ae.call(ye,Re,ue++)}),ce}function he(L){if(L._status===-1){var ae=L._result;ae=ae(),ae.then(function(ye){(L._status===0||L._status===-1)&&(L._status=1,L._result=ye)},function(ye){(L._status===0||L._status===-1)&&(L._status=2,L._result=ye)}),L._status===-1&&(L._status=0,L._result=ae)}if(L._status===1)return L._result.default;throw L._result}var le=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Se(){}return Me.Children={map:te,forEach:function(L,ae,ye){te(L,function(){ae.apply(this,arguments)},ye)},count:function(L){var ae=0;return te(L,function(){ae++}),ae},toArray:function(L){return te(L,function(ae){return ae})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Me.Component=P,Me.Fragment=n,Me.Profiler=a,Me.PureComponent=Y,Me.StrictMode=r,Me.Suspense=d,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Me.act=function(){throw Error("act(...) is not supported in production builds of React.")},Me.cache=function(L){return function(){return L.apply(null,arguments)}},Me.cloneElement=function(L,ae,ye){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ce=x({},L.props),ue=L.key,Re=void 0;if(ae!=null)for(Ce in ae.ref!==void 0&&(Re=void 0),ae.key!==void 0&&(ue=""+ae.key),ae)!B.call(ae,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ae.ref===void 0||(ce[Ce]=ae[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=ye;else if(1<Ce){for(var st=Array(Ce),Ge=0;Ge<Ce;Ge++)st[Ge]=arguments[Ge+2];ce.children=st}return D(L.type,ue,void 0,void 0,Re,ce)},Me.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Me.createElement=function(L,ae,ye){var ce,ue={},Re=null;if(ae!=null)for(ce in ae.key!==void 0&&(Re=""+ae.key),ae)B.call(ae,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ue[ce]=ae[ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ye;else if(1<Ce){for(var st=Array(Ce),Ge=0;Ge<Ce;Ge++)st[Ge]=arguments[Ge+2];ue.children=st}if(L&&L.defaultProps)for(ce in Ce=L.defaultProps,Ce)ue[ce]===void 0&&(ue[ce]=Ce[ce]);return D(L,Re,void 0,void 0,null,ue)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(L){return{$$typeof:f,render:L}},Me.isValidElement=C,Me.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:he}},Me.memo=function(L,ae){return{$$typeof:p,type:L,compare:ae===void 0?null:ae}},Me.startTransition=function(L){var ae=W.T,ye={};W.T=ye;try{var ce=L(),ue=W.S;ue!==null&&ue(ye,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Se,le)}catch(Re){le(Re)}finally{W.T=ae}},Me.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Me.use=function(L){return W.H.use(L)},Me.useActionState=function(L,ae,ye){return W.H.useActionState(L,ae,ye)},Me.useCallback=function(L,ae){return W.H.useCallback(L,ae)},Me.useContext=function(L){return W.H.useContext(L)},Me.useDebugValue=function(){},Me.useDeferredValue=function(L,ae){return W.H.useDeferredValue(L,ae)},Me.useEffect=function(L,ae){return W.H.useEffect(L,ae)},Me.useId=function(){return W.H.useId()},Me.useImperativeHandle=function(L,ae,ye){return W.H.useImperativeHandle(L,ae,ye)},Me.useInsertionEffect=function(L,ae){return W.H.useInsertionEffect(L,ae)},Me.useLayoutEffect=function(L,ae){return W.H.useLayoutEffect(L,ae)},Me.useMemo=function(L,ae){return W.H.useMemo(L,ae)},Me.useOptimistic=function(L,ae){return W.H.useOptimistic(L,ae)},Me.useReducer=function(L,ae,ye){return W.H.useReducer(L,ae,ye)},Me.useRef=function(L){return W.H.useRef(L)},Me.useState=function(L){return W.H.useState(L)},Me.useSyncExternalStore=function(L,ae,ye){return W.H.useSyncExternalStore(L,ae,ye)},Me.useTransition=function(){return W.H.useTransition()},Me.version="19.0.0",Me}var HT;function Jg(){return HT||(HT=1,Sp.exports=fI()),Sp.exports}var N=Jg();const dI=rS(N);var Ap={exports:{}},wu={},Rp={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function mI(){return qT||(qT=1,function(t){function e(te,he){var le=te.length;te.push(he);e:for(;0<le;){var Se=le-1>>>1,L=te[Se];if(0<a(L,he))te[Se]=he,te[le]=L,le=Se;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var he=te[0],le=te.pop();if(le!==he){te[0]=le;e:for(var Se=0,L=te.length,ae=L>>>1;Se<ae;){var ye=2*(Se+1)-1,ce=te[ye],ue=ye+1,Re=te[ue];if(0>a(ce,le))ue<L&&0>a(Re,ce)?(te[Se]=Re,te[ue]=le,Se=ue):(te[Se]=ce,te[ye]=le,Se=ye);else if(ue<L&&0>a(Re,le))te[Se]=Re,te[ue]=le,Se=ue;else break e}}return he}function a(te,he){var le=te.sortIndex-he.sortIndex;return le!==0?le:te.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var d=[],p=[],y=1,_=null,b=3,A=!1,x=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function K(te){for(var he=n(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=te)r(p),he.sortIndex=he.expirationTime,e(d,he);else break;he=n(p)}}function ee(te){if(O=!1,K(te),!x)if(n(d)!==null)x=!0,ze();else{var he=n(p);he!==null&&Qe(ee,he.startTime-te)}}var W=!1,B=-1,D=5,R=-1;function C(){return!(t.unstable_now()-R<D)}function I(){if(W){var te=t.unstable_now();R=te;var he=!0;try{e:{x=!1,O&&(O=!1,k(B),B=-1),A=!0;var le=b;try{t:{for(K(te),_=n(d);_!==null&&!(_.expirationTime>te&&C());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,b=_.priorityLevel;var L=Se(_.expirationTime<=te);if(te=t.unstable_now(),typeof L=="function"){_.callback=L,K(te),he=!0;break t}_===n(d)&&r(d),K(te)}else r(d);_=n(d)}if(_!==null)he=!0;else{var ae=n(p);ae!==null&&Qe(ee,ae.startTime-te),he=!1}}break e}finally{_=null,b=le,A=!1}he=void 0}}finally{he?U():W=!1}}}var U;if(typeof Y=="function")U=function(){Y(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=I,U=function(){V.postMessage(null)}}else U=function(){P(I,0)};function ze(){W||(W=!0,U())}function Qe(te,he){B=P(function(){te(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){x||A||(x=!0,ze())},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(te){switch(b){case 1:case 2:case 3:var he=3;break;default:he=b}var le=b;b=he;try{return te()}finally{b=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=b;b=te;try{return he()}finally{b=le}},t.unstable_scheduleCallback=function(te,he,le){var Se=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Se+le:Se):le=Se,te){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=le+L,te={id:y++,callback:he,priorityLevel:te,startTime:le,expirationTime:L,sortIndex:-1},le>Se?(te.sortIndex=le,e(p,te),n(d)===null&&te===n(p)&&(O?(k(B),B=-1):O=!0,Qe(ee,le-Se))):(te.sortIndex=L,e(d,te),x||A||(x=!0,ze())),te},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(te){var he=b;return function(){var le=b;b=he;try{return te.apply(this,arguments)}finally{b=le}}}}(Cp)),Cp}var GT;function pI(){return GT||(GT=1,Rp.exports=mI()),Rp.exports}var xp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function gI(){if(KT)return nn;KT=1;var t=Jg();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},nn.flushSync=function(d){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=y,r.d.f()}},nn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},nn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},nn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:A}):y==="script"&&r.d.X(d,{crossOrigin:_,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},nn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},nn.requestFormReset=function(d){r.d.r(d)},nn.unstable_batchedUpdates=function(d,p){return d(p)},nn.useFormState=function(d,p,y){return c.H.useFormState(d,p,y)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.0.0",nn}var $T;function yI(){if($T)return xp.exports;$T=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xp.exports=gI(),xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function vI(){if(YT)return wu;YT=1;var t=pI(),e=Jg(),n=yI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),A=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),ee=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function R(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case f:return"Portal";case y:return"Profiler";case p:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case A:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case x:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return s=i.displayName||null,s!==null?s:R(i.type)||"Memo";case Y:s=i._payload,i=i._init;try{return R(i(s))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,U,F;function V(i){if(U===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||"",F=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+i+F}var ze=!1;function Qe(i,s){if(!i||ze)return"";ze=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var Q=Z}Reflect.construct(i,[],se)}else{try{se.call()}catch(Z){Q=Z}i.call(se.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],w=g[1];if(E&&w){var M=E.split(`
`),z=w.split(`
`);for(m=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;m<z.length&&!z[m].includes("DetermineComponentFrameRoot");)m++;if(u===M.length||m===z.length)for(u=M.length-1,m=z.length-1;1<=u&&0<=m&&M[u]!==z[m];)m--;for(;1<=u&&0<=m;u--,m--)if(M[u]!==z[m]){if(u!==1||m!==1)do if(u--,m--,0>m||M[u]!==z[m]){var J=`
`+M[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=m);break}}}finally{ze=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?V(o):""}function te(i){switch(i.tag){case 26:case 27:case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return i=Qe(i.type,!1),i;case 11:return i=Qe(i.type.render,!1),i;case 1:return i=Qe(i.type,!0),i;default:return""}}function he(i){try{var s="";do s+=te(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function le(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Se(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function L(i){if(le(i)!==i)throw Error(r(188))}function ae(i){var s=i.alternate;if(!s){if(s=le(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return L(m),i;if(g===u)return L(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=m,u=g;else{for(var E=!1,w=m.child;w;){if(w===o){E=!0,o=m,u=g;break}if(w===u){E=!0,u=m,o=g;break}w=w.sibling}if(!E){for(w=g.child;w;){if(w===o){E=!0,o=g,u=m;break}if(w===u){E=!0,u=g,o=m;break}w=w.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function ye(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=ye(i),s!==null)return s;i=i.sibling}return null}var ce=Array.isArray,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Ce=[],st=-1;function Ge(i){return{current:i}}function dt(i){0>st||(i.current=Ce[st],Ce[st]=null,st--)}function Ze(i,s){st++,Ce[st]=i.current,i.current=s}var cn=Ge(null),ji=Ge(null),Vn=Ge(null),Ir=Ge(null);function Dr(i,s){switch(Ze(Vn,s),Ze(ji,i),Ze(cn,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?pT(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=pT(i),s=gT(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}dt(cn),Ze(cn,s)}function zi(){dt(cn),dt(ji),dt(Vn)}function yl(i){i.memoizedState!==null&&Ze(Ir,i);var s=cn.current,o=gT(s,i.type);s!==o&&(Ze(ji,i),Ze(cn,o))}function Ua(i){ji.current===i&&(dt(cn),dt(ji)),Ir.current===i&&(dt(Ir),yu._currentValue=Re)}var ja=Object.prototype.hasOwnProperty,js=t.unstable_scheduleCallback,za=t.unstable_cancelCallback,Ad=t.unstable_shouldYield,vl=t.unstable_requestPaint,vn=t.unstable_now,xc=t.unstable_getCurrentPriorityLevel,It=t.unstable_ImmediatePriority,Lt=t.unstable_UserBlockingPriority,Bi=t.unstable_NormalPriority,Ic=t.unstable_LowPriority,_l=t.unstable_IdlePriority,Rd=t.log,zs=t.unstable_setDisableYieldValue,Mr=null,en=null;function Tl(i){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Mr,i,void 0,(i.current.flags&128)===128)}catch{}}function pi(i){if(typeof Rd=="function"&&zs(i),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Mr,i)}catch{}}var hn=Math.clz32?Math.clz32:Mc,El=Math.log,Dc=Math.LN2;function Mc(i){return i>>>=0,i===0?32:31-(El(i)/Dc|0)|0}var gi=128,Vr=4194304;function ti(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pn(i,s){var o=i.pendingLanes;if(o===0)return 0;var u=0,m=i.suspendedLanes,g=i.pingedLanes,E=i.warmLanes;i=i.finishedLanes!==0;var w=o&134217727;return w!==0?(o=w&~m,o!==0?u=ti(o):(g&=w,g!==0?u=ti(g):i||(E=w&~E,E!==0&&(u=ti(E))))):(w=o&~m,w!==0?u=ti(w):g!==0?u=ti(g):i||(E=o&~E,E!==0&&(u=ti(E)))),u===0?0:s!==0&&s!==u&&(s&m)===0&&(m=u&-u,E=s&-s,m>=E||m===32&&(E&4194176)!==0)?s:u}function Pr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ba(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bl(){var i=gi;return gi<<=1,(gi&4194176)===0&&(gi=128),i}function Or(){var i=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),i}function Fa(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Tt(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Vc(i,s,o,u,m,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,M=i.expirationTimes,z=i.hiddenUpdates;for(o=E&~o;0<o;){var J=31-hn(o),se=1<<J;w[J]=0,M[J]=-1;var Q=z[J];if(Q!==null)for(z[J]=null,J=0;J<Q.length;J++){var Z=Q[J];Z!==null&&(Z.lane&=-536870913)}o&=~se}u!==0&&Nr(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function Nr(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-hn(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function kr(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-hn(o),m=1<<u;m&s|i[u]&s&&(i[u]|=s),o&=~m}}function Pc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Oc(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:OT(i.type))}function Lr(i,s){var o=ue.p;try{return ue.p=i,s()}finally{ue.p=o}}var yi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+yi,Dt="__reactProps$"+yi,Fi="__reactContainer$"+yi,Bs="__reactEvents$"+yi,Ha="__reactListeners$"+yi,vi="__reactHandles$"+yi,wl="__reactResources$"+yi,Ur="__reactMarker$"+yi;function Fs(i){delete i[Ut],delete i[Dt],delete i[Bs],delete i[Ha],delete i[vi]}function ni(i){var s=i[Ut];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Fi]||o[Ut]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=_T(i);i!==null;){if(o=i[Ut])return o;i=_T(i)}return s}i=o,o=i.parentNode}return null}function Hi(i){if(i=i[Ut]||i[Fi]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function jr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function zr(i){var s=i[wl];return s||(s=i[wl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function lt(i){i[Ur]=!0}var Sl=new Set,qa={};function wn(i,s){_n(i,s),_n(i+"Capture",s)}function _n(i,s){for(qa[i]=s,i=0;i<s.length;i++)Sl.add(s[i])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},Rl={};function Nc(i){return ja.call(Rl,i)?!0:ja.call(Al,i)?!1:Cd.test(i)?Rl[i]=!0:(Al[i]=!0,!1)}function Br(i,s,o){if(Nc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Fr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function On(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function kc(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xd(i){var s=kc(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Hs(i){i._valueTracker||(i._valueTracker=xd(i))}function Cl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=kc(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Ga(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var qi=/[\n"\\]/g;function mt(i){return i.replace(qi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Hr(i,s,o,u,m,g,E,w){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+fn(s)):i.value!==""+fn(s)&&(i.value=""+fn(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Ka(i,E,fn(s)):o!=null?Ka(i,E,fn(o)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+fn(w):i.removeAttribute("name")}function qs(i,s,o,u,m,g,E,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+fn(o):"",s=s!=null?""+fn(s):o,w||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Ka(i,s,o){s==="number"&&Ga(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ke(i,s,o,u){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+fn(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Gs(i,s,o){if(s!=null&&(s=""+fn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+fn(o):""}function qr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ce(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=fn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Nn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Id.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Lc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&xl(i,m,u)}else for(var g in s)s.hasOwnProperty(g)&&xl(i,g,s[g])}function Il(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _i(i){return Md.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var kn=null;function $a(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Gi=null,Ki=null;function $i(i){var s=Hi(i);if(s&&(i=s.stateNode)){var o=i[Dt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Hr(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+mt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var m=u[Dt]||null;if(!m)throw Error(r(90));Hr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Cl(u)}break e;case"textarea":Gs(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ke(i,!!o.multiple,s,!1)}}}var Dl=!1;function Uc(i,s,o){if(Dl)return i(s,o);Dl=!0;try{var u=i(s);return u}finally{if(Dl=!1,(Gi!==null||Ki!==null)&&(Ih(),Gi&&(s=Gi,i=Ki,Ki=Gi=null,$i(s),i)))for(s=0;s<i.length;s++)$i(i[s])}}function Ks(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Dt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Ln=!1;if(Sn)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Ln=!1}var Ti=null,Gr=null,Yi=null;function Ml(){if(Yi)return Yi;var i,s=Gr,o=s.length,u,m="value"in Ti?Ti.value:Ti.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===m[g-u];u++);return Yi=m.slice(i,1<u?1-u:void 0)}function Ei(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function bi(){return!0}function Vl(){return!1}function jt(i){function s(o,u,m,g,E){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?bi:Vl,this.isPropagationStopped=Vl,this}return I(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),s}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=jt(Xe),Ys=I({},Xe,{view:0,detail:0}),jc=jt(Ys),Qa,Xa,wi,Qs=I({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(Qa=i.screenX-wi.screenX,Xa=i.screenY-wi.screenY):Xa=Qa=0,wi=i),Qa)},movementY:function(i){return"movementY"in i?i.movementY:Xa}}),Un=jt(Qs),zc=I({},Qs,{dataTransfer:0}),Vd=jt(zc),Xs=I({},Ys,{relatedTarget:0}),Wa=jt(Xs),Pl=I({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=jt(Pl),Bc=I({},Xe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ja=jt(Bc),Pd=I({},Xe,{data:0}),Ol=jt(Pd),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Hc[i])?!!s[i]:!1}function Zs(){return Nl}var qc=I({},Ys,{key:function(i){if(i.key){var s=Ws[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ei(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(i){return i.type==="keypress"?Ei(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ei(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),eo=jt(qc),Gc=I({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=jt(Gc),Qi=I({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),Kc=jt(Qi),$c=I({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yc=jt($c),Qc=I({},Qs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),to=jt(Qc),dn=I({},Xe,{newState:0,oldState:0}),Xc=jt(dn),Wc=[9,13,27,32],Si=Sn&&"CompositionEvent"in window,h=null;Sn&&"documentMode"in document&&(h=document.documentMode);var v=Sn&&"TextEvent"in window&&!h,T=Sn&&(!Si||h&&8<h&&11>=h),S=" ",G=!1;function X(i,s){switch(i){case"keyup":return Wc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Be=!1;function Mt(i,s){switch(i){case"compositionend":return oe(s);case"keypress":return s.which!==32?null:(G=!0,S);case"textInput":return i=s.data,i===S&&G?null:i;default:return null}}function Fe(i,s){if(Be)return i==="compositionend"||!Si&&X(i,s)?(i=Ml(),Yi=Gr=Ti=null,Be=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!zt[i.type]:s==="textarea"}function Xi(i,s,o,u){Gi?Ki?Ki.push(u):Ki=[u]:Gi=u,s=Oh(s,"onChange"),0<s.length&&(o=new Ya("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Kt=null,Ai=null;function Ll(i){cT(i,0)}function Zc(i){var s=jr(i);if(Cl(s))return i}function jv(i,s){if(i==="change")return s}var zv=!1;if(Sn){var Od;if(Sn){var Nd="oninput"in document;if(!Nd){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),Nd=typeof Bv.oninput=="function"}Od=Nd}else Od=!1;zv=Od&&(!document.documentMode||9<document.documentMode)}function Fv(){Kt&&(Kt.detachEvent("onpropertychange",Hv),Ai=Kt=null)}function Hv(i){if(i.propertyName==="value"&&Zc(Ai)){var s=[];Xi(s,Ai,i,$a(i)),Uc(Ll,s)}}function zC(i,s,o){i==="focusin"?(Fv(),Kt=s,Ai=o,Kt.attachEvent("onpropertychange",Hv)):i==="focusout"&&Fv()}function BC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Zc(Ai)}function FC(i,s){if(i==="click")return Zc(s)}function HC(i,s){if(i==="input"||i==="change")return Zc(s)}function qC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var An=typeof Object.is=="function"?Object.is:qC;function Ul(i,s){if(An(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!ja.call(s,m)||!An(i[m],s[m]))return!1}return!0}function qv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gv(i,s){var o=qv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=qv(o)}}function Kv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Kv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function $v(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ga(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Ga(i.document)}return s}function kd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function GC(i,s){var o=$v(s);s=i.focusedElem;var u=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Kv(s.ownerDocument.documentElement,s)){if(u!==null&&kd(s)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var m=s.textContent.length,g=Math.min(u.start,m);u=u.end===void 0?g:Math.min(u.end,m),!o.extend&&g>u&&(m=u,u=g,g=m),m=Gv(s,g);var E=Gv(s,u);m&&E&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),o.removeAllRanges(),g>u?(o.addRange(i),o.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var KC=Sn&&"documentMode"in document&&11>=document.documentMode,no=null,Ld=null,jl=null,Ud=!1;function Yv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ud||no==null||no!==Ga(u)||(u=no,"selectionStart"in u&&kd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Ul(jl,u)||(jl=u,u=Oh(Ld,"onSelect"),0<u.length&&(s=new Ya("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=no)))}function Js(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var io={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},jd={},Qv={};Sn&&(Qv=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ea(i){if(jd[i])return jd[i];if(!io[i])return i;var s=io[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Qv)return jd[i]=s[o];return i}var Xv=ea("animationend"),Wv=ea("animationiteration"),Zv=ea("animationstart"),$C=ea("transitionrun"),YC=ea("transitionstart"),QC=ea("transitioncancel"),Jv=ea("transitionend"),e_=new Map,t_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ii(i,s){e_.set(i,s),wn(s,[i])}var jn=[],ro=0,zd=0;function Jc(){for(var i=ro,s=zd=ro=0;s<i;){var o=jn[s];jn[s++]=null;var u=jn[s];jn[s++]=null;var m=jn[s];jn[s++]=null;var g=jn[s];if(jn[s++]=null,u!==null&&m!==null){var E=u.pending;E===null?m.next=m:(m.next=E.next,E.next=m),u.pending=m}g!==0&&n_(o,m,g)}}function eh(i,s,o,u){jn[ro++]=i,jn[ro++]=s,jn[ro++]=o,jn[ro++]=u,zd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Bd(i,s,o,u){return eh(i,s,o,u),th(i)}function Kr(i,s){return eh(i,null,null,s),th(i)}function n_(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;m&&s!==null&&i.tag===3&&(g=i.stateNode,m=31-hn(o),g=g.hiddenUpdates,i=g[m],i===null?g[m]=[s]:i.push(s),s.lane=o|536870912)}function th(i){if(50<cu)throw cu=0,$m=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var so={},i_=new WeakMap;function zn(i,s){if(typeof i=="object"&&i!==null){var o=i_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:he(s)},i_.set(i,s),s)}return{value:i,source:s,stack:he(s)}}var ao=[],oo=0,nh=null,ih=0,Bn=[],Fn=0,ta=null,Wi=1,Zi="";function na(i,s){ao[oo++]=ih,ao[oo++]=nh,nh=i,ih=s}function r_(i,s,o){Bn[Fn++]=Wi,Bn[Fn++]=Zi,Bn[Fn++]=ta,ta=i;var u=Wi;i=Zi;var m=32-hn(u)-1;u&=~(1<<m),o+=1;var g=32-hn(s)+m;if(30<g){var E=m-m%5;g=(u&(1<<E)-1).toString(32),u>>=E,m-=E,Wi=1<<32-hn(s)+m|o<<m|u,Zi=g+i}else Wi=1<<g|o<<m|u,Zi=i}function Fd(i){i.return!==null&&(na(i,1),r_(i,1,0))}function Hd(i){for(;i===nh;)nh=ao[--oo],ao[oo]=null,ih=ao[--oo],ao[oo]=null;for(;i===ta;)ta=Bn[--Fn],Bn[Fn]=null,Zi=Bn[--Fn],Bn[Fn]=null,Wi=Bn[--Fn],Bn[Fn]=null}var mn=null,$t=null,$e=!1,ri=null,Ri=!1,qd=Error(r(519));function ia(i){var s=Error(r(418,""));throw Fl(zn(s,i)),qd}function s_(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ut]=i,s[Dt]=u,o){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(o=0;o<fu.length;o++)Ue(fu[o],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),qs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Hs(s);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),qr(s,u.value,u.defaultValue,u.children),Hs(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||mT(s.textContent,o)?(u.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),u.onScroll!=null&&Ue("scroll",s),u.onScrollEnd!=null&&Ue("scrollend",s),u.onClick!=null&&(s.onclick=Nh),s=!0):s=!1,s||ia(i)}function a_(i){for(mn=i.return;mn;)switch(mn.tag){case 3:case 27:Ri=!0;return;case 5:case 13:Ri=!1;return;default:mn=mn.return}}function zl(i){if(i!==mn)return!1;if(!$e)return a_(i),$e=!0,!1;var s=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||cp(i.type,i.memoizedProps)),o=!o),o&&(s=!0),s&&$t&&ia(i),a_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){$t=ai(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}$t=null}}else $t=mn?ai(i.stateNode.nextSibling):null;return!0}function Bl(){$t=mn=null,$e=!1}function Fl(i){ri===null?ri=[i]:ri.push(i)}var Hl=Error(r(460)),o_=Error(r(474)),Gd={then:function(){}};function l_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function rh(){}function u_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(rh,rh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Hl?Error(r(483)):i;default:if(typeof s.status=="string")s.then(rh,rh);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Hl?Error(r(483)):i}throw ql=s,Hl}}var ql=null;function c_(){if(ql===null)throw Error(r(459));var i=ql;return ql=null,i}var lo=null,Gl=0;function sh(i){var s=Gl;return Gl+=1,lo===null&&(lo=[]),u_(lo,i,s)}function Kl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ah(i,s){throw s.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function h_(i){var s=i._init;return s(i._payload)}function f_(i){function s(H,j){if(i){var $=H.deletions;$===null?(H.deletions=[j],H.flags|=16):$.push(j)}}function o(H,j){if(!i)return null;for(;j!==null;)s(H,j),j=j.sibling;return null}function u(H){for(var j=new Map;H!==null;)H.key!==null?j.set(H.key,H):j.set(H.index,H),H=H.sibling;return j}function m(H,j){return H=rs(H,j),H.index=0,H.sibling=null,H}function g(H,j,$){return H.index=$,i?($=H.alternate,$!==null?($=$.index,$<j?(H.flags|=33554434,j):$):(H.flags|=33554434,j)):(H.flags|=1048576,j)}function E(H){return i&&H.alternate===null&&(H.flags|=33554434),H}function w(H,j,$,ne){return j===null||j.tag!==6?(j=jm($,H.mode,ne),j.return=H,j):(j=m(j,$),j.return=H,j)}function M(H,j,$,ne){var me=$.type;return me===d?J(H,j,$.props.children,ne,$.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Y&&h_(me)===j.type)?(j=m(j,$.props),Kl(j,$),j.return=H,j):(j=Sh($.type,$.key,$.props,null,H.mode,ne),Kl(j,$),j.return=H,j)}function z(H,j,$,ne){return j===null||j.tag!==4||j.stateNode.containerInfo!==$.containerInfo||j.stateNode.implementation!==$.implementation?(j=zm($,H.mode,ne),j.return=H,j):(j=m(j,$.children||[]),j.return=H,j)}function J(H,j,$,ne,me){return j===null||j.tag!==7?(j=da($,H.mode,ne,me),j.return=H,j):(j=m(j,$),j.return=H,j)}function se(H,j,$){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=jm(""+j,H.mode,$),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c:return $=Sh(j.type,j.key,j.props,null,H.mode,$),Kl($,j),$.return=H,$;case f:return j=zm(j,H.mode,$),j.return=H,j;case Y:var ne=j._init;return j=ne(j._payload),se(H,j,$)}if(ce(j)||B(j))return j=da(j,H.mode,$,null),j.return=H,j;if(typeof j.then=="function")return se(H,sh(j),$);if(j.$$typeof===A)return se(H,Eh(H,j),$);ah(H,j)}return null}function Q(H,j,$,ne){var me=j!==null?j.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:w(H,j,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return $.key===me?M(H,j,$,ne):null;case f:return $.key===me?z(H,j,$,ne):null;case Y:return me=$._init,$=me($._payload),Q(H,j,$,ne)}if(ce($)||B($))return me!==null?null:J(H,j,$,ne,null);if(typeof $.then=="function")return Q(H,j,sh($),ne);if($.$$typeof===A)return Q(H,j,Eh(H,$),ne);ah(H,$)}return null}function Z(H,j,$,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get($)||null,w(j,H,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case c:return H=H.get(ne.key===null?$:ne.key)||null,M(j,H,ne,me);case f:return H=H.get(ne.key===null?$:ne.key)||null,z(j,H,ne,me);case Y:var Pe=ne._init;return ne=Pe(ne._payload),Z(H,j,$,ne,me)}if(ce(ne)||B(ne))return H=H.get($)||null,J(j,H,ne,me,null);if(typeof ne.then=="function")return Z(H,j,$,sh(ne),me);if(ne.$$typeof===A)return Z(H,j,$,Eh(j,ne),me);ah(j,ne)}return null}function ve(H,j,$,ne){for(var me=null,Pe=null,_e=j,Ee=j=0,Ht=null;_e!==null&&Ee<$.length;Ee++){_e.index>Ee?(Ht=_e,_e=null):Ht=_e.sibling;var Ye=Q(H,_e,$[Ee],ne);if(Ye===null){_e===null&&(_e=Ht);break}i&&_e&&Ye.alternate===null&&s(H,_e),j=g(Ye,j,Ee),Pe===null?me=Ye:Pe.sibling=Ye,Pe=Ye,_e=Ht}if(Ee===$.length)return o(H,_e),$e&&na(H,Ee),me;if(_e===null){for(;Ee<$.length;Ee++)_e=se(H,$[Ee],ne),_e!==null&&(j=g(_e,j,Ee),Pe===null?me=_e:Pe.sibling=_e,Pe=_e);return $e&&na(H,Ee),me}for(_e=u(_e);Ee<$.length;Ee++)Ht=Z(_e,H,Ee,$[Ee],ne),Ht!==null&&(i&&Ht.alternate!==null&&_e.delete(Ht.key===null?Ee:Ht.key),j=g(Ht,j,Ee),Pe===null?me=Ht:Pe.sibling=Ht,Pe=Ht);return i&&_e.forEach(function(hs){return s(H,hs)}),$e&&na(H,Ee),me}function Ie(H,j,$,ne){if($==null)throw Error(r(151));for(var me=null,Pe=null,_e=j,Ee=j=0,Ht=null,Ye=$.next();_e!==null&&!Ye.done;Ee++,Ye=$.next()){_e.index>Ee?(Ht=_e,_e=null):Ht=_e.sibling;var hs=Q(H,_e,Ye.value,ne);if(hs===null){_e===null&&(_e=Ht);break}i&&_e&&hs.alternate===null&&s(H,_e),j=g(hs,j,Ee),Pe===null?me=hs:Pe.sibling=hs,Pe=hs,_e=Ht}if(Ye.done)return o(H,_e),$e&&na(H,Ee),me;if(_e===null){for(;!Ye.done;Ee++,Ye=$.next())Ye=se(H,Ye.value,ne),Ye!==null&&(j=g(Ye,j,Ee),Pe===null?me=Ye:Pe.sibling=Ye,Pe=Ye);return $e&&na(H,Ee),me}for(_e=u(_e);!Ye.done;Ee++,Ye=$.next())Ye=Z(_e,H,Ee,Ye.value,ne),Ye!==null&&(i&&Ye.alternate!==null&&_e.delete(Ye.key===null?Ee:Ye.key),j=g(Ye,j,Ee),Pe===null?me=Ye:Pe.sibling=Ye,Pe=Ye);return i&&_e.forEach(function(uI){return s(H,uI)}),$e&&na(H,Ee),me}function yt(H,j,$,ne){if(typeof $=="object"&&$!==null&&$.type===d&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case c:e:{for(var me=$.key;j!==null;){if(j.key===me){if(me=$.type,me===d){if(j.tag===7){o(H,j.sibling),ne=m(j,$.props.children),ne.return=H,H=ne;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Y&&h_(me)===j.type){o(H,j.sibling),ne=m(j,$.props),Kl(ne,$),ne.return=H,H=ne;break e}o(H,j);break}else s(H,j);j=j.sibling}$.type===d?(ne=da($.props.children,H.mode,ne,$.key),ne.return=H,H=ne):(ne=Sh($.type,$.key,$.props,null,H.mode,ne),Kl(ne,$),ne.return=H,H=ne)}return E(H);case f:e:{for(me=$.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===$.containerInfo&&j.stateNode.implementation===$.implementation){o(H,j.sibling),ne=m(j,$.children||[]),ne.return=H,H=ne;break e}else{o(H,j);break}else s(H,j);j=j.sibling}ne=zm($,H.mode,ne),ne.return=H,H=ne}return E(H);case Y:return me=$._init,$=me($._payload),yt(H,j,$,ne)}if(ce($))return ve(H,j,$,ne);if(B($)){if(me=B($),typeof me!="function")throw Error(r(150));return $=me.call($),Ie(H,j,$,ne)}if(typeof $.then=="function")return yt(H,j,sh($),ne);if($.$$typeof===A)return yt(H,j,Eh(H,$),ne);ah(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,j!==null&&j.tag===6?(o(H,j.sibling),ne=m(j,$),ne.return=H,H=ne):(o(H,j),ne=jm($,H.mode,ne),ne.return=H,H=ne),E(H)):o(H,j)}return function(H,j,$,ne){try{Gl=0;var me=yt(H,j,$,ne);return lo=null,me}catch(_e){if(_e===Hl)throw _e;var Pe=Kn(29,_e,null,H.mode);return Pe.lanes=ne,Pe.return=H,Pe}finally{}}}var ra=f_(!0),d_=f_(!1),uo=Ge(null),oh=Ge(0);function m_(i,s){i=ur,Ze(oh,i),Ze(uo,s),ur=i|s.baseLanes}function Kd(){Ze(oh,ur),Ze(uo,uo.current)}function $d(){ur=oh.current,dt(uo),dt(oh)}var Hn=Ge(null),Ci=null;function $r(i){var s=i.alternate;Ze(Pt,Pt.current&1),Ze(Hn,i),Ci===null&&(s===null||uo.current!==null||s.memoizedState!==null)&&(Ci=i)}function p_(i){if(i.tag===22){if(Ze(Pt,Pt.current),Ze(Hn,i),Ci===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ci=i)}}else Yr()}function Yr(){Ze(Pt,Pt.current),Ze(Hn,Hn.current)}function Ji(i){dt(Hn),Ci===i&&(Ci=null),dt(Pt)}var Pt=Ge(0);function lh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var XC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},WC=t.unstable_scheduleCallback,ZC=t.unstable_NormalPriority,Ot={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new XC,data:new Map,refCount:0}}function $l(i){i.refCount--,i.refCount===0&&WC(ZC,function(){i.controller.abort()})}var Yl=null,Qd=0,co=0,ho=null;function JC(i,s){if(Yl===null){var o=Yl=[];Qd=0,co=tp(),ho={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Qd++,s.then(g_,g_),s}function g_(){if(--Qd===0&&Yl!==null){ho!==null&&(ho.status="fulfilled");var i=Yl;Yl=null,co=0,ho=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function ex(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var y_=C.S;C.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&JC(i,s),y_!==null&&y_(i,s)};var sa=Ge(null);function Xd(){var i=sa.current;return i!==null?i:nt.pooledCache}function uh(i,s){s===null?Ze(sa,sa.current):Ze(sa,s.pool)}function v_(){var i=Xd();return i===null?null:{parent:Ot._currentValue,pool:i}}var Qr=0,Ve=null,Je=null,St=null,ch=!1,fo=!1,aa=!1,hh=0,Ql=0,mo=null,tx=0;function Et(){throw Error(r(321))}function Wd(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!An(i[o],s[o]))return!1;return!0}function Zd(i,s,o,u,m,g){return Qr=g,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=i===null||i.memoizedState===null?oa:Xr,aa=!1,g=o(u,m),aa=!1,fo&&(g=T_(s,o,u,m)),__(i),g}function __(i){C.H=xi;var s=Je!==null&&Je.next!==null;if(Qr=0,St=Je=Ve=null,ch=!1,Ql=0,mo=null,s)throw Error(r(300));i===null||Bt||(i=i.dependencies,i!==null&&Th(i)&&(Bt=!0))}function T_(i,s,o,u){Ve=i;var m=0;do{if(fo&&(mo=null),Ql=0,fo=!1,25<=m)throw Error(r(301));if(m+=1,St=Je=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}C.H=la,g=s(o,u)}while(fo);return g}function nx(){var i=C.H,s=i.useState()[0];return s=typeof s.then=="function"?Xl(s):s,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Ve.flags|=1024),s}function Jd(){var i=hh!==0;return hh=0,i}function em(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function tm(i){if(ch){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ch=!1}Qr=0,St=Je=Ve=null,fo=!1,Ql=hh=0,mo=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ve.memoizedState=St=i:St=St.next=i,St}function At(){if(Je===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var s=St===null?Ve.memoizedState:St.next;if(s!==null)St=s,Je=i;else{if(i===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},St===null?Ve.memoizedState=St=i:St=St.next=i}return St}var fh;fh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Xl(i){var s=Ql;return Ql+=1,mo===null&&(mo=[]),i=u_(mo,i,s),s=Ve,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?oa:Xr),i}function dh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xl(i);if(i.$$typeof===A)return tn(i)}throw Error(r(438,String(i)))}function nm(i){var s=null,o=Ve.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=fh(),Ve.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=ee;return s.index++,o}function er(i,s){return typeof s=="function"?s(i):s}function mh(i){var s=At();return im(s,Je,i)}function im(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var E=m.next;m.next=g.next,g.next=E}s.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var w=E=null,M=null,z=s,J=!1;do{var se=z.lane&-536870913;if(se!==z.lane?(He&se)===se:(Qr&se)===se){var Q=z.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),se===co&&(J=!0);else if((Qr&Q)===Q){z=z.next,Q===co&&(J=!0);continue}else se={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(w=M=se,E=g):M=M.next=se,Ve.lanes|=Q,ss|=Q;se=z.action,aa&&o(g,se),g=z.hasEagerState?z.eagerState:o(g,se)}else Q={lane:se,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(w=M=Q,E=g):M=M.next=Q,Ve.lanes|=se,ss|=se;z=z.next}while(z!==null&&z!==s);if(M===null?E=g:M.next=w,!An(g,i.memoizedState)&&(Bt=!0,J&&(o=ho,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=M,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function rm(i){var s=At(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do g=i(g,E.action),E=E.next;while(E!==m);An(g,s.memoizedState)||(Bt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function E_(i,s,o){var u=Ve,m=At(),g=$e;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!An((Je||m).memoizedState,o);if(E&&(m.memoizedState=o,Bt=!0),m=m.queue,om(S_.bind(null,u,m,i),[i]),m.getSnapshot!==s||E||St!==null&&St.memoizedState.tag&1){if(u.flags|=2048,po(9,w_.bind(null,u,m,o,s),{destroy:void 0},null),nt===null)throw Error(r(349));g||(Qr&60)!==0||b_(u,s,o)}return o}function b_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ve.updateQueue,s===null?(s=fh(),Ve.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function w_(i,s,o,u){s.value=o,s.getSnapshot=u,A_(s)&&R_(i)}function S_(i,s,o){return o(function(){A_(s)&&R_(i)})}function A_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!An(i,o)}catch{return!0}}function R_(i){var s=Kr(i,2);s!==null&&pn(s,i,2)}function sm(i){var s=Tn();if(typeof i=="function"){var o=i;if(i=o(),aa){pi(!0);try{o()}finally{pi(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:i},s}function C_(i,s,o,u){return i.baseState=o,im(i,Je,typeof u=="function"?u:er)}function ix(i,s,o,u,m){if(yh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};C.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,x_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function x_(i,s){var o=s.action,u=s.payload,m=i.state;if(s.isTransition){var g=C.T,E={};C.T=E;try{var w=o(m,u),M=C.S;M!==null&&M(E,w),I_(i,s,w)}catch(z){am(i,s,z)}finally{C.T=g}}else try{g=o(m,u),I_(i,s,g)}catch(z){am(i,s,z)}}function I_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){D_(i,s,u)},function(u){return am(i,s,u)}):D_(i,s,o)}function D_(i,s,o){s.status="fulfilled",s.value=o,M_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,x_(i,o)))}function am(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,M_(s),s=s.next;while(s!==u)}i.action=null}function M_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function V_(i,s){return s}function P_(i,s){if($e){var o=nt.formState;if(o!==null){e:{var u=Ve;if($e){if($t){t:{for(var m=$t,g=Ri;m.nodeType!==8;){if(!g){m=null;break t}if(m=ai(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){$t=ai(m.nextSibling),u=m.data==="F!";break e}}ia(u)}u=!1}u&&(s=o[0])}}return o=Tn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V_,lastRenderedState:s},o.queue=u,o=W_.bind(null,Ve,u),u.dispatch=o,u=sm(!1),g=fm.bind(null,Ve,!1,u.queue),u=Tn(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,o=ix.bind(null,Ve,m,g,o),m.dispatch=o,u.memoizedState=i,[s,o,!1]}function O_(i){var s=At();return N_(s,Je,i)}function N_(i,s,o){s=im(i,s,V_)[0],i=mh(er)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Xl(s):s;var u=At(),m=u.queue,g=m.dispatch;return o!==u.memoizedState&&(Ve.flags|=2048,po(9,rx.bind(null,m,o),{destroy:void 0},null)),[s,g,i]}function rx(i,s){i.action=s}function k_(i){var s=At(),o=Je;if(o!==null)return N_(s,o,i);At(),s=s.memoizedState,o=At();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function po(i,s,o,u){return i={tag:i,create:s,inst:o,deps:u,next:null},s=Ve.updateQueue,s===null&&(s=fh(),Ve.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function L_(){return At().memoizedState}function ph(i,s,o,u){var m=Tn();Ve.flags|=i,m.memoizedState=po(1|s,o,{destroy:void 0},u===void 0?null:u)}function gh(i,s,o,u){var m=At();u=u===void 0?null:u;var g=m.memoizedState.inst;Je!==null&&u!==null&&Wd(u,Je.memoizedState.deps)?m.memoizedState=po(s,o,g,u):(Ve.flags|=i,m.memoizedState=po(1|s,o,g,u))}function U_(i,s){ph(8390656,8,i,s)}function om(i,s){gh(2048,8,i,s)}function j_(i,s){return gh(4,2,i,s)}function z_(i,s){return gh(4,4,i,s)}function B_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function F_(i,s,o){o=o!=null?o.concat([i]):null,gh(4,4,B_.bind(null,s,i),o)}function lm(){}function H_(i,s){var o=At();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Wd(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function q_(i,s){var o=At();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Wd(s,u[1]))return u[0];if(u=i(),aa){pi(!0);try{i()}finally{pi(!1)}}return o.memoizedState=[u,s],u}function um(i,s,o){return o===void 0||(Qr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=K0(),Ve.lanes|=i,ss|=i,o)}function G_(i,s,o,u){return An(o,s)?o:uo.current!==null?(i=um(i,o,u),An(i,s)||(Bt=!0),i):(Qr&42)===0?(Bt=!0,i.memoizedState=o):(i=K0(),Ve.lanes|=i,ss|=i,s)}function K_(i,s,o,u,m){var g=ue.p;ue.p=g!==0&&8>g?g:8;var E=C.T,w={};C.T=w,fm(i,!1,s,o);try{var M=m(),z=C.S;if(z!==null&&z(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=ex(M,u);Wl(i,s,J,In(i))}else Wl(i,s,u,In(i))}catch(se){Wl(i,s,{then:function(){},status:"rejected",reason:se},In())}finally{ue.p=g,C.T=E}}function sx(){}function cm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var m=$_(i).queue;K_(i,m,s,Re,o===null?sx:function(){return Y_(i),o(u)})}function $_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:Re},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Y_(i){var s=$_(i).next.queue;Wl(i,s,{},In())}function hm(){return tn(yu)}function Q_(){return At().memoizedState}function X_(){return At().memoizedState}function ax(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=In();i=Jr(o);var u=es(s,i,o);u!==null&&(pn(u,s,o),eu(u,s,o)),s={cache:Yd()},i.payload=s;return}s=s.return}}function ox(i,s,o){var u=In();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},yh(i)?Z_(s,o):(o=Bd(i,s,o,u),o!==null&&(pn(o,i,u),J_(o,s,u)))}function W_(i,s,o){var u=In();Wl(i,s,o,u)}function Wl(i,s,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(yh(i))Z_(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,w=g(E,o);if(m.hasEagerState=!0,m.eagerState=w,An(w,E))return eh(i,s,m,0),nt===null&&Jc(),!1}catch{}finally{}if(o=Bd(i,s,m,u),o!==null)return pn(o,i,u),J_(o,s,u),!0}return!1}function fm(i,s,o,u){if(u={lane:2,revertLane:tp(),action:u,hasEagerState:!1,eagerState:null,next:null},yh(i)){if(s)throw Error(r(479))}else s=Bd(i,o,u,2),s!==null&&pn(s,i,2)}function yh(i){var s=i.alternate;return i===Ve||s!==null&&s===Ve}function Z_(i,s){fo=ch=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function J_(i,s,o){if((o&4194176)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,kr(i,o)}}var xi={readContext:tn,use:dh,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et};xi.useCacheRefresh=Et,xi.useMemoCache=Et,xi.useHostTransitionStatus=Et,xi.useFormState=Et,xi.useActionState=Et,xi.useOptimistic=Et;var oa={readContext:tn,use:dh,useCallback:function(i,s){return Tn().memoizedState=[i,s===void 0?null:s],i},useContext:tn,useEffect:U_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,ph(4194308,4,B_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ph(4194308,4,i,s)},useInsertionEffect:function(i,s){ph(4,2,i,s)},useMemo:function(i,s){var o=Tn();s=s===void 0?null:s;var u=i();if(aa){pi(!0);try{i()}finally{pi(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=Tn();if(o!==void 0){var m=o(s);if(aa){pi(!0);try{o(s)}finally{pi(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=ox.bind(null,Ve,i),[u.memoizedState,i]},useRef:function(i){var s=Tn();return i={current:i},s.memoizedState=i},useState:function(i){i=sm(i);var s=i.queue,o=W_.bind(null,Ve,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:lm,useDeferredValue:function(i,s){var o=Tn();return um(o,i,s)},useTransition:function(){var i=sm(!1);return i=K_.bind(null,Ve,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ve,m=Tn();if($e){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),nt===null)throw Error(r(349));(He&60)!==0||b_(u,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,U_(S_.bind(null,u,g,i),[i]),u.flags|=2048,po(9,w_.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var i=Tn(),s=nt.identifierPrefix;if($e){var o=Zi,u=Wi;o=(u&~(1<<32-hn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=hh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=tx++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Tn().memoizedState=ax.bind(null,Ve)}};oa.useMemoCache=nm,oa.useHostTransitionStatus=hm,oa.useFormState=P_,oa.useActionState=P_,oa.useOptimistic=function(i){var s=Tn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=fm.bind(null,Ve,!0,o),o.dispatch=s,[i,s]};var Xr={readContext:tn,use:dh,useCallback:H_,useContext:tn,useEffect:om,useImperativeHandle:F_,useInsertionEffect:j_,useLayoutEffect:z_,useMemo:q_,useReducer:mh,useRef:L_,useState:function(){return mh(er)},useDebugValue:lm,useDeferredValue:function(i,s){var o=At();return G_(o,Je.memoizedState,i,s)},useTransition:function(){var i=mh(er)[0],s=At().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:E_,useId:Q_};Xr.useCacheRefresh=X_,Xr.useMemoCache=nm,Xr.useHostTransitionStatus=hm,Xr.useFormState=O_,Xr.useActionState=O_,Xr.useOptimistic=function(i,s){var o=At();return C_(o,Je,i,s)};var la={readContext:tn,use:dh,useCallback:H_,useContext:tn,useEffect:om,useImperativeHandle:F_,useInsertionEffect:j_,useLayoutEffect:z_,useMemo:q_,useReducer:rm,useRef:L_,useState:function(){return rm(er)},useDebugValue:lm,useDeferredValue:function(i,s){var o=At();return Je===null?um(o,i,s):G_(o,Je.memoizedState,i,s)},useTransition:function(){var i=rm(er)[0],s=At().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:E_,useId:Q_};la.useCacheRefresh=X_,la.useMemoCache=nm,la.useHostTransitionStatus=hm,la.useFormState=k_,la.useActionState=k_,la.useOptimistic=function(i,s){var o=At();return Je!==null?C_(o,Je,i,s):(o.baseState=i,[i,o.queue.dispatch])};function dm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:I({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var mm={isMounted:function(i){return(i=i._reactInternals)?le(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var u=In(),m=Jr(u);m.payload=s,o!=null&&(m.callback=o),s=es(i,m,u),s!==null&&(pn(s,i,u),eu(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=In(),m=Jr(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=es(i,m,u),s!==null&&(pn(s,i,u),eu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=In(),u=Jr(o);u.tag=2,s!=null&&(u.callback=s),s=es(i,u,o),s!==null&&(pn(s,i,o),eu(s,i,o))}};function e0(i,s,o,u,m,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Ul(o,u)||!Ul(m,g):!0}function t0(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&mm.enqueueReplaceState(s,s.state,null)}function ua(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=I({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var vh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function n0(i){vh(i)}function i0(i){console.error(i)}function r0(i){vh(i)}function _h(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function s0(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function pm(i,s,o){return o=Jr(o),o.tag=3,o.payload={element:null},o.callback=function(){_h(i,s)},o}function a0(i){return i=Jr(i),i.tag=3,i}function o0(i,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){s0(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){s0(s,o,u),typeof m!="function"&&(as===null?as=new Set([this]):as.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function lx(i,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Jl(s,o,m,!0),o=Hn.current,o!==null){switch(o.tag){case 13:return Ci===null?Xm():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Gd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Zm(i,u,m)),!1;case 22:return o.flags|=65536,u===Gd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Zm(i,u,m)),!1}throw Error(r(435,o.tag))}return Zm(i,u,m),Xm(),!1}if($e)return s=Hn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==qd&&(i=Error(r(422),{cause:u}),Fl(zn(i,o)))):(u!==qd&&(s=Error(r(423),{cause:u}),Fl(zn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=zn(u,o),m=pm(i.stateNode,u,m),Dm(i,m),gt!==4&&(gt=2)),!1;var g=Error(r(520),{cause:u});if(g=zn(g,o),lu===null?lu=[g]:lu.push(g),gt!==4&&(gt=2),s===null)return!0;u=zn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=pm(o.stateNode,u,i),Dm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(as===null||!as.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=a0(m),o0(m,i,o,u),Dm(o,m),!1}o=o.return}while(o!==null);return!1}var l0=Error(r(461)),Bt=!1;function Yt(i,s,o,u){s.child=i===null?d_(s,null,o,u):ra(s,i.child,o,u)}function u0(i,s,o,u,m){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return ha(s),u=Zd(i,s,o,E,g,m),w=Jd(),i!==null&&!Bt?(em(i,s,m),tr(i,s,m)):($e&&w&&Fd(s),s.flags|=1,Yt(i,s,u,m),s.child)}function c0(i,s,o,u,m){if(i===null){var g=o.type;return typeof g=="function"&&!Um(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,h0(i,s,g,u,m)):(i=Sh(o.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Sm(i,m)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ul,o(E,u)&&i.ref===s.ref)return tr(i,s,m)}return s.flags|=1,i=rs(g,u),i.ref=s.ref,i.return=s,s.child=i}function h0(i,s,o,u,m){if(i!==null){var g=i.memoizedProps;if(Ul(g,u)&&i.ref===s.ref)if(Bt=!1,s.pendingProps=u=g,Sm(i,m))(i.flags&131072)!==0&&(Bt=!0);else return s.lanes=i.lanes,tr(i,s,m)}return gm(i,s,o,u,m)}function f0(i,s,o){var u=s.pendingProps,m=u.children,g=(s.stateNode._pendingVisibility&2)!==0,E=i!==null?i.memoizedState:null;if(Zl(i,s),u.mode==="hidden"||g){if((s.flags&128)!==0){if(u=E!==null?E.baseLanes|o:o,i!==null){for(m=s.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return d0(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&uh(s,E!==null?E.cachePool:null),E!==null?m_(s,E):Kd(),p_(s);else return s.lanes=s.childLanes=536870912,d0(i,s,E!==null?E.baseLanes|o:o,o)}else E!==null?(uh(s,E.cachePool),m_(s,E),Yr(),s.memoizedState=null):(i!==null&&uh(s,null),Kd(),Yr());return Yt(i,s,m,o),s.child}function d0(i,s,o,u){var m=Xd();return m=m===null?null:{parent:Ot._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&uh(s,null),Kd(),p_(s),i!==null&&Jl(i,s,u,!0),null}function Zl(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=2097664)}}function gm(i,s,o,u,m){return ha(s),o=Zd(i,s,o,u,void 0,m),u=Jd(),i!==null&&!Bt?(em(i,s,m),tr(i,s,m)):($e&&u&&Fd(s),s.flags|=1,Yt(i,s,o,m),s.child)}function m0(i,s,o,u,m,g){return ha(s),s.updateQueue=null,o=T_(s,u,o,m),__(i),u=Jd(),i!==null&&!Bt?(em(i,s,g),tr(i,s,g)):($e&&u&&Fd(s),s.flags|=1,Yt(i,s,o,g),s.child)}function p0(i,s,o,u,m){if(ha(s),s.stateNode===null){var g=so,E=o.contextType;typeof E=="object"&&E!==null&&(g=tn(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=mm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},xm(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?tn(E):so,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(dm(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&mm.enqueueReplaceState(g,g.state,null),nu(s,u,g,m),tu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,M=ua(o,w);g.props=M;var z=g.context,J=o.contextType;E=so,typeof J=="object"&&J!==null&&(E=tn(J));var se=o.getDerivedStateFromProps;J=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||z!==E)&&t0(s,g,u,E),Zr=!1;var Q=s.memoizedState;g.state=Q,nu(s,u,g,m),tu(),z=s.memoizedState,w||Q!==z||Zr?(typeof se=="function"&&(dm(s,o,se,u),z=s.memoizedState),(M=Zr||e0(s,o,M,u,Q,z,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=z),g.props=u,g.state=z,g.context=E,u=M):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Im(i,s),E=s.memoizedProps,J=ua(o,E),g.props=J,se=s.pendingProps,Q=g.context,z=o.contextType,M=so,typeof z=="object"&&z!==null&&(M=tn(z)),w=o.getDerivedStateFromProps,(z=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==se||Q!==M)&&t0(s,g,u,M),Zr=!1,Q=s.memoizedState,g.state=Q,nu(s,u,g,m),tu();var Z=s.memoizedState;E!==se||Q!==Z||Zr||i!==null&&i.dependencies!==null&&Th(i.dependencies)?(typeof w=="function"&&(dm(s,o,w,u),Z=s.memoizedState),(J=Zr||e0(s,o,J,u,Q,Z,M)||i!==null&&i.dependencies!==null&&Th(i.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,M)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=M,u=J):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Zl(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=ra(s,i.child,null,m),s.child=ra(s,null,o,m)):Yt(i,s,o,m),s.memoizedState=g.state,i=s.child):i=tr(i,s,m),i}function g0(i,s,o,u){return Bl(),s.flags|=256,Yt(i,s,o,u),s.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function vm(i){return{baseLanes:i,cachePool:v_()}}function _m(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=$n),i}function y0(i,s,o){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Pt.current&2)!==0),E&&(m=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if($e){if(m?$r(s):Yr(),$e){var w=$t,M;if(M=w){e:{for(M=w,w=Ri;M.nodeType!==8;){if(!w){w=null;break e}if(M=ai(M.nextSibling),M===null){w=null;break e}}w=M}w!==null?(s.memoizedState={dehydrated:w,treeContext:ta!==null?{id:Wi,overflow:Zi}:null,retryLane:536870912},M=Kn(18,null,null,0),M.stateNode=w,M.return=s,s.child=M,mn=s,$t=null,M=!0):M=!1}M||ia(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ji(s)}return w=u.children,u=u.fallback,m?(Yr(),m=s.mode,w=Em({mode:"hidden",children:w},m),u=da(u,m,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,m=s.child,m.memoizedState=vm(o),m.childLanes=_m(i,E,o),s.memoizedState=ym,u):($r(s),Tm(s,w))}if(M=i.memoizedState,M!==null&&(w=M.dehydrated,w!==null)){if(g)s.flags&256?($r(s),s.flags&=-257,s=bm(i,s,o)):s.memoizedState!==null?(Yr(),s.child=i.child,s.flags|=128,s=null):(Yr(),m=u.fallback,w=s.mode,u=Em({mode:"visible",children:u.children},w),m=da(m,w,o,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,ra(s,i.child,null,o),u=s.child,u.memoizedState=vm(o),u.childLanes=_m(i,E,o),s.memoizedState=ym,s=m);else if($r(s),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var z=E.dgst;E=z,u=Error(r(419)),u.stack="",u.digest=E,Fl({value:u,source:null,stack:null}),s=bm(i,s,o)}else if(Bt||Jl(i,s,o,!1),E=(o&i.childLanes)!==0,Bt||E){if(E=nt,E!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==M.retryLane)throw M.retryLane=u,Kr(i,u),pn(E,i,u),l0}w.data==="$?"||Xm(),s=bm(i,s,o)}else w.data==="$?"?(s.flags|=128,s.child=i.child,s=wx.bind(null,i),w._reactRetry=s,s=null):(i=M.treeContext,$t=ai(w.nextSibling),mn=s,$e=!0,ri=null,Ri=!1,i!==null&&(Bn[Fn++]=Wi,Bn[Fn++]=Zi,Bn[Fn++]=ta,Wi=i.id,Zi=i.overflow,ta=s),s=Tm(s,u.children),s.flags|=4096);return s}return m?(Yr(),m=u.fallback,w=s.mode,M=i.child,z=M.sibling,u=rs(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&31457280,z!==null?m=rs(z,m):(m=da(m,w,o,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,w=i.child.memoizedState,w===null?w=vm(o):(M=w.cachePool,M!==null?(z=Ot._currentValue,M=M.parent!==z?{parent:z,pool:z}:M):M=v_(),w={baseLanes:w.baseLanes|o,cachePool:M}),m.memoizedState=w,m.childLanes=_m(i,E,o),s.memoizedState=ym,u):($r(s),o=i.child,i=o.sibling,o=rs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function Tm(i,s){return s=Em({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Em(i,s){return H0(i,s,0,null)}function bm(i,s,o){return ra(s,i.child,null,o),i=Tm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function v0(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Rm(i.return,s,o)}function wm(i,s,o,u,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=m)}function _0(i,s,o){var u=s.pendingProps,m=u.revealOrder,g=u.tail;if(Yt(i,s,u.children,o),u=Pt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&v0(i,o,s);else if(i.tag===19)v0(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Ze(Pt,u),m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&lh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),wm(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&lh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}wm(s,!0,o,null,g);break;case"together":wm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ss|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Jl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=rs(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=rs(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Sm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Th(i)))}function ux(i,s,o){switch(s.tag){case 3:Dr(s,s.stateNode.containerInfo),Wr(s,Ot,i.memoizedState.cache),Bl();break;case 27:case 5:yl(s);break;case 4:Dr(s,s.stateNode.containerInfo);break;case 10:Wr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?($r(s),s.flags|=128,null):(o&s.child.childLanes)!==0?y0(i,s,o):($r(s),i=tr(i,s,o),i!==null?i.sibling:null);$r(s);break;case 19:var m=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Jl(i,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return _0(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(Pt,Pt.current),u)break;return null;case 22:case 23:return s.lanes=0,f0(i,s,o);case 24:Wr(s,Ot,i.memoizedState.cache)}return tr(i,s,o)}function T0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Bt=!0;else{if(!Sm(i,o)&&(s.flags&128)===0)return Bt=!1,ux(i,s,o);Bt=(i.flags&131072)!==0}else Bt=!1,$e&&(s.flags&1048576)!==0&&r_(s,ih,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")Um(u)?(i=ua(u,i),s.tag=1,s=p0(null,s,u,i,o)):(s.tag=0,s=gm(null,s,u,i,o));else{if(u!=null){if(m=u.$$typeof,m===x){s.tag=11,s=u0(null,s,u,i,o);break e}else if(m===k){s.tag=14,s=c0(null,s,u,i,o);break e}}throw s=R(u)||u,Error(r(306,s,""))}}return s;case 0:return gm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=ua(u,s.pendingProps),p0(i,s,u,m,o);case 3:e:{if(Dr(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var g=s.pendingProps;m=s.memoizedState,u=m.element,Im(i,s),nu(s,g,null,o);var E=s.memoizedState;if(g=E.cache,Wr(s,Ot,g),g!==m.cache&&Cm(s,[Ot],o,!0),tu(),g=E.element,m.isDehydrated)if(m={element:g,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=g0(i,s,g,o);break e}else if(g!==u){u=zn(Error(r(424)),s),Fl(u),s=g0(i,s,g,o);break e}else for($t=ai(s.stateNode.containerInfo.firstChild),mn=s,$e=!0,ri=null,Ri=!0,o=d_(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Bl(),g===u){s=tr(i,s,o);break e}Yt(i,s,g,o)}s=s.child}return s;case 26:return Zl(i,s),i===null?(o=wT(s.type,null,s.pendingProps,null))?s.memoizedState=o:$e||(o=s.type,i=s.pendingProps,u=kh(Vn.current).createElement(o),u[Ut]=s,u[Dt]=i,Qt(u,o,i),lt(u),s.stateNode=u):s.memoizedState=wT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return yl(s),i===null&&$e&&(u=s.stateNode=TT(s.type,s.pendingProps,Vn.current),mn=s,Ri=!0,$t=ai(u.firstChild)),u=s.pendingProps.children,i!==null||$e?Yt(i,s,u,o):s.child=ra(s,null,u,o),Zl(i,s),s.child;case 5:return i===null&&$e&&((m=u=$t)&&(u=jx(u,s.type,s.pendingProps,Ri),u!==null?(s.stateNode=u,mn=s,$t=ai(u.firstChild),Ri=!1,m=!0):m=!1),m||ia(s)),yl(s),m=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,cp(m,g)?u=null:E!==null&&cp(m,E)&&(s.flags|=32),s.memoizedState!==null&&(m=Zd(i,s,nx,null,null,o),yu._currentValue=m),Zl(i,s),Yt(i,s,u,o),s.child;case 6:return i===null&&$e&&((i=o=$t)&&(o=zx(o,s.pendingProps,Ri),o!==null?(s.stateNode=o,mn=s,$t=null,i=!0):i=!1),i||ia(s)),null;case 13:return y0(i,s,o);case 4:return Dr(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ra(s,null,u,o):Yt(i,s,u,o),s.child;case 11:return u0(i,s,s.type,s.pendingProps,o);case 7:return Yt(i,s,s.pendingProps,o),s.child;case 8:return Yt(i,s,s.pendingProps.children,o),s.child;case 12:return Yt(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Wr(s,s.type,u.value),Yt(i,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,ha(s),m=tn(m),u=u(m),s.flags|=1,Yt(i,s,u,o),s.child;case 14:return c0(i,s,s.type,s.pendingProps,o);case 15:return h0(i,s,s.type,s.pendingProps,o);case 19:return _0(i,s,o);case 22:return f0(i,s,o);case 24:return ha(s),u=tn(Ot),i===null?(m=Xd(),m===null&&(m=nt,g=Yd(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:u,cache:m},xm(s),Wr(s,Ot,m)):((i.lanes&o)!==0&&(Im(i,s),nu(s,null,null,o),tu()),m=i.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Wr(s,Ot,u)):(u=g.cache,Wr(s,Ot,u),u!==m.cache&&Cm(s,[Ot],o,!0))),Yt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Am=Ge(null),ca=null,nr=null;function Wr(i,s,o){Ze(Am,s._currentValue),s._currentValue=o}function ir(i){i._currentValue=Am.current,dt(Am)}function Rm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Cm(i,s,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var E=m.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=m;for(var M=0;M<s.length;M++)if(w.context===s[M]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Rm(g.return,o,i),u||(E=null);break e}g=w.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Rm(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Jl(i,s,o,u){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var w=m.type;An(m.pendingProps.value,E.value)||(i!==null?i.push(w):i=[w])}}else if(m===Ir.current){if(E=m.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(yu):i=[yu])}m=m.return}i!==null&&Cm(s,i,o,u),s.flags|=262144}function Th(i){for(i=i.firstContext;i!==null;){if(!An(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ha(i){ca=i,nr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tn(i){return E0(ca,i)}function Eh(i,s){return ca===null&&ha(i),E0(i,s)}function E0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},nr===null){if(i===null)throw Error(r(308));nr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else nr=nr.next=s;return o}var Zr=!1;function xm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Jr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function es(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(ct&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=th(i),n_(i,null,o),s}return eh(i,u,s,o),th(i)}function eu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,kr(i,o)}}function Dm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Mm=!1;function tu(){if(Mm){var i=ho;if(i!==null)throw i}}function nu(i,s,o,u){Mm=!1;var m=i.updateQueue;Zr=!1;var g=m.firstBaseUpdate,E=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var M=w,z=M.next;M.next=null,E===null?g=z:E.next=z,E=M;var J=i.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==E&&(w===null?J.firstBaseUpdate=z:w.next=z,J.lastBaseUpdate=M))}if(g!==null){var se=m.baseState;E=0,J=z=M=null,w=g;do{var Q=w.lane&-536870913,Z=Q!==w.lane;if(Z?(He&Q)===Q:(u&Q)===Q){Q!==0&&Q===co&&(Mm=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ve=i,Ie=w;Q=s;var yt=o;switch(Ie.tag){case 1:if(ve=Ie.payload,typeof ve=="function"){se=ve.call(yt,se,Q);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ie.payload,Q=typeof ve=="function"?ve.call(yt,se,Q):ve,Q==null)break e;se=I({},se,Q);break e;case 2:Zr=!0}}Q=w.callback,Q!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(z=J=Z,M=se):J=J.next=Z,E|=Q;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);J===null&&(M=se),m.baseState=M,m.firstBaseUpdate=z,m.lastBaseUpdate=J,g===null&&(m.shared.lanes=0),ss|=E,i.lanes=E,i.memoizedState=se}}function b0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function w0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)b0(o[i],s)}function iu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==m)}}catch(w){tt(s,s.return,w)}}function ts(i,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,m=s;var M=o;try{w()}catch(z){tt(m,M,z)}}}u=u.next}while(u!==g)}}catch(z){tt(s,s.return,z)}}function S0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{w0(s,o)}catch(u){tt(i,i.return,u)}}}function A0(i,s,o){o.props=ua(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){tt(i,s,u)}}function fa(i,s){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=u;break;default:m=u}typeof o=="function"?i.refCleanup=o(m):o.current=m}}catch(g){tt(i,s,g)}}function Rn(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){tt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){tt(i,s,m)}else o.current=null}function R0(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){tt(i,i.return,m)}}function C0(i,s,o){try{var u=i.stateNode;Ox(u,i.type,o,s),u[Dt]=s}catch(m){tt(i,i.return,m)}}function x0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Vm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||x0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Nh));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Pm(i,s,o),i=i.sibling;i!==null;)Pm(i,s,o),i=i.sibling}function bh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(bh(i,s,o),i=i.sibling;i!==null;)bh(i,s,o),i=i.sibling}var rr=!1,pt=!1,Om=!1,I0=typeof WeakSet=="function"?WeakSet:Set,Ft=null,D0=!1;function cx(i,s){if(i=i.containerInfo,lp=Fh,i=$v(i),kd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,w=-1,M=-1,z=0,J=0,se=i,Q=null;t:for(;;){for(var Z;se!==o||m!==0&&se.nodeType!==3||(w=E+m),se!==g||u!==0&&se.nodeType!==3||(M=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(Z=se.firstChild)!==null;)Q=se,se=Z;for(;;){if(se===i)break t;if(Q===o&&++z===m&&(w=E),Q===g&&++J===u&&(M=E),(Z=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=Z}o=w===-1||M===-1?null:{start:w,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(up={focusedElem:i,selectionRange:o},Fh=!1,Ft=s;Ft!==null;)if(s=Ft,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ft=i;else for(;Ft!==null;){switch(s=Ft,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ve=ua(o.type,m,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(ve,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ie){tt(o,o.return,Ie)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)dp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":dp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ft=i;break}Ft=s.return}return ve=D0,D0=!1,ve}function M0(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ar(i,o),u&4&&iu(5,o);break;case 1:if(ar(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){tt(o,o.return,w)}else{var m=ua(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){tt(o,o.return,w)}}u&64&&S0(o),u&512&&fa(o,o.return);break;case 3:if(ar(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{w0(u,i)}catch(w){tt(o,o.return,w)}}break;case 26:ar(i,o),u&512&&fa(o,o.return);break;case 27:case 5:ar(i,o),s===null&&u&4&&R0(o),u&512&&fa(o,o.return);break;case 12:ar(i,o);break;case 13:ar(i,o),u&4&&O0(i,o);break;case 22:if(m=o.memoizedState!==null||rr,!m){s=s!==null&&s.memoizedState!==null||pt;var g=rr,E=pt;rr=m,(pt=s)&&!E?ns(i,o,(o.subtreeFlags&8772)!==0):ar(i,o),rr=g,pt=E}u&512&&(o.memoizedProps.mode==="manual"?fa(o,o.return):Rn(o,o.return));break;default:ar(i,o)}}function V0(i){var s=i.alternate;s!==null&&(i.alternate=null,V0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Fs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rt=null,Cn=!1;function sr(i,s,o){for(o=o.child;o!==null;)P0(i,s,o),o=o.sibling}function P0(i,s,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Mr,o)}catch{}switch(o.tag){case 26:pt||Rn(o,s),sr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pt||Rn(o,s);var u=Rt,m=Cn;for(Rt=o.stateNode,sr(i,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Fs(o),Rt=u,Cn=m;break;case 5:pt||Rn(o,s);case 6:m=Rt;var g=Cn;if(Rt=null,sr(i,s,o),Rt=m,Cn=g,Rt!==null)if(Cn)try{i=Rt,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(E){tt(o,s,E)}else try{Rt.removeChild(o.stateNode)}catch(E){tt(o,s,E)}break;case 18:Rt!==null&&(Cn?(s=Rt,o=o.stateNode,s.nodeType===8?fp(s.parentNode,o):s.nodeType===1&&fp(s,o),Eu(s)):fp(Rt,o.stateNode));break;case 4:u=Rt,m=Cn,Rt=o.stateNode.containerInfo,Cn=!0,sr(i,s,o),Rt=u,Cn=m;break;case 0:case 11:case 14:case 15:pt||ts(2,o,s),pt||ts(4,o,s),sr(i,s,o);break;case 1:pt||(Rn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&A0(o,s,u)),sr(i,s,o);break;case 21:sr(i,s,o);break;case 22:pt||Rn(o,s),pt=(u=pt)||o.memoizedState!==null,sr(i,s,o),pt=u;break;default:sr(i,s,o)}}function O0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Eu(i)}catch(o){tt(s,s.return,o)}}function hx(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new I0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new I0),s;default:throw Error(r(435,i.tag))}}function Nm(i,s){var o=hx(i);s.forEach(function(u){var m=Sx.bind(null,i,u);o.has(u)||(o.add(u),u.then(m,m))})}function qn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=i,E=s,w=E;e:for(;w!==null;){switch(w.tag){case 27:case 5:Rt=w.stateNode,Cn=!1;break e;case 3:Rt=w.stateNode.containerInfo,Cn=!0;break e;case 4:Rt=w.stateNode.containerInfo,Cn=!0;break e}w=w.return}if(Rt===null)throw Error(r(160));P0(g,E,m),Rt=null,Cn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)N0(s,i),s=s.sibling}var si=null;function N0(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:qn(s,i),Gn(i),u&4&&(ts(3,i,i.return),iu(3,i),ts(5,i,i.return));break;case 1:qn(s,i),Gn(i),u&512&&(pt||o===null||Rn(o,o.return)),u&64&&rr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=si;if(qn(s,i),Gn(i),u&512&&(pt||o===null||Rn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ur]||g[Ut]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),Qt(g,u,o),g[Ut]=i,lt(g),u=g;break e;case"link":var E=RT("link","href",m).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(g=E[w],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}g=m.createElement(u),Qt(g,u,o),m.head.appendChild(g);break;case"meta":if(E=RT("meta","content",m).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(g=E[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}g=m.createElement(u),Qt(g,u,o),m.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ut]=i,lt(g),u=g}i.stateNode=u}else CT(m,i.type,i.stateNode);else i.stateNode=AT(m,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?CT(m,i.type,i.stateNode):AT(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&C0(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){m=i.stateNode,g=i.memoizedProps;try{for(var M=m.firstChild;M;){var z=M.nextSibling,J=M.nodeName;M[Ur]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&M.rel.toLowerCase()==="stylesheet"||m.removeChild(M),M=z}for(var se=i.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);Qt(m,se,g),m[Ut]=i,m[Dt]=g}catch(ve){tt(i,i.return,ve)}}case 5:if(qn(s,i),Gn(i),u&512&&(pt||o===null||Rn(o,o.return)),i.flags&32){m=i.stateNode;try{Nn(m,"")}catch(ve){tt(i,i.return,ve)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,C0(i,m,o!==null?o.memoizedProps:m)),u&1024&&(Om=!0);break;case 6:if(qn(s,i),Gn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ve){tt(i,i.return,ve)}}break;case 3:if(jh=null,m=si,si=Lh(s.containerInfo),qn(s,i),si=m,Gn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Eu(s.containerInfo)}catch(ve){tt(i,i.return,ve)}Om&&(Om=!1,k0(i));break;case 4:u=si,si=Lh(i.stateNode.containerInfo),qn(s,i),Gn(i),si=u;break;case 12:qn(s,i),Gn(i);break;case 13:qn(s,i),Gn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(qm=vn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nm(i,u)));break;case 22:if(u&512&&(pt||o===null||Rn(o,o.return)),M=i.memoizedState!==null,z=o!==null&&o.memoizedState!==null,J=rr,se=pt,rr=J||M,pt=se||z,qn(s,i),pt=se,rr=J,Gn(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=M?s._visibility&-2:s._visibility|1,M&&(s=rr||pt,o===null||z||s||go(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){z=o=s;try{if(m=z.stateNode,M)g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=z.stateNode,w=z.memoizedProps.style;var Z=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ve){tt(z,z.return,ve)}}}else if(s.tag===6){if(o===null){z=s;try{z.stateNode.nodeValue=M?"":z.memoizedProps}catch(ve){tt(z,z.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Nm(i,o))));break;case 19:qn(s,i),Gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nm(i,u)));break;case 21:break;default:qn(s,i),Gn(i)}}function Gn(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(x0(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 27:var m=u.stateNode,g=Vm(i);bh(i,g,m);break;case 5:var E=u.stateNode;u.flags&32&&(Nn(E,""),u.flags&=-33);var w=Vm(i);bh(i,w,E);break;case 3:case 4:var M=u.stateNode.containerInfo,z=Vm(i);Pm(i,z,M);break;default:throw Error(r(161))}}}catch(J){tt(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function k0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;k0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ar(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)M0(i,s.alternate,s),s=s.sibling}function go(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ts(4,s,s.return),go(s);break;case 1:Rn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&A0(s,s.return,o),go(s);break;case 26:case 27:case 5:Rn(s,s.return),go(s);break;case 22:Rn(s,s.return),s.memoizedState===null&&go(s);break;default:go(s)}i=i.sibling}}function ns(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:ns(m,g,o),iu(4,g);break;case 1:if(ns(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(z){tt(u,u.return,z)}if(u=g,m=u.updateQueue,m!==null){var w=u.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)b0(M[m],w)}catch(z){tt(u,u.return,z)}}o&&E&64&&S0(g),fa(g,g.return);break;case 26:case 27:case 5:ns(m,g,o),o&&u===null&&E&4&&R0(g),fa(g,g.return);break;case 12:ns(m,g,o);break;case 13:ns(m,g,o),o&&E&4&&O0(m,g);break;case 22:g.memoizedState===null&&ns(m,g,o),fa(g,g.return);break;default:ns(m,g,o)}s=s.sibling}}function km(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$l(o))}function Lm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$l(i))}function is(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)L0(i,s,o,u),s=s.sibling}function L0(i,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:is(i,s,o,u),m&2048&&iu(9,s);break;case 3:is(i,s,o,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$l(i)));break;case 12:if(m&2048){is(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,w=g.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){tt(s,s.return,M)}}else is(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?is(i,s,o,u):ru(i,s):g._visibility&4?is(i,s,o,u):(g._visibility|=4,yo(i,s,o,u,(s.subtreeFlags&10256)!==0)),m&2048&&km(s.alternate,s);break;case 24:is(i,s,o,u),m&2048&&Lm(s.alternate,s);break;default:is(i,s,o,u)}}function yo(i,s,o,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,E=s,w=o,M=u,z=E.flags;switch(E.tag){case 0:case 11:case 15:yo(g,E,w,M,m),iu(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&4?yo(g,E,w,M,m):ru(g,E):(J._visibility|=4,yo(g,E,w,M,m)),m&&z&2048&&km(E.alternate,E);break;case 24:yo(g,E,w,M,m),m&&z&2048&&Lm(E.alternate,E);break;default:yo(g,E,w,M,m)}s=s.sibling}}function ru(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,m=u.flags;switch(u.tag){case 22:ru(o,u),m&2048&&km(u.alternate,u);break;case 24:ru(o,u),m&2048&&Lm(u.alternate,u);break;default:ru(o,u)}s=s.sibling}}var su=8192;function vo(i){if(i.subtreeFlags&su)for(i=i.child;i!==null;)U0(i),i=i.sibling}function U0(i){switch(i.tag){case 26:vo(i),i.flags&su&&i.memoizedState!==null&&Jx(si,i.memoizedState,i.memoizedProps);break;case 5:vo(i);break;case 3:case 4:var s=si;si=Lh(i.stateNode.containerInfo),vo(i),si=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=su,su=16777216,vo(i),su=s):vo(i));break;default:vo(i)}}function j0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function au(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ft=u,B0(u,i)}j0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z0(i),i=i.sibling}function z0(i){switch(i.tag){case 0:case 11:case 15:au(i),i.flags&2048&&ts(9,i,i.return);break;case 3:au(i);break;case 12:au(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,wh(i)):au(i);break;default:au(i)}}function wh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ft=u,B0(u,i)}j0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ts(8,s,s.return),wh(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,wh(s));break;default:wh(s)}i=i.sibling}}function B0(i,s){for(;Ft!==null;){var o=Ft;switch(o.tag){case 0:case 11:case 15:ts(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$l(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ft=u;else e:for(o=i;Ft!==null;){u=Ft;var m=u.sibling,g=u.return;if(V0(u),u===o){Ft=null;break e}if(m!==null){m.return=g,Ft=m;break e}Ft=g}}}function fx(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(i,s,o,u){return new fx(i,s,o,u)}function Um(i){return i=i.prototype,!(!i||!i.isReactComponent)}function rs(i,s){var o=i.alternate;return o===null?(o=Kn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function F0(i,s){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Sh(i,s,o,u,m,g){var E=0;if(u=i,typeof i=="function")Um(i)&&(E=1);else if(typeof i=="string")E=Wx(i,o,cn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return da(o.children,m,g,s);case p:E=8,m|=24;break;case y:return i=Kn(12,o,s,m|2),i.elementType=y,i.lanes=g,i;case O:return i=Kn(13,o,s,m),i.elementType=O,i.lanes=g,i;case P:return i=Kn(19,o,s,m),i.elementType=P,i.lanes=g,i;case K:return H0(o,m,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case A:E=10;break e;case b:E=9;break e;case x:E=11;break e;case k:E=14;break e;case Y:E=16,u=null;break e}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Kn(E,o,s,m),s.elementType=i,s.type=u,s.lanes=g,s}function da(i,s,o,u){return i=Kn(7,i,u,s),i.lanes=o,i}function H0(i,s,o,u){i=Kn(22,i,u,s),i.elementType=K,i.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=m._current;if(g===null)throw Error(r(456));if((m._pendingVisibility&2)===0){var E=Kr(g,2);E!==null&&(m._pendingVisibility|=2,pn(E,g,2))}},attach:function(){var g=m._current;if(g===null)throw Error(r(456));if((m._pendingVisibility&2)!==0){var E=Kr(g,2);E!==null&&(m._pendingVisibility&=-3,pn(E,g,2))}}};return i.stateNode=m,i}function jm(i,s,o){return i=Kn(6,i,null,s),i.lanes=o,i}function zm(i,s,o){return s=Kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function or(i){i.flags|=4}function q0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xT(s)){if(s=Hn.current,s!==null&&((He&4194176)===He?Ci!==null:(He&62914560)!==He&&(He&536870912)===0||s!==Ci))throw ql=Gd,o_;i.flags|=8192}}function Ah(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Or():536870912,i.lanes|=s,To|=s)}function ou(i,s){if(!$e)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ut(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&31457280,u|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function dx(i,s,o){var u=s.pendingProps;switch(Hd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ir(Ot),zi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(zl(s)?or(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ri!==null&&(Ym(ri),ri=null))),ut(s),null;case 26:return o=s.memoizedState,i===null?(or(s),o!==null?(ut(s),q0(s,o)):(ut(s),s.flags&=-16777217)):o?o!==i.memoizedState?(or(s),ut(s),q0(s,o)):(ut(s),s.flags&=-16777217):(i.memoizedProps!==u&&or(s),ut(s),s.flags&=-16777217),null;case 27:Ua(s),o=Vn.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&or(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ut(s),null}i=cn.current,zl(s)?s_(s):(i=TT(m,u,o),s.stateNode=i,or(s))}return ut(s),null;case 5:if(Ua(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&or(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ut(s),null}if(i=cn.current,zl(s))s_(s);else{switch(m=kh(Vn.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}i[Ut]=s,i[Dt]=u;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(Qt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&or(s)}}return ut(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&or(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Vn.current,zl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,m=mn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[Ut]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||mT(i.nodeValue,o)),i||ia(s)}else i=kh(i).createTextNode(u),i[Ut]=s,s.stateNode=i}return ut(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=zl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Ut]=s}else Bl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),m=!1}else ri!==null&&(Ym(ri),ri=null),m=!0;if(!m)return s.flags&256?(Ji(s),s):(Ji(s),null)}if(Ji(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Ah(s,s.updateQueue),ut(s),null;case 4:return zi(),i===null&&sp(s.stateNode.containerInfo),ut(s),null;case 10:return ir(s.type),ut(s),null;case 19:if(dt(Pt),m=s.memoizedState,m===null)return ut(s),null;if(u=(s.flags&128)!==0,g=m.rendering,g===null)if(u)ou(m,!1);else{if(gt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=lh(i),g!==null){for(s.flags|=128,ou(m,!1),i=g.updateQueue,s.updateQueue=i,Ah(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)F0(o,i),o=o.sibling;return Ze(Pt,Pt.current&1|2),s.child}i=i.sibling}m.tail!==null&&vn()>Rh&&(s.flags|=128,u=!0,ou(m,!1),s.lanes=4194304)}else{if(!u)if(i=lh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Ah(s,i),ou(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!$e)return ut(s),null}else 2*vn()-m.renderingStartTime>Rh&&o!==536870912&&(s.flags|=128,u=!0,ou(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(i=m.last,i!==null?i.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=vn(),s.sibling=null,i=Pt.current,Ze(Pt,u?i&1|2:i&1),s):(ut(s),null);case 22:case 23:return Ji(s),$d(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),o=s.updateQueue,o!==null&&Ah(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&dt(sa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ir(Ot),ut(s),null;case 25:return null}throw Error(r(156,s.tag))}function mx(i,s){switch(Hd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ir(Ot),zi(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ua(s),null;case 13:if(Ji(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Bl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return dt(Pt),null;case 4:return zi(),null;case 10:return ir(s.type),null;case 22:case 23:return Ji(s),$d(),i!==null&&dt(sa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ir(Ot),null;case 25:return null;default:return null}}function G0(i,s){switch(Hd(s),s.tag){case 3:ir(Ot),zi();break;case 26:case 27:case 5:Ua(s);break;case 4:zi();break;case 13:Ji(s);break;case 19:dt(Pt);break;case 10:ir(s.type);break;case 22:case 23:Ji(s),$d(),i!==null&&dt(sa);break;case 24:ir(Ot)}}var px={getCacheForType:function(i){var s=tn(Ot),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},gx=typeof WeakMap=="function"?WeakMap:Map,ct=0,nt=null,Oe=null,He=0,it=0,xn=null,lr=!1,_o=!1,Bm=!1,ur=0,gt=0,ss=0,ma=0,Fm=0,$n=0,To=0,lu=null,Ii=null,Hm=!1,qm=0,Rh=1/0,Ch=null,as=null,xh=!1,pa=null,uu=0,Gm=0,Km=null,cu=0,$m=null;function In(){if((ct&2)!==0&&He!==0)return He&-He;if(C.T!==null){var i=co;return i!==0?i:tp()}return Oc()}function K0(){$n===0&&($n=(He&536870912)===0||$e?bl():536870912);var i=Hn.current;return i!==null&&(i.flags|=32),$n}function pn(i,s,o){(i===nt&&it===2||i.cancelPendingCommit!==null)&&(Eo(i,0),cr(i,He,$n,!1)),Tt(i,o),((ct&2)===0||i!==nt)&&(i===nt&&((ct&2)===0&&(ma|=o),gt===4&&cr(i,He,$n,!1)),Di(i))}function $0(i,s,o){if((ct&6)!==0)throw Error(r(327));var u=!o&&(s&60)===0&&(s&i.expiredLanes)===0||Pr(i,s),m=u?_x(i,s):Wm(i,s,!0),g=u;do{if(m===0){_o&&!u&&cr(i,s,0,!1);break}else if(m===6)cr(i,s,0,!lr);else{if(o=i.current.alternate,g&&!yx(o)){m=Wm(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var w=i;m=lu;var M=w.current.memoizedState.isDehydrated;if(M&&(Eo(w,E).flags|=256),E=Wm(w,E,!1),E!==2){if(Bm&&!M){w.errorRecoveryDisabledLanes|=g,ma|=g,m=4;break e}g=Ii,Ii=m,g!==null&&Ym(g)}m=E}if(g=!1,m!==2)continue}}if(m===1){Eo(i,0),cr(i,s,0,!0);break}e:{switch(u=i,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){cr(u,s,$n,!lr);break e}break;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(r(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=qm+300-vn(),10<g)){if(cr(u,s,$n,!lr),Pn(u,0)!==0)break e;u.timeoutHandle=yT(Y0.bind(null,u,o,Ii,Ch,Hm,s,$n,ma,To,lr,2,-0,0),g);break e}Y0(u,o,Ii,Ch,Hm,s,$n,ma,To,lr,0,-0,0)}}break}while(!0);Di(i)}function Ym(i){Ii===null?Ii=i:Ii.push.apply(Ii,i)}function Y0(i,s,o,u,m,g,E,w,M,z,J,se,Q){var Z=s.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(gu={stylesheets:null,count:0,unsuspend:Zx},U0(s),s=eI(),s!==null)){i.cancelPendingCommit=s(tT.bind(null,i,o,u,m,E,w,M,1,se,Q)),cr(i,g,E,!z);return}tT(i,o,u,m,E,w,M,J,se,Q)}function yx(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!An(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cr(i,s,o,u){s&=~Fm,s&=~ma,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var g=31-hn(m),E=1<<g;u[g]=-1,m&=~E}o!==0&&Nr(i,o,s)}function Ih(){return(ct&6)===0?(hu(0),!1):!0}function Qm(){if(Oe!==null){if(it===0)var i=Oe.return;else i=Oe,nr=ca=null,tm(i),lo=null,Gl=0,i=Oe;for(;i!==null;)G0(i.alternate,i),i=i.return;Oe=null}}function Eo(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,kx(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Qm(),nt=i,Oe=o=rs(i.current,null),He=s,it=0,xn=null,lr=!1,_o=Pr(i,s),Bm=!1,To=$n=Fm=ma=ss=gt=0,Ii=lu=null,Hm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-hn(u),g=1<<m;s|=i[m],u&=~g}return ur=s,Jc(),o}function Q0(i,s){Ve=null,C.H=xi,s===Hl?(s=c_(),it=3):s===o_?(s=c_(),it=4):it=s===l0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,Oe===null&&(gt=1,_h(i,zn(s,i.current)))}function X0(){var i=C.H;return C.H=xi,i===null?xi:i}function W0(){var i=C.A;return C.A=px,i}function Xm(){gt=4,lr||(He&4194176)!==He&&Hn.current!==null||(_o=!0),(ss&134217727)===0&&(ma&134217727)===0||nt===null||cr(nt,He,$n,!1)}function Wm(i,s,o){var u=ct;ct|=2;var m=X0(),g=W0();(nt!==i||He!==s)&&(Ch=null,Eo(i,s)),s=!1;var E=gt;e:do try{if(it!==0&&Oe!==null){var w=Oe,M=xn;switch(it){case 8:Qm(),E=6;break e;case 3:case 2:case 6:Hn.current===null&&(s=!0);var z=it;if(it=0,xn=null,bo(i,w,M,z),o&&_o){E=0;break e}break;default:z=it,it=0,xn=null,bo(i,w,M,z)}}vx(),E=gt;break}catch(J){Q0(i,J)}while(!0);return s&&i.shellSuspendCounter++,nr=ca=null,ct=u,C.H=m,C.A=g,Oe===null&&(nt=null,He=0,Jc()),E}function vx(){for(;Oe!==null;)Z0(Oe)}function _x(i,s){var o=ct;ct|=2;var u=X0(),m=W0();nt!==i||He!==s?(Ch=null,Rh=vn()+500,Eo(i,s)):_o=Pr(i,s);e:do try{if(it!==0&&Oe!==null){s=Oe;var g=xn;t:switch(it){case 1:it=0,xn=null,bo(i,s,g,1);break;case 2:if(l_(g)){it=0,xn=null,J0(s);break}s=function(){it===2&&nt===i&&(it=7),Di(i)},g.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:l_(g)?(it=0,xn=null,J0(s)):(it=0,xn=null,bo(i,s,g,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var w=Oe;if(!E||xT(E)){it=0,xn=null;var M=w.sibling;if(M!==null)Oe=M;else{var z=w.return;z!==null?(Oe=z,Dh(z)):Oe=null}break t}}it=0,xn=null,bo(i,s,g,5);break;case 6:it=0,xn=null,bo(i,s,g,6);break;case 8:Qm(),gt=6;break e;default:throw Error(r(462))}}Tx();break}catch(J){Q0(i,J)}while(!0);return nr=ca=null,C.H=u,C.A=m,ct=o,Oe!==null?0:(nt=null,He=0,Jc(),gt)}function Tx(){for(;Oe!==null&&!Ad();)Z0(Oe)}function Z0(i){var s=T0(i.alternate,i,ur);i.memoizedProps=i.pendingProps,s===null?Dh(i):Oe=s}function J0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=m0(o,s,s.pendingProps,s.type,void 0,He);break;case 11:s=m0(o,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:tm(s);default:G0(o,s),s=Oe=F0(s,ur),s=T0(o,s,ur)}i.memoizedProps=i.pendingProps,s===null?Dh(i):Oe=s}function bo(i,s,o,u){nr=ca=null,tm(s),lo=null,Gl=0;var m=s.return;try{if(lx(i,m,s,o,He)){gt=1,_h(i,zn(o,i.current)),Oe=null;return}}catch(g){if(m!==null)throw Oe=m,g;gt=1,_h(i,zn(o,i.current)),Oe=null;return}s.flags&32768?($e||u===1?i=!0:_o||(He&536870912)!==0?i=!1:(lr=i=!0,(u===2||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),eT(s,i)):Dh(s)}function Dh(i){var s=i;do{if((s.flags&32768)!==0){eT(s,lr);return}i=s.return;var o=dx(s.alternate,s,ur);if(o!==null){Oe=o;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=i}while(s!==null);gt===0&&(gt=5)}function eT(i,s){do{var o=mx(i.alternate,i);if(o!==null){o.flags&=32767,Oe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=o}while(i!==null);gt=6,Oe=null}function tT(i,s,o,u,m,g,E,w,M,z){var J=C.T,se=ue.p;try{ue.p=2,C.T=null,Ex(i,s,o,u,se,m,g,E,w,M,z)}finally{C.T=J,ue.p=se}}function Ex(i,s,o,u,m,g,E,w){do wo();while(pa!==null);if((ct&6)!==0)throw Error(r(327));var M=i.finishedWork;if(u=i.finishedLanes,M===null)return null;if(i.finishedWork=null,i.finishedLanes=0,M===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var z=M.lanes|M.childLanes;if(z|=zd,Vc(i,u,z,g,E,w),i===nt&&(Oe=nt=null,He=0),(M.subtreeFlags&10256)===0&&(M.flags&10256)===0||xh||(xh=!0,Gm=z,Km=o,Ax(Bi,function(){return wo(),null})),o=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||o?(o=C.T,C.T=null,g=ue.p,ue.p=2,E=ct,ct|=4,cx(i,M),N0(M,i),GC(up,i.containerInfo),Fh=!!lp,up=lp=null,i.current=M,M0(i,M.alternate,M),vl(),ct=E,ue.p=g,C.T=o):i.current=M,xh?(xh=!1,pa=i,uu=u):nT(i,z),z=i.pendingLanes,z===0&&(as=null),Tl(M.stateNode),Di(i),s!==null)for(m=i.onRecoverableError,M=0;M<s.length;M++)z=s[M],m(z.value,{componentStack:z.stack});return(uu&3)!==0&&wo(),z=i.pendingLanes,(u&4194218)!==0&&(z&42)!==0?i===$m?cu++:(cu=0,$m=i):cu=0,hu(0),null}function nT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,$l(s)))}function wo(){if(pa!==null){var i=pa,s=Gm;Gm=0;var o=Pc(uu),u=C.T,m=ue.p;try{if(ue.p=32>o?32:o,C.T=null,pa===null)var g=!1;else{o=Km,Km=null;var E=pa,w=uu;if(pa=null,uu=0,(ct&6)!==0)throw Error(r(331));var M=ct;if(ct|=4,z0(E.current),L0(E,E.current,w,o),ct=M,hu(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Mr,E)}catch{}g=!0}return g}finally{ue.p=m,C.T=u,nT(i,s)}}return!1}function iT(i,s,o){s=zn(o,s),s=pm(i.stateNode,s,2),i=es(i,s,2),i!==null&&(Tt(i,2),Di(i))}function tt(i,s,o){if(i.tag===3)iT(i,i,o);else for(;s!==null;){if(s.tag===3){iT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(as===null||!as.has(u))){i=zn(o,i),o=a0(2),u=es(s,o,2),u!==null&&(o0(o,u,s,i),Tt(u,2),Di(u));break}}s=s.return}}function Zm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new gx;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(Bm=!0,m.add(o),i=bx.bind(null,i,s,o),s.then(i,i))}function bx(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(He&o)===o&&(gt===4||gt===3&&(He&62914560)===He&&300>vn()-qm?(ct&2)===0&&Eo(i,0):Fm|=o,To===He&&(To=0)),Di(i)}function rT(i,s){s===0&&(s=Or()),i=Kr(i,s),i!==null&&(Tt(i,s),Di(i))}function wx(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),rT(i,o)}function Sx(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),rT(i,o)}function Ax(i,s){return js(i,s)}var Mh=null,So=null,Jm=!1,Vh=!1,ep=!1,ga=0;function Di(i){i!==So&&i.next===null&&(So===null?Mh=So=i:So=So.next=i),Vh=!0,Jm||(Jm=!0,Cx(Rx))}function hu(i,s){if(!ep&&Vh){ep=!0;do for(var o=!1,u=Mh;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var E=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-hn(42|i)+1)-1,g&=m&~(E&~w),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,oT(u,g))}else g=He,g=Pn(u,u===nt?g:0),(g&3)===0||Pr(u,g)||(o=!0,oT(u,g));u=u.next}while(o);ep=!1}}function Rx(){Vh=Jm=!1;var i=0;ga!==0&&(Nx()&&(i=ga),ga=0);for(var s=vn(),o=null,u=Mh;u!==null;){var m=u.next,g=sT(u,s);g===0?(u.next=null,o===null?Mh=m:o.next=m,m===null&&(So=o)):(o=u,(i!==0||(g&3)!==0)&&(Vh=!0)),u=m}hu(i)}function sT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-hn(g),w=1<<E,M=m[E];M===-1?((w&o)===0||(w&u)!==0)&&(m[E]=Ba(w,s)):M<=s&&(i.expiredLanes|=w),g&=~w}if(s=nt,o=He,o=Pn(i,i===s?o:0),u=i.callbackNode,o===0||i===s&&it===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&za(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Pr(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&za(u),Pc(o)){case 2:case 8:o=Lt;break;case 32:o=Bi;break;case 268435456:o=_l;break;default:o=Bi}return u=aT.bind(null,i),o=js(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&za(u),i.callbackPriority=2,i.callbackNode=null,2}function aT(i,s){var o=i.callbackNode;if(wo()&&i.callbackNode!==o)return null;var u=He;return u=Pn(i,i===nt?u:0),u===0?null:($0(i,u,s),sT(i,vn()),i.callbackNode!=null&&i.callbackNode===o?aT.bind(null,i):null)}function oT(i,s){if(wo())return null;$0(i,s,!0)}function Cx(i){Lx(function(){(ct&6)!==0?js(It,i):i()})}function tp(){return ga===0&&(ga=bl()),ga}function lT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_i(""+i)}function uT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function xx(i,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var g=lT((m[Dt]||null).action),E=u.submitter;E&&(s=(s=E[Dt]||null)?lT(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var w=new Ya("action","action",null,u,m);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ga!==0){var M=E?uT(m,E):new FormData(m);cm(o,{pending:!0,data:M,method:m.method,action:g},null,M)}}else typeof g=="function"&&(w.preventDefault(),M=E?uT(m,E):new FormData(m),cm(o,{pending:!0,data:M,method:m.method,action:g},g,M))},currentTarget:m}]})}}for(var np=0;np<t_.length;np++){var ip=t_[np],Ix=ip.toLowerCase(),Dx=ip[0].toUpperCase()+ip.slice(1);ii(Ix,"on"+Dx)}ii(Xv,"onAnimationEnd"),ii(Wv,"onAnimationIteration"),ii(Zv,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii($C,"onTransitionRun"),ii(YC,"onTransitionStart"),ii(QC,"onTransitionCancel"),ii(Jv,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function cT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var w=u[E],M=w.instance,z=w.currentTarget;if(w=w.listener,M!==g&&m.isPropagationStopped())break e;g=w,m.currentTarget=z;try{g(m)}catch(J){vh(J)}m.currentTarget=null,g=M}else for(E=0;E<u.length;E++){if(w=u[E],M=w.instance,z=w.currentTarget,w=w.listener,M!==g&&m.isPropagationStopped())break e;g=w,m.currentTarget=z;try{g(m)}catch(J){vh(J)}m.currentTarget=null,g=M}}}}function Ue(i,s){var o=s[Bs];o===void 0&&(o=s[Bs]=new Set);var u=i+"__bubble";o.has(u)||(hT(s,i,2,!1),o.add(u))}function rp(i,s,o){var u=0;s&&(u|=4),hT(o,i,u,s)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function sp(i){if(!i[Ph]){i[Ph]=!0,Sl.forEach(function(o){o!=="selectionchange"&&(Mx.has(o)||rp(o,!1,i),rp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ph]||(s[Ph]=!0,rp("selectionchange",!1,s))}}function hT(i,s,o,u){switch(OT(s)){case 2:var m=iI;break;case 8:m=rI;break;default:m=vp}o=m.bind(null,s,o,i),m=void 0,!Ln||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function ap(i,s,o,u,m){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===m||w.nodeType===8&&w.parentNode===m)break;if(E===4)for(E=u.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;E=E.return}for(;w!==null;){if(E=ni(w),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){u=g=E;continue e}w=w.parentNode}}u=u.return}Uc(function(){var z=g,J=$a(o),se=[];e:{var Q=e_.get(i);if(Q!==void 0){var Z=Ya,ve=i;switch(i){case"keypress":if(Ei(o)===0)break e;case"keydown":case"keyup":Z=eo;break;case"focusin":ve="focus",Z=Wa;break;case"focusout":ve="blur",Z=Wa;break;case"beforeblur":case"afterblur":Z=Wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Kc;break;case Xv:case Wv:case Zv:Z=Za;break;case Jv:Z=Yc;break;case"scroll":case"scrollend":Z=jc;break;case"wheel":Z=to;break;case"copy":case"cut":case"paste":Z=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=kl;break;case"toggle":case"beforetoggle":Z=Xc}var Ie=(s&4)!==0,yt=!Ie&&(i==="scroll"||i==="scrollend"),H=Ie?Q!==null?Q+"Capture":null:Q;Ie=[];for(var j=z,$;j!==null;){var ne=j;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||H===null||(ne=Ks(j,H),ne!=null&&Ie.push(du(j,ne,$))),yt)break;j=j.return}0<Ie.length&&(Q=new Z(Q,ve,null,o,J),se.push({event:Q,listeners:Ie}))}}if((s&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",Q&&o!==kn&&(ve=o.relatedTarget||o.fromElement)&&(ni(ve)||ve[Fi]))break e;if((Z||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(ve=o.relatedTarget||o.toElement,Z=z,ve=ve?ni(ve):null,ve!==null&&(yt=le(ve),Ie=ve.tag,ve!==yt||Ie!==5&&Ie!==27&&Ie!==6)&&(ve=null)):(Z=null,ve=z),Z!==ve)){if(Ie=Un,ne="onMouseLeave",H="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=kl,ne="onPointerLeave",H="onPointerEnter",j="pointer"),yt=Z==null?Q:jr(Z),$=ve==null?Q:jr(ve),Q=new Ie(ne,j+"leave",Z,o,J),Q.target=yt,Q.relatedTarget=$,ne=null,ni(J)===z&&(Ie=new Ie(H,j+"enter",ve,o,J),Ie.target=$,Ie.relatedTarget=yt,ne=Ie),yt=ne,Z&&ve)t:{for(Ie=Z,H=ve,j=0,$=Ie;$;$=Ao($))j++;for($=0,ne=H;ne;ne=Ao(ne))$++;for(;0<j-$;)Ie=Ao(Ie),j--;for(;0<$-j;)H=Ao(H),$--;for(;j--;){if(Ie===H||H!==null&&Ie===H.alternate)break t;Ie=Ao(Ie),H=Ao(H)}Ie=null}else Ie=null;Z!==null&&fT(se,Q,Z,Ie,!1),ve!==null&&yt!==null&&fT(se,yt,ve,Ie,!0)}}e:{if(Q=z?jr(z):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var me=jv;else if(Vt(Q))if(zv)me=HC;else{me=BC;var Pe=zC}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?z&&Il(z.elementType)&&(me=jv):me=FC;if(me&&(me=me(i,z))){Xi(se,me,o,J);break e}Pe&&Pe(i,Q,z),i==="focusout"&&z&&Q.type==="number"&&z.memoizedProps.value!=null&&Ka(Q,"number",Q.value)}switch(Pe=z?jr(z):window,i){case"focusin":(Vt(Pe)||Pe.contentEditable==="true")&&(no=Pe,Ld=z,jl=null);break;case"focusout":jl=Ld=no=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,Yv(se,o,J);break;case"selectionchange":if(KC)break;case"keydown":case"keyup":Yv(se,o,J)}var _e;if(Si)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Be?X(i,o)&&(Ee="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(T&&o.locale!=="ko"&&(Be||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Be&&(_e=Ml()):(Ti=J,Gr="value"in Ti?Ti.value:Ti.textContent,Be=!0)),Pe=Oh(z,Ee),0<Pe.length&&(Ee=new Ol(Ee,i,null,o,J),se.push({event:Ee,listeners:Pe}),_e?Ee.data=_e:(_e=oe(o),_e!==null&&(Ee.data=_e)))),(_e=v?Mt(i,o):Fe(i,o))&&(Ee=Oh(z,"onBeforeInput"),0<Ee.length&&(Pe=new Ol("onBeforeInput","beforeinput",null,o,J),se.push({event:Pe,listeners:Ee}),Pe.data=_e)),xx(se,i,z,o,J)}cT(se,s)})}function du(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Oh(i,s){for(var o=s+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ks(i,o),m!=null&&u.unshift(du(i,m,g)),m=Ks(i,s),m!=null&&u.push(du(i,m,g))),i=i.return}return u}function Ao(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function fT(i,s,o,u,m){for(var g=s._reactName,E=[];o!==null&&o!==u;){var w=o,M=w.alternate,z=w.stateNode;if(w=w.tag,M!==null&&M===u)break;w!==5&&w!==26&&w!==27||z===null||(M=z,m?(z=Ks(o,g),z!=null&&E.unshift(du(o,z,M))):m||(z=Ks(o,g),z!=null&&E.push(du(o,z,M)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var Vx=/\r\n?/g,Px=/\u0000|\uFFFD/g;function dT(i){return(typeof i=="string"?i:""+i).replace(Vx,`
`).replace(Px,"")}function mT(i,s){return s=dT(s),dT(i)===s}function Nh(){}function et(i,s,o,u,m,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Nn(i,""+u);break;case"className":Fr(i,"class",u);break;case"tabIndex":Fr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(i,o,u);break;case"style":Lc(i,u,g);break;case"data":if(s!=="object"){Fr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=_i(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&et(i,s,"name",m.name,m,null),et(i,s,"formEncType",m.formEncType,m,null),et(i,s,"formMethod",m.formMethod,m,null),et(i,s,"formTarget",m.formTarget,m,null)):(et(i,s,"encType",m.encType,m,null),et(i,s,"method",m.method,m,null),et(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=_i(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Nh);break;case"onScroll":u!=null&&Ue("scroll",i);break;case"onScrollEnd":u!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=_i(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),Br(i,"popover",u);break;case"xlinkActuate":On(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":On(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":On(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":On(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":On(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":On(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":On(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":On(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":On(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Br(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Dd.get(o)||o,Br(i,o,u))}}function op(i,s,o,u,m,g){switch(o){case"style":Lc(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&Nn(i,""+u);break;case"onScroll":u!=null&&Ue("scroll",i);break;case"onScrollEnd":u!=null&&Ue("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[Dt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Br(i,o,u)}}}function Qt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(i,s,g,E,o,null)}}m&&et(i,s,"srcSet",o.srcSet,o,null),u&&et(i,s,"src",o.src,o,null);return;case"input":Ue("invalid",i);var w=g=E=m=null,M=null,z=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":m=J;break;case"type":E=J;break;case"checked":M=J;break;case"defaultChecked":z=J;break;case"value":g=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:et(i,s,u,J,o,null)}}qs(i,g,w,M,z,E,m,!1),Hs(i);return;case"select":Ue("invalid",i),u=E=g=null;for(m in o)if(o.hasOwnProperty(m)&&(w=o[m],w!=null))switch(m){case"value":g=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:et(i,s,m,w,o,null)}s=g,o=E,i.multiple=!!u,s!=null?Ke(i,!!u,s,!1):o!=null&&Ke(i,!!u,o,!0);return;case"textarea":Ue("invalid",i),g=m=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":m=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:et(i,s,E,w,o,null)}qr(i,u,m,g),Hs(i);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(i,s,M,u,o,null)}return;case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(u=0;u<fu.length;u++)Ue(fu[u],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in o)if(o.hasOwnProperty(z)&&(u=o[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(i,s,z,u,o,null)}return;default:if(Il(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&op(i,s,J,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&et(i,s,w,u,o,null))}function Ox(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,E=null,w=null,M=null,z=null,J=null;for(Z in o){var se=o[Z];if(o.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":M=se;default:u.hasOwnProperty(Z)||et(i,s,Z,null,u,se)}}for(var Q in u){var Z=u[Q];if(se=o[Q],u.hasOwnProperty(Q)&&(Z!=null||se!=null))switch(Q){case"type":g=Z;break;case"name":m=Z;break;case"checked":z=Z;break;case"defaultChecked":J=Z;break;case"value":E=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Z!==se&&et(i,s,Q,Z,u,se)}}Hr(i,E,w,M,z,J,g,m);return;case"select":Z=E=w=Q=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":Z=M;default:u.hasOwnProperty(g)||et(i,s,g,null,u,M)}for(m in u)if(g=u[m],M=o[m],u.hasOwnProperty(m)&&(g!=null||M!=null))switch(m){case"value":Q=g;break;case"defaultValue":w=g;break;case"multiple":E=g;default:g!==M&&et(i,s,m,g,u,M)}s=w,o=E,u=Z,Q!=null?Ke(i,!!o,Q,!1):!!u!=!!o&&(s!=null?Ke(i,!!o,s,!0):Ke(i,!!o,o?[]:"",!1));return;case"textarea":Z=Q=null;for(w in o)if(m=o[w],o.hasOwnProperty(w)&&m!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(i,s,w,null,u,m)}for(E in u)if(m=u[E],g=o[E],u.hasOwnProperty(E)&&(m!=null||g!=null))switch(E){case"value":Q=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&et(i,s,E,m,u,g)}Gs(i,Q,Z);return;case"option":for(var ve in o)if(Q=o[ve],o.hasOwnProperty(ve)&&Q!=null&&!u.hasOwnProperty(ve))switch(ve){case"selected":i.selected=!1;break;default:et(i,s,ve,null,u,Q)}for(M in u)if(Q=u[M],Z=o[M],u.hasOwnProperty(M)&&Q!==Z&&(Q!=null||Z!=null))switch(M){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:et(i,s,M,Q,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)Q=o[Ie],o.hasOwnProperty(Ie)&&Q!=null&&!u.hasOwnProperty(Ie)&&et(i,s,Ie,null,u,Q);for(z in u)if(Q=u[z],Z=o[z],u.hasOwnProperty(z)&&Q!==Z&&(Q!=null||Z!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:et(i,s,z,Q,u,Z)}return;default:if(Il(s)){for(var yt in o)Q=o[yt],o.hasOwnProperty(yt)&&Q!==void 0&&!u.hasOwnProperty(yt)&&op(i,s,yt,void 0,u,Q);for(J in u)Q=u[J],Z=o[J],!u.hasOwnProperty(J)||Q===Z||Q===void 0&&Z===void 0||op(i,s,J,Q,u,Z);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&et(i,s,H,null,u,Q);for(se in u)Q=u[se],Z=o[se],!u.hasOwnProperty(se)||Q===Z||Q==null&&Z==null||et(i,s,se,Q,u,Z)}var lp=null,up=null;function kh(i){return i.nodeType===9?i:i.ownerDocument}function pT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function cp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hp=null;function Nx(){var i=window.event;return i&&i.type==="popstate"?i===hp?!1:(hp=i,!0):(hp=null,!1)}var yT=typeof setTimeout=="function"?setTimeout:void 0,kx=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,Lx=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(i){return vT.resolve(null).then(i).catch(Ux)}:yT;function Ux(i){setTimeout(function(){throw i})}function fp(i,s){var o=s,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(u===0){i.removeChild(m),Eu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=m}while(o);Eu(s)}function dp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":dp(o),Fs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function jx(i,s,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ur])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ai(i.nextSibling),i===null)break}return null}function zx(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ai(i.nextSibling),i===null))return null;return i}function ai(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function _T(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function TT(i,s,o){switch(s=kh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Yn=new Map,ET=new Set;function Lh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var hr=ue.d;ue.d={f:Bx,r:Fx,D:Hx,C:qx,L:Gx,m:Kx,X:Yx,S:$x,M:Qx};function Bx(){var i=hr.f(),s=Ih();return i||s}function Fx(i){var s=Hi(i);s!==null&&s.tag===5&&s.type==="form"?Y_(s):hr.r(i)}var Ro=typeof document>"u"?null:document;function bT(i,s,o){var u=Ro;if(u&&typeof s=="string"&&s){var m=mt(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),ET.has(m)||(ET.add(m),i={rel:i,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Qt(s,"link",i),lt(s),u.head.appendChild(s)))}}function Hx(i){hr.D(i),bT("dns-prefetch",i,null)}function qx(i,s){hr.C(i,s),bT("preconnect",i,s)}function Gx(i,s,o){hr.L(i,s,o);var u=Ro;if(u&&i&&s){var m='link[rel="preload"][as="'+mt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+mt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+mt(o.imageSizes)+'"]')):m+='[href="'+mt(i)+'"]';var g=m;switch(s){case"style":g=Co(i);break;case"script":g=xo(i)}Yn.has(g)||(i=I({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Yn.set(g,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(mu(g))||s==="script"&&u.querySelector(pu(g))||(s=u.createElement("link"),Qt(s,"link",i),lt(s),u.head.appendChild(s)))}}function Kx(i,s){hr.m(i,s);var o=Ro;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+mt(u)+'"][href="'+mt(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=xo(i)}if(!Yn.has(g)&&(i=I({rel:"modulepreload",href:i},s),Yn.set(g,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pu(g)))return}u=o.createElement("link"),Qt(u,"link",i),lt(u),o.head.appendChild(u)}}}function $x(i,s,o){hr.S(i,s,o);var u=Ro;if(u&&i){var m=zr(u).hoistableStyles,g=Co(i);s=s||"default";var E=m.get(g);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(mu(g)))w.loading=5;else{i=I({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Yn.get(g))&&mp(i,o);var M=E=u.createElement("link");lt(M),Qt(M,"link",i),M._p=new Promise(function(z,J){M.onload=z,M.onerror=J}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Uh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:w},m.set(g,E)}}}function Yx(i,s){hr.X(i,s);var o=Ro;if(o&&i){var u=zr(o).hoistableScripts,m=xo(i),g=u.get(m);g||(g=o.querySelector(pu(m)),g||(i=I({src:i,async:!0},s),(s=Yn.get(m))&&pp(i,s),g=o.createElement("script"),lt(g),Qt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function Qx(i,s){hr.M(i,s);var o=Ro;if(o&&i){var u=zr(o).hoistableScripts,m=xo(i),g=u.get(m);g||(g=o.querySelector(pu(m)),g||(i=I({src:i,async:!0,type:"module"},s),(s=Yn.get(m))&&pp(i,s),g=o.createElement("script"),lt(g),Qt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function wT(i,s,o,u){var m=(m=Vn.current)?Lh(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Co(o.href),o=zr(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Co(o.href);var g=zr(m).hoistableStyles,E=g.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=m.querySelector(mu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Yn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yn.set(i,o),g||Xx(m,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xo(o),o=zr(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Co(i){return'href="'+mt(i)+'"'}function mu(i){return'link[rel="stylesheet"]['+i+"]"}function ST(i){return I({},i,{"data-precedence":i.precedence,precedence:null})}function Xx(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Qt(s,"link",o),lt(s),i.head.appendChild(s))}function xo(i){return'[src="'+mt(i)+'"]'}function pu(i){return"script[async]"+i}function AT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+mt(o.href)+'"]');if(u)return s.instance=u,lt(u),u;var m=I({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),lt(u),Qt(u,"style",m),Uh(u,o.precedence,i),s.instance=u;case"stylesheet":m=Co(o.href);var g=i.querySelector(mu(m));if(g)return s.state.loading|=4,s.instance=g,lt(g),g;u=ST(o),(m=Yn.get(m))&&mp(u,m),g=(i.ownerDocument||i).createElement("link"),lt(g);var E=g;return E._p=new Promise(function(w,M){E.onload=w,E.onerror=M}),Qt(g,"link",u),s.state.loading|=4,Uh(g,o.precedence,i),s.instance=g;case"script":return g=xo(o.src),(m=i.querySelector(pu(g)))?(s.instance=m,lt(m),m):(u=o,(m=Yn.get(g))&&(u=I({},o),pp(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),lt(m),Qt(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Uh(u,o.precedence,i));return s.instance}function Uh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===s)g=w;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function mp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function pp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var jh=null;function RT(i,s,o){if(jh===null){var u=new Map,m=jh=new Map;m.set(o,u)}else m=jh,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Ur]||g[Ut]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var w=u.get(E);w?w.push(g):u.set(E,[g])}}return u}function CT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function Wx(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function xT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var gu=null;function Zx(){}function Jx(i,s,o){if(gu===null)throw Error(r(475));var u=gu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Co(o.href),g=i.querySelector(mu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=zh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,lt(g);return}g=i.ownerDocument||i,o=ST(o),(m=Yn.get(m))&&mp(o,m),g=g.createElement("link"),lt(g);var E=g;E._p=new Promise(function(w,M){E.onload=w,E.onerror=M}),Qt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=zh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function eI(){if(gu===null)throw Error(r(475));var i=gu;return i.stylesheets&&i.count===0&&gp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&gp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)gp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bh=null;function gp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bh=new Map,s.forEach(tI,i),Bh=null,zh.call(i))}function tI(i,s){if(!(s.state.loading&4)){var o=Bh.get(i);if(o)var u=o.get(null);else{o=new Map,Bh.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var E=m[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}m=s.instance,E=m.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,m),o.set(E,m),this.count++,u=zh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var yu={$$typeof:A,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function nI(i,s,o,u,m,g,E,w){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.hiddenUpdates=Fa(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function IT(i,s,o,u,m,g,E,w,M,z,J,se){return i=new nI(i,s,o,E,w,M,z,se),s=1,g===!0&&(s|=24),g=Kn(3,null,null,s),i.current=g,g.stateNode=i,s=Yd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},xm(g),i}function DT(i){return i?(i=so,i):so}function MT(i,s,o,u,m,g){m=DT(m),u.context===null?u.context=m:u.pendingContext=m,u=Jr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=es(i,u,s),o!==null&&(pn(o,i,s),eu(o,i,s))}function VT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function yp(i,s){VT(i,s),(i=i.alternate)&&VT(i,s)}function PT(i){if(i.tag===13){var s=Kr(i,67108864);s!==null&&pn(s,i,67108864),yp(i,67108864)}}var Fh=!0;function iI(i,s,o,u){var m=C.T;C.T=null;var g=ue.p;try{ue.p=2,vp(i,s,o,u)}finally{ue.p=g,C.T=m}}function rI(i,s,o,u){var m=C.T;C.T=null;var g=ue.p;try{ue.p=8,vp(i,s,o,u)}finally{ue.p=g,C.T=m}}function vp(i,s,o,u){if(Fh){var m=_p(u);if(m===null)ap(i,s,u,Hh,o),NT(i,u);else if(aI(m,i,s,o,u))u.stopPropagation();else if(NT(i,u),s&4&&-1<sI.indexOf(i)){for(;m!==null;){var g=Hi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ti(g.pendingLanes);if(E!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var M=1<<31-hn(E);w.entanglements[1]|=M,E&=~M}Di(g),(ct&6)===0&&(Rh=vn()+500,hu(0))}}break;case 13:w=Kr(g,2),w!==null&&pn(w,g,2),Ih(),yp(g,2)}if(g=_p(u),g===null&&ap(i,s,u,Hh,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else ap(i,s,u,null,o)}}function _p(i){return i=$a(i),Tp(i)}var Hh=null;function Tp(i){if(Hh=null,i=ni(i),i!==null){var s=le(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Se(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Hh=i,null}function OT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xc()){case It:return 2;case Lt:return 8;case Bi:case Ic:return 32;case _l:return 268435456;default:return 32}default:return 32}}var Ep=!1,os=null,ls=null,us=null,vu=new Map,_u=new Map,cs=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NT(i,s){switch(i){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":vu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(s.pointerId)}}function Tu(i,s,o,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Hi(s),s!==null&&PT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function aI(i,s,o,u,m){switch(s){case"focusin":return os=Tu(os,i,s,o,u,m),!0;case"dragenter":return ls=Tu(ls,i,s,o,u,m),!0;case"mouseover":return us=Tu(us,i,s,o,u,m),!0;case"pointerover":var g=m.pointerId;return vu.set(g,Tu(vu.get(g)||null,i,s,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,_u.set(g,Tu(_u.get(g)||null,i,s,o,u,m)),!0}return!1}function kT(i){var s=ni(i.target);if(s!==null){var o=le(s);if(o!==null){if(s=o.tag,s===13){if(s=Se(o),s!==null){i.blockedOn=s,Lr(i.priority,function(){if(o.tag===13){var u=In(),m=Kr(o,u);m!==null&&pn(m,o,u),yp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=_p(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);kn=u,o.target.dispatchEvent(u),kn=null}else return s=Hi(o),s!==null&&PT(s),i.blockedOn=o,!1;s.shift()}return!0}function LT(i,s,o){qh(i)&&o.delete(s)}function oI(){Ep=!1,os!==null&&qh(os)&&(os=null),ls!==null&&qh(ls)&&(ls=null),us!==null&&qh(us)&&(us=null),vu.forEach(LT),_u.forEach(LT)}function Gh(i,s){i.blockedOn===s&&(i.blockedOn=null,Ep||(Ep=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oI)))}var Kh=null;function UT(i){Kh!==i&&(Kh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kh===i&&(Kh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(Tp(u||o)===null)continue;break}var g=Hi(o);g!==null&&(i.splice(s,3),s-=3,cm(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Eu(i){function s(M){return Gh(M,i)}os!==null&&Gh(os,i),ls!==null&&Gh(ls,i),us!==null&&Gh(us,i),vu.forEach(s),_u.forEach(s);for(var o=0;o<cs.length;o++){var u=cs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<cs.length&&(o=cs[0],o.blockedOn===null);)kT(o),o.blockedOn===null&&cs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],E=m[Dt]||null;if(typeof g=="function")E||UT(o);else if(E){var w=null;if(g&&g.hasAttribute("formAction")){if(m=g,E=g[Dt]||null)w=E.formAction;else if(Tp(m)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),UT(o)}}}function bp(i){this._internalRoot=i}$h.prototype.render=bp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=In();MT(o,u,i,s,null,null)},$h.prototype.unmount=bp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&wo(),MT(i.current,2,null,i,null,null),Ih(),s[Fi]=null}};function $h(i){this._internalRoot=i}$h.prototype.unstable_scheduleHydration=function(i){if(i){var s=Oc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<cs.length&&s!==0&&s<cs[o].priority;o++);cs.splice(o,0,i),o===0&&kT(i)}};var jT=e.version;if(jT!=="19.0.0")throw Error(r(527,jT,"19.0.0"));ue.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ae(s),i=i!==null?ye(i):null,i=i===null?null:i.stateNode,i};var lI={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:ni,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{Mr=Yh.inject(lI),en=Yh}catch{}}return wu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",m=n0,g=i0,E=r0,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=IT(i,1,!1,null,null,o,u,m,g,E,w,null),i[Fi]=s.current,sp(i.nodeType===8?i.parentNode:i),new bp(s)},wu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,m="",g=n0,E=i0,w=r0,M=null,z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(z=o.formState)),s=IT(i,1,!0,s,o??null,u,m,g,E,w,M,z),s.context=DT(null),o=s.current,u=In(),m=Jr(u),m.callback=null,es(o,m,u),s.current.lanes=u,Tt(s,u),Di(s),i[Fi]=s.current,sp(i),new $h(s)},wu.version="19.0.0",wu}var QT;function _I(){if(QT)return Ap.exports;QT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ap.exports=vI(),Ap.exports}var TI=_I();const EI=rS(TI);var Su={},XT;function bI(){if(XT)return Su;XT=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.parse=c,Su.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,A){const x=new l,O=b.length;if(O<2)return x;const P=(A==null?void 0:A.decode)||y;let k=0;do{const Y=b.indexOf("=",k);if(Y===-1)break;const K=b.indexOf(";",k),ee=K===-1?O:K;if(Y>ee){k=b.lastIndexOf(";",Y-1)+1;continue}const W=f(b,k,Y),B=d(b,Y,W),D=b.slice(W,B);if(x[D]===void 0){let R=f(b,Y+1,ee),C=d(b,ee,R);const I=P(b.slice(R,C));x[D]=I}k=ee+1}while(k<O);return x}function f(b,A,x){do{const O=b.charCodeAt(A);if(O!==32&&O!==9)return A}while(++A<x);return x}function d(b,A,x){for(;A>x;){const O=b.charCodeAt(--A);if(O!==32&&O!==9)return A+1}return x}function p(b,A,x){const O=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const P=O(A);if(!e.test(P))throw new TypeError(`argument val is invalid: ${A}`);let k=b+"="+P;if(!x)return k;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);k+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);k+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);k+="; Path="+x.path}if(x.expires){if(!_(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);k+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(k+="; HttpOnly"),x.secure&&(k+="; Secure"),x.partitioned&&(k+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return k}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return a.call(b)==="[object Date]"}return Su}bI();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WT="popstate";function wI(t={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return ng("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:$u(a)}return AI(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SI(){return Math.random().toString(36).substring(2,10)}function ZT(t,e){return{usr:t.state,key:t.key,idx:e}}function ng(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?nl(e):e,state:n,key:e&&e.key||r||SI()}}function $u({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function AI(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",d=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let P=y(),k=P==null?null:P-p;p=P,d&&d({action:f,location:O.location,delta:k})}function b(P,k){f="PUSH";let Y=ng(O.location,P,k);p=y()+1;let K=ZT(Y,p),ee=O.createHref(Y);try{c.pushState(K,"",ee)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(ee)}l&&d&&d({action:f,location:O.location,delta:1})}function A(P,k){f="REPLACE";let Y=ng(O.location,P,k);p=y();let K=ZT(Y,p),ee=O.createHref(Y);c.replaceState(K,"",ee),l&&d&&d({action:f,location:O.location,delta:0})}function x(P){let k=a.location.origin!=="null"?a.location.origin:a.location.href,Y=typeof P=="string"?P:$u(P);return Y=Y.replace(/ $/,"%20"),ot(k,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,k)}let O={get action(){return f},get location(){return t(a,c)},listen(P){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(WT,_),d=P,()=>{a.removeEventListener(WT,_),d=null}},createHref(P){return e(a,P)},createURL:x,encodeLocation(P){let k=x(P);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:A,go(P){return c.go(P)}};return O}function sS(t,e,n="/"){return RI(t,e,n,!1)}function RI(t,e,n,r){let a=typeof e=="string"?nl(e):e,l=Er(a.pathname||"/",n);if(l==null)return null;let c=aS(t);CI(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let p=UI(l);f=kI(c[d],p,r)}return f}function aS(t,e=[],n=[],r=""){let a=(l,c,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(ot(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=yr([r,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),aS(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:OI(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let d of oS(l.path))a(l,c,d)}),e}function oS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=oS(r.join("/")),f=[];return f.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&f.push(...c),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function CI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xI=/^:[\w-]+$/,II=3,DI=2,MI=1,VI=10,PI=-2,JT=t=>t==="*";function OI(t,e){let n=t.split("/"),r=n.length;return n.some(JT)&&(r+=PI),e&&(r+=DI),n.filter(a=>!JT(a)).reduce((a,l)=>a+(xI.test(l)?II:l===""?MI:VI),r)}function NI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function kI(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let f=0;f<r.length;++f){let d=r[f],p=f===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),b=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:yr([l,_.pathname]),pathnameBase:FI(yr([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=yr([l,_.pathnameBase]))}return c}function wf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let x=f[b]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const A=f[b];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function LI(t,e=!1,n=!0){ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function UI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Er(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jI(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?nl(t):t;return{pathname:n?n.startsWith("/")?n:zI(n,e):e,search:HI(r),hash:qI(a)}}function zI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ip(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ey(t){let e=BI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ty(t,e,n,r=!1){let a;typeof t=="string"?a=nl(t):(a={...t},ot(!a.pathname||!a.pathname.includes("?"),Ip("?","pathname","search",a)),ot(!a.pathname||!a.pathname.includes("#"),Ip("#","pathname","hash",a)),ot(!a.search||!a.search.includes("#"),Ip("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?e[_]:"/"}let d=jI(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var yr=t=>t.join("/").replace(/\/\/+/g,"/"),FI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var lS=["POST","PUT","PATCH","DELETE"];new Set(lS);var KI=["GET",...lS];new Set(KI);var il=N.createContext(null);il.displayName="DataRouter";var Qf=N.createContext(null);Qf.displayName="DataRouterState";var uS=N.createContext({isTransitioning:!1});uS.displayName="ViewTransition";var $I=N.createContext(new Map);$I.displayName="Fetchers";var YI=N.createContext(null);YI.displayName="Await";var fi=N.createContext(null);fi.displayName="Navigation";var cc=N.createContext(null);cc.displayName="Location";var di=N.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var ny=N.createContext(null);ny.displayName="RouteError";function QI(t,{relative:e}={}){ot(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(fi),{hash:a,pathname:l,search:c}=fc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:yr([n,l])),r.createHref({pathname:f,search:c,hash:a})}function rl(){return N.useContext(cc)!=null}function Os(){return ot(rl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(cc).location}var cS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hS(t){N.useContext(fi).static||N.useLayoutEffect(t)}function hc(){let{isDataRoute:t}=N.useContext(di);return t?cD():XI()}function XI(){ot(rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(il),{basename:e,navigator:n}=N.useContext(fi),{matches:r}=N.useContext(di),{pathname:a}=Os(),l=JSON.stringify(ey(r)),c=N.useRef(!1);return hS(()=>{c.current=!0}),N.useCallback((d,p={})=>{if(ui(c.current,cS),!c.current)return;if(typeof d=="number"){n.go(d);return}let y=ty(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:yr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var WI=N.createContext(null);function ZI(t){let e=N.useContext(di).outlet;return e&&N.createElement(WI.Provider,{value:t},e)}function fc(t,{relative:e}={}){let{matches:n}=N.useContext(di),{pathname:r}=Os(),a=JSON.stringify(ey(n));return N.useMemo(()=>ty(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function JI(t,e){return fS(t,e)}function fS(t,e,n,r){var Y;ot(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=N.useContext(fi),{matches:c}=N.useContext(di),f=c[c.length-1],d=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let K=_&&_.path||"";dS(p,!_||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let b=Os(),A;if(e){let K=typeof e=="string"?nl(e):e;ot(y==="/"||((Y=K.pathname)==null?void 0:Y.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),A=K}else A=b;let x=A.pathname||"/",O=x;if(y!=="/"){let K=y.replace(/^\//,"").split("/");O="/"+x.replace(/^\//,"").split("/").slice(K.length).join("/")}let P=!l&&n&&n.matches&&n.matches.length>0?n.matches:sS(t,{pathname:O});ui(_||P!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ui(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=rD(P&&P.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:yr([y,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:yr([y,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,n,r);return e&&k?N.createElement(cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},k):k}function eD(){let t=uD(),e=GI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var tD=N.createElement(eD,null),nD=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(di.Provider,{value:this.props.routeContext},N.createElement(ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iD({routeContext:t,match:e,children:n}){let r=N.useContext(il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(di.Provider,{value:t},n)}function rD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ot(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:y,errors:_}=n,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||b){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,p,y)=>{let _,b=!1,A=null,x=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||tD,c&&(f<0&&y===0?(dS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):f===y&&(b=!0,x=p.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,y+1)),P=()=>{let k;return _?k=A:b?k=x:p.route.Component?k=N.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,N.createElement(iD,{match:p,routeContext:{outlet:d,matches:O,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?N.createElement(nD,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:P(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):P()},null)}function iy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sD(t){let e=N.useContext(il);return ot(e,iy(t)),e}function aD(t){let e=N.useContext(Qf);return ot(e,iy(t)),e}function oD(t){let e=N.useContext(di);return ot(e,iy(t)),e}function ry(t){let e=oD(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function lD(){return ry("useRouteId")}function uD(){var r;let t=N.useContext(ny),e=aD("useRouteError"),n=ry("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function cD(){let{router:t}=sD("useNavigate"),e=ry("useNavigate"),n=N.useRef(!1);return hS(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{ui(n.current,cS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var eE={};function dS(t,e,n){!e&&!eE[t]&&(eE[t]=!0,ui(!1,n))}N.memo(hD);function hD({routes:t,future:e,state:n}){return fS(t,void 0,n,e)}function mS({to:t,replace:e,state:n,relative:r}){ot(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(fi);ui(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(di),{pathname:c}=Os(),f=hc(),d=ty(t,ey(l),c,r==="path"),p=JSON.stringify(d);return N.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:r})},[f,p,r,e,n]),null}function pS(t){return ZI(t.context)}function fr(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){ot(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=nl(n));let{pathname:d="/",search:p="",hash:y="",state:_=null,key:b="default"}=n,A=N.useMemo(()=>{let x=Er(d,c);return x==null?null:{location:{pathname:x,search:p,hash:y,state:_,key:b},navigationType:r}},[c,d,p,y,_,b,r]);return ui(A!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:N.createElement(fi.Provider,{value:f},N.createElement(cc.Provider,{children:e,value:A}))}function dD({children:t,location:e}){return JI(ig(t),e)}function ig(t,e=[]){let n=[];return N.Children.forEach(t,(r,a)=>{if(!N.isValidElement(r))return;let l=[...e,a];if(r.type===N.Fragment){n.push.apply(n,ig(r.props.children,l));return}ot(r.type===fr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ig(r.props.children,l)),n.push(c)}),n}var lf="get",uf="application/x-www-form-urlencoded";function Xf(t){return t!=null&&typeof t.tagName=="string"}function mD(t){return Xf(t)&&t.tagName.toLowerCase()==="button"}function pD(t){return Xf(t)&&t.tagName.toLowerCase()==="form"}function gD(t){return Xf(t)&&t.tagName.toLowerCase()==="input"}function yD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vD(t,e){return t.button===0&&(!e||e==="_self")&&!yD(t)}var Qh=null;function _D(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch{Qh=!0}return Qh}var TD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dp(t){return t!=null&&!TD.has(t)?(ui(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uf}"`),null):t}function ED(t,e){let n,r,a,l,c;if(pD(t)){let f=t.getAttribute("action");r=f?Er(f,e):null,n=t.getAttribute("method")||lf,a=Dp(t.getAttribute("enctype"))||uf,l=new FormData(t)}else if(mD(t)||gD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(r=d?Er(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||lf,a=Dp(t.getAttribute("formenctype"))||Dp(f.getAttribute("enctype"))||uf,l=new FormData(f,t),!_D()){let{name:p,type:y,value:_}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(Xf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lf,r=null,a=uf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function sy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function bD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function SD(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await bD(l,n);return c.links?c.links():[]}return[]}));return xD(r.flat(1).filter(wD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tE(t,e,n,r,a,l){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,f=(d,p)=>{var y;return n[p].pathname!==d.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>c(d,p)||f(d,p)):l==="data"?e.filter((d,p)=>{var _;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function AD(t,e,{includeHydrateFallback:n}={}){return RD(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function RD(t){return[...new Set(t)]}function CD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function xD(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(CD(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function ID(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Er(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function gS(){let t=N.useContext(il);return sy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DD(){let t=N.useContext(Qf);return sy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ay=N.createContext(void 0);ay.displayName="FrameworkContext";function yS(){let t=N.useContext(ay);return sy(t,"You must render this element inside a <HydratedRouter> element"),t}function MD(t,e){let n=N.useContext(ay),[r,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,b=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let O=k=>{k.forEach(Y=>{c(Y.isIntersecting)})},P=new IntersectionObserver(O,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[t]),N.useEffect(()=>{if(r){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[r]);let A=()=>{a(!0)},x=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Au(f,A),onBlur:Au(d,x),onMouseEnter:Au(p,A),onMouseLeave:Au(y,x),onTouchStart:Au(_,A)}]:[!1,b,{}]}function Au(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VD({page:t,...e}){let{router:n}=gS(),r=N.useMemo(()=>sS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(OD,{page:t,matches:r,...e}):null}function PD(t){let{manifest:e,routeModules:n}=yS(),[r,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return SD(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function OD({page:t,matches:e,...n}){let r=Os(),{manifest:a,routeModules:l}=yS(),{basename:c}=gS(),{loaderData:f,matches:d}=DD(),p=N.useMemo(()=>tE(t,e,d,a,r,"data"),[t,e,d,a,r]),y=N.useMemo(()=>tE(t,e,d,a,r,"assets"),[t,e,d,a,r]),_=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,O=!1;if(e.forEach(k=>{var K;let Y=a.routes[k.route.id];!Y||!Y.hasLoader||(!p.some(ee=>ee.route.id===k.route.id)&&k.route.id in f&&((K=l[k.route.id])!=null&&K.shouldRevalidate)||Y.hasClientLoader?O=!0:x.add(k.route.id))}),x.size===0)return[];let P=ID(t,c);return O&&x.size>0&&P.searchParams.set("_routes",e.filter(k=>x.has(k.route.id)).map(k=>k.route.id).join(",")),[P.pathname+P.search]},[c,f,r,a,p,e,t,l]),b=N.useMemo(()=>AD(y,a),[y,a]),A=PD(y);return N.createElement(N.Fragment,null,_.map(x=>N.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),b.map(x=>N.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),A.map(({key:x,link:O})=>N.createElement("link",{key:x,...O})))}function ND(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vS&&(window.__reactRouterVersion="7.3.0")}catch{}function kD({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=wI({window:n,v5Compat:!0}));let a=r.current,[l,c]=N.useState({action:a.action,location:a.location}),f=N.useCallback(d=>{N.startTransition(()=>c(d))},[c]);return N.useLayoutEffect(()=>a.listen(f),[a,f]),N.createElement(fD,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var _S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ku=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:d,to:p,preventScrollReset:y,viewTransition:_,...b},A){let{basename:x}=N.useContext(fi),O=typeof p=="string"&&_S.test(p),P,k=!1;if(typeof p=="string"&&O&&(P=p,vS))try{let C=new URL(window.location.href),I=p.startsWith("//")?new URL(C.protocol+p):new URL(p),U=Er(I.pathname,x);I.origin===C.origin&&U!=null?p=U+I.search+I.hash:k=!0}catch{ui(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=QI(p,{relative:a}),[K,ee,W]=MD(r,b),B=zD(p,{replace:c,state:f,target:d,preventScrollReset:y,relative:a,viewTransition:_});function D(C){e&&e(C),C.defaultPrevented||B(C)}let R=N.createElement("a",{...b,...W,href:P||Y,onClick:k||l?e:D,ref:ND(A,ee),target:d,"data-discover":!O&&n==="render"?"true":void 0});return K&&!O?N.createElement(N.Fragment,null,R,N.createElement(VD,{page:Y})):R});ku.displayName="Link";var LD=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:d,...p},y){let _=fc(c,{relative:p.relative}),b=Os(),A=N.useContext(Qf),{navigator:x,basename:O}=N.useContext(fi),P=A!=null&&GD(_)&&f===!0,k=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,Y=b.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),K=K?K.toLowerCase():null,k=k.toLowerCase()),K&&O&&(K=Er(K,O)||K);const ee=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let W=Y===k||!a&&Y.startsWith(k)&&Y.charAt(ee)==="/",B=K!=null&&(K===k||!a&&K.startsWith(k)&&K.charAt(k.length)==="/"),D={isActive:W,isPending:B,isTransitioning:P},R=W?e:void 0,C;typeof r=="function"?C=r(D):C=[r,W?"active":null,B?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(D):l;return N.createElement(ku,{...p,"aria-current":R,className:C,ref:y,style:I,to:c,viewTransition:f},typeof d=="function"?d(D):d)});LD.displayName="NavLink";var UD=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=lf,action:f,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:_,...b},A)=>{let x=HD(),O=qD(f,{relative:p}),P=c.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&_S.test(f),Y=K=>{if(d&&d(K),K.defaultPrevented)return;K.preventDefault();let ee=K.nativeEvent.submitter,W=(ee==null?void 0:ee.getAttribute("formmethod"))||c;x(ee||K.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return N.createElement("form",{ref:A,method:P,action:O,onSubmit:r?d:Y,...b,"data-discover":!k&&t==="render"?"true":void 0})});UD.displayName="Form";function jD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TS(t){let e=N.useContext(il);return ot(e,jD(t)),e}function zD(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=hc(),d=Os(),p=fc(t,{relative:l});return N.useCallback(y=>{if(vD(y,e)){y.preventDefault();let _=n!==void 0?n:$u(d)===$u(p);f(t,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[d,f,p,n,r,e,t,a,l,c])}var BD=0,FD=()=>`__${String(++BD)}__`;function HD(){let{router:t}=TS("useSubmit"),{basename:e}=N.useContext(fi),n=lD();return N.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:d,body:p}=ED(r,e);if(a.navigate===!1){let y=a.fetcherKey||FD();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function qD(t,{relative:e}={}){let{basename:n}=N.useContext(fi),r=N.useContext(di);ot(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...fc(t||".",{relative:e})},c=Os();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(y=>y==="")){f.delete("index"),d.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:yr([n,l.pathname])),$u(l)}function GD(t,e={}){let n=N.useContext(uS);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TS("useViewTransitionState"),a=fc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Er(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Er(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wf(a.pathname,c)!=null||wf(a.pathname,l)!=null}new TextEncoder;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=()=>{};var nE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},$D=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},bS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,A=p&63;d||(A=64,c||(b=64)),r.push(n[y],n[_],n[b],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ES(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$D(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new YD;const b=l<<2|f>>4;if(r.push(b),p!==64){const A=f<<4&240|p>>2;if(r.push(A),_!==64){const x=p<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QD=function(t){const e=ES(t);return bS.encodeByteArray(e,!0)},Sf=function(t){return QD(t).replace(/\./g,"")},wS=function(t){try{return bS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=()=>XD().__FIREBASE_DEFAULTS__,ZD=()=>{if(typeof process>"u"||typeof nE>"u")return;const t=nE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wS(t[1]);return e&&JSON.parse(e)},Wf=()=>{try{return KD()||WD()||ZD()||JD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SS=t=>{var e,n;return(n=(e=Wf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eM=t=>{const e=SS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AS=()=>{var t;return(t=Wf())===null||t===void 0?void 0:t.config},RS=t=>{var e;return(e=Wf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sf(JSON.stringify(n)),Sf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function rM(){var t;const e=(t=Wf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lM(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uM(){return!rM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cM(){try{return typeof indexedDB=="object"}catch{return!1}}function hM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fM,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?dM(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new xr(a,f,r)}}function dM(t,e){return t.replace(mM,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const mM=/\{\$([^}]+)}/g;function pM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ca(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(iE(l)&&iE(c)){if(!Ca(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function iE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gM(t,e){const n=new yM(t,e);return n.subscribe.bind(n)}class yM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Mp),a.error===void 0&&(a.error=Mp),a.complete===void 0&&(a.complete=Mp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class xa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EM(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TM(t){return t===Ta?void 0:t}function EM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _M(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const wM={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},SM=ke.INFO,AM={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},RM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=AM[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oy{constructor(e){this.name=e,this._logLevel=SM,this._logHandler=RM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const CM=(t,e)=>e.some(n=>t instanceof n);let rE,sE;function xM(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IM(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CS=new WeakMap,rg=new WeakMap,xS=new WeakMap,Vp=new WeakMap,ly=new WeakMap;function DM(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ts(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&CS.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function MM(t){if(rg.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});rg.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VM(t){sg=t(sg)}function PM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pp(this),e,...n);return xS.set(r,e.sort?e.sort():[e]),Ts(r)}:IM().includes(t)?function(...e){return t.apply(Pp(this),e),Ts(CS.get(this))}:function(...e){return Ts(t.apply(Pp(this),e))}}function OM(t){return typeof t=="function"?PM(t):(t instanceof IDBTransaction&&MM(t),CM(t,xM())?new Proxy(t,sg):t)}function Ts(t){if(t instanceof IDBRequest)return DM(t);if(Vp.has(t))return Vp.get(t);const e=OM(t);return e!==t&&(Vp.set(t,e),ly.set(e,t)),e}const Pp=t=>ly.get(t);function NM(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Ts(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Ts(c.result),d.oldVersion,d.newVersion,Ts(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const kM=["get","getKey","getAll","getAllKeys","count"],LM=["put","add","delete","clear"],Op=new Map;function aE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=LM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||kM.includes(n)))return;const l=async function(c,...f){const d=this.transaction(c,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&d.done]))[0]};return Op.set(e,l),l}VM(t=>({...t,get:(e,n,r)=>aE(e,n)||t.get(e,n,r),has:(e,n)=>!!aE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",oE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new oy("@firebase/app"),zM="@firebase/app-compat",BM="@firebase/analytics-compat",FM="@firebase/analytics",HM="@firebase/app-check-compat",qM="@firebase/app-check",GM="@firebase/auth",KM="@firebase/auth-compat",$M="@firebase/database",YM="@firebase/data-connect",QM="@firebase/database-compat",XM="@firebase/functions",WM="@firebase/functions-compat",ZM="@firebase/installations",JM="@firebase/installations-compat",e2="@firebase/messaging",t2="@firebase/messaging-compat",n2="@firebase/performance",i2="@firebase/performance-compat",r2="@firebase/remote-config",s2="@firebase/remote-config-compat",a2="@firebase/storage",o2="@firebase/storage-compat",l2="@firebase/firestore",u2="@firebase/vertexai",c2="@firebase/firestore-compat",h2="firebase",f2="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",d2={[ag]:"fire-core",[zM]:"fire-core-compat",[FM]:"fire-analytics",[BM]:"fire-analytics-compat",[qM]:"fire-app-check",[HM]:"fire-app-check-compat",[GM]:"fire-auth",[KM]:"fire-auth-compat",[$M]:"fire-rtdb",[YM]:"fire-data-connect",[QM]:"fire-rtdb-compat",[XM]:"fire-fn",[WM]:"fire-fn-compat",[ZM]:"fire-iid",[JM]:"fire-iid-compat",[e2]:"fire-fcm",[t2]:"fire-fcm-compat",[n2]:"fire-perf",[i2]:"fire-perf-compat",[r2]:"fire-rc",[s2]:"fire-rc-compat",[a2]:"fire-gcs",[o2]:"fire-gcs-compat",[l2]:"fire-fst",[c2]:"fire-fst-compat",[u2]:"fire-vertex","fire-js":"fire-js",[h2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,m2=new Map,lg=new Map;function lE(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(lg.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,t);for(const n of Af.values())lE(n,t);for(const n of m2.values())lE(n,t);return!0}function uy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new dc("app","Firebase",p2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=f2;function IS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:og,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Es.create("bad-app-name",{appName:String(a)});if(n||(n=AS()),!n)throw Es.create("no-options");const l=Af.get(a);if(l){if(Ca(n,l.options)&&Ca(r,l.config))return l;throw Es.create("duplicate-app",{appName:a})}const c=new bM(a);for(const d of lg.values())c.addComponent(d);const f=new g2(n,r,c);return Af.set(a,f),f}function DS(t=og){const e=Af.get(t);if(!e&&t===og&&AS())return IS();if(!e)throw Es.create("no-app",{appName:t});return e}function bs(t,e,n){var r;let a=(r=d2[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(f.join(" "));return}qo(new xa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="firebase-heartbeat-database",v2=1,Yu="firebase-heartbeat-store";let Np=null;function MS(){return Np||(Np=NM(y2,v2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),Np}async function _2(t){try{const n=(await MS()).transaction(Yu),r=await n.objectStore(Yu).get(VS(t));return await n.done,r}catch(e){if(e instanceof xr)br.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(n.message)}}}async function uE(t,e){try{const r=(await MS()).transaction(Yu,"readwrite");await r.objectStore(Yu).put(e,VS(t)),await r.done}catch(n){if(n instanceof xr)br.warn(n.message);else{const r=Es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(r.message)}}}function VS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=1024,E2=30;class b2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=cE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>E2){const c=A2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cE(),{heartbeatsToSend:r,unsentEntries:a}=w2(this._heartbeatsCache.heartbeats),l=Sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return br.warn(n),""}}}function cE(){return new Date().toISOString().substring(0,10)}function w2(t,e=T2){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),hE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),hE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cM()?hM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return uE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return uE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function hE(t){return Sf(JSON.stringify({version:2,heartbeats:t})).length}function A2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){qo(new xa("platform-logger",e=>new UM(e),"PRIVATE")),qo(new xa("heartbeat",e=>new b2(e),"PRIVATE")),bs(ag,oE,t),bs(ag,oE,"esm2017"),bs("fire-js","")}R2("");function cy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C2=PS,OS=new dc("auth","Firebase",PS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new oy("@firebase/auth");function x2(t,...e){Rf.logLevel<=ke.WARN&&Rf.warn(`Auth (${sl}): ${t}`,...e)}function cf(t,...e){Rf.logLevel<=ke.ERROR&&Rf.error(`Auth (${sl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,...e){throw fy(t,...e)}function li(t,...e){return fy(t,...e)}function hy(t,e,n){const r=Object.assign(Object.assign({},C2()),{[e]:n});return new dc("auth","Firebase",r).create(e,{appName:t.name})}function ws(t){return hy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ei(t,"argument-error"),hy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OS.create(t,...e)}function we(t,e,...n){if(!t)throw fy(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cf(e),new Error(e)}function wr(t,e){t||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function D2(){return fE()==="http:"||fE()==="https:"}function fE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D2()||aM()||"connection"in navigator)?navigator.onLine:!0}function V2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=iM()||oM()}get(){return M2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new pc(3e4,6e4);function Va(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ns(t,e,n,r,a={}){return kS(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=mc(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},l);return sM()||(p.referrerPolicy="no-referrer"),NS.fetch()(LS(t,t.config.apiHost,n,f),p)})}async function kS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},P2),e);try{const a=new k2(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Xh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Xh(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Xh(t,"user-disabled",c);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw hy(t,y,p);ei(t,y)}}catch(a){if(a instanceof xr)throw a;ei(t,"network-request-failed",{message:String(a)})}}async function Zf(t,e,n,r,a={}){const l=await Ns(t,e,n,r,a);return"mfaPendingCredential"in l&&ei(t,"multi-factor-auth-required",{_serverResponse:l}),l}function LS(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?dy(t.config,a):`${t.config.apiScheme}://${a}`}function N2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),O2.get())})}}function Xh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=li(t,e,r);return a.customData._tokenResponse=n,a}function dE(t){return t!==void 0&&t.enterprise!==void 0}class L2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U2(t,e){return Ns(t,"GET","/v2/recaptchaConfig",Va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e){return Ns(t,"POST","/v1/accounts:delete",e)}async function US(t,e){return Ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z2(t,e=!1){const n=kt(t),r=await n.getIdToken(e),a=my(r);we(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Lu(kp(a.auth_time)),issuedAtTime:Lu(kp(a.iat)),expirationTime:Lu(kp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function kp(t){return Number(t)*1e3}function my(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=wS(n);return a?JSON.parse(a):(cf("Failed to decode base64 JWT payload"),null)}catch(a){return cf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function mE(t){const e=my(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&B2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Qu(t,US(n,{idToken:r}));we(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?jS(l.providerUserInfo):[],f=q2(t.providerData,c),d=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),y=d?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new cg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function H2(t){const e=kt(t);await Cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q2(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function jS(t){return t.map(e=>{var{providerId:n}=e,r=cy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e){const n=await kS(t,{},async()=>{const r=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=LS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",NS.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function K2(t,e){return Ns(t,"POST","/v2/accounts:revokeToken",Va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=mE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await G2(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new jo;return r&&(we(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(we(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pr{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z2(this,e)}reload(){return H2(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Qu(this,j2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,c,f,d,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(a=n.email)!==null&&a!==void 0?a:void 0,A=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=n.photoURL)!==null&&c!==void 0?c:void 0,O=(f=n.tenantId)!==null&&f!==void 0?f:void 0,P=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,k=(p=n.createdAt)!==null&&p!==void 0?p:void 0,Y=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:K,emailVerified:ee,isAnonymous:W,providerData:B,stsTokenManager:D}=n;we(K&&D,e,"internal-error");const R=jo.fromJSON(this.name,D);we(typeof K=="string",e,"internal-error"),fs(_,e.name),fs(b,e.name),we(typeof ee=="boolean",e,"internal-error"),we(typeof W=="boolean",e,"internal-error"),fs(A,e.name),fs(x,e.name),fs(O,e.name),fs(P,e.name),fs(k,e.name),fs(Y,e.name);const C=new pr({uid:K,auth:e,email:b,emailVerified:ee,displayName:_,isAnonymous:W,photoURL:x,phoneNumber:A,tenantId:O,stsTokenManager:R,createdAt:k,lastLoginAt:Y});return B&&Array.isArray(B)&&(C.providerData=B.map(I=>Object.assign({},I))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new jo;a.updateFromServerResponse(n);const l=new pr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Cf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?jS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new jo;f.updateFromIdToken(r);const d=new pr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new cg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function gr(t){wr(t instanceof Function,"Expected a class definition");let e=pE.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zS.type="NONE";const gE=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e,n){return`firebase:${t}:${e}:${n}`}class zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=hf(this.userKey,a.apiKey,l),this.fullPersistenceKey=hf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zo(gr(gE),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||gr(gE);const c=hf(r,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){const _=pr._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new zo(l,e,r):(l=d[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new zo(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KS(e))return"Blackberry";if($S(e))return"Webos";if(FS(e))return"Safari";if((e.includes("chrome/")||HS(e))&&!e.includes("edge/"))return"Chrome";if(GS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BS(t=un()){return/firefox\//i.test(t)}function FS(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HS(t=un()){return/crios\//i.test(t)}function qS(t=un()){return/iemobile/i.test(t)}function GS(t=un()){return/android/i.test(t)}function KS(t=un()){return/blackberry/i.test(t)}function $S(t=un()){return/webos/i.test(t)}function py(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $2(t=un()){var e;return py(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Y2(){return lM()&&document.documentMode===10}function YS(t=un()){return py(t)||GS(t)||$S(t)||KS(t)||/windows phone/i.test(t)||qS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t,e=[]){let n;switch(t){case"Browser":n=yE(un());break;case"Worker":n=`${yE(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,f)=>{try{const d=e(l);c(d)}catch(d){f(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(t,e={}){return Ns(t,"GET","/v2/passwordPolicy",Va(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=6;class Z2{constructor(e){var n,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:W2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,c,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new Q2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await US(this,{idToken:e}),r=await pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===f)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(ws(this));const n=e?kt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X2(this),n=new Z2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await K2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&x2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pa(t){return kt(t)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=gM(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eV(t){Jf=t}function XS(t){return Jf.loadJS(t)}function tV(){return Jf.recaptchaEnterpriseScript}function nV(){return Jf.gapiScript}function iV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rV{constructor(){this.enterprise=new sV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aV="recaptcha-enterprise",WS="NO_RECAPTCHA";class oV{constructor(e){this.type=aV,this.auth=Pa(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{U2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new L2(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(d=>{f(d)})})}function a(l,c,f){const d=window.grecaptcha;dE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(WS)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&dE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=tV();d.length!==0&&(d+=f),XS(d).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function _E(t,e,n,r=!1,a=!1){const l=new oV(t);let c;if(a)c=WS;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function TE(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _E(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await _E(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t,e){const n=uy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ca(l,e??{}))return a;ei(a,"already-initialized")}return n.initialize({options:e})}function uV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cV(t,e,n){const r=Pa(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=ZS(e),{host:c,port:f}=hV(e),d=f===null?"":`:${f}`,p={url:`${l}//${c}${d}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Ca(p,r.config.emulator)&&Ca(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,fV()}function ZS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hV(t){const e=ZS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:EE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:EE(c)}}}function EE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function dV(t,e){return Ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e){return Zf(t,"POST","/v1/accounts:signInWithPassword",Va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){return Zf(t,"POST","/v1/accounts:signInWithEmailLink",Va(t,e))}async function gV(t,e){return Zf(t,"POST","/v1/accounts:signInWithEmailLink",Va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends gy{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Xu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TE(e,n,"signInWithPassword",mV);case"emailLink":return pV(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TE(e,r,"signUpPassword",dV);case"emailLink":return gV(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e){return Zf(t,"POST","/v1/accounts:signInWithIdp",Va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="http://localhost";class Ia extends gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=cy(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Ia(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:yV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _V(t){const e=Cu(xu(t)).link,n=e?Cu(xu(e)).deep_link_id:null,r=Cu(xu(t)).deep_link_id;return(r?Cu(xu(r)).link:null)||r||n||e||t}class yy{constructor(e){var n,r,a,l,c,f;const d=Cu(xu(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(r=d.oobCode)!==null&&r!==void 0?r:null,_=vV((a=d.mode)!==null&&a!==void 0?a:null);we(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=_V(e);try{return new yy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,n){return Xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yy.parseLink(n);return we(r,"argument-error"),Xu._fromEmailAndCode(e,r.code,r.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends vy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends gc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends gc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends gc{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await pr._fromIdTokenResponse(e,r,a),c=bE(r);return new Go({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=bE(r);return new Go({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function bE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends xr{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new xf(e,n,r,a)}}function JS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(t,l,e,r):l})}async function TV(t,e,n=!1){const r=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Go._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e,n=!1){const{auth:r}=t;if(Zn(r.app))return Promise.reject(ws(r));const a="reauthenticate";try{const l=await Qu(t,JS(r,a,e,t),n);we(l.idToken,r,"internal-error");const c=my(l.idToken);we(c,r,"internal-error");const{sub:f}=c;return we(t.uid===f,r,"user-mismatch"),Go._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ei(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t,e,n=!1){if(Zn(t.app))return Promise.reject(ws(t));const r="signIn",a=await JS(t,r,e),l=await Go._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function bV(t,e){return eA(Pa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t){const e=Pa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function SV(t,e,n){return Zn(t.app)?Promise.reject(ws(t)):bV(kt(t),al.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wV(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t,e){return kt(t).setPersistence(e)}function RV(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function CV(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function xV(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function tA(t){return kt(t).signOut()}const If="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=1e3,DV=10;class iA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);Y2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DV):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iA.type="LOCAL";const rA=iA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sA.type="SESSION";const aA=sA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new ed(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),d=await MV(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,d)=>{const p=_y("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function PV(t){Pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function OV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kV(){return oA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firebaseLocalStorageDb",LV=1,Df="firebaseLocalStorage",uA="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function td(t,e){return t.transaction([Df],e?"readwrite":"readonly").objectStore(Df)}function UV(){const t=indexedDB.deleteDatabase(lA);return new yc(t).toPromise()}function hg(){const t=indexedDB.open(lA,LV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Df,{keyPath:uA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Df)?e(r):(r.close(),await UV(),e(await hg()))})})}async function wE(t,e,n){const r=td(t,!0).put({[uA]:e,value:n});return new yc(r).toPromise()}async function jV(t,e){const n=td(t,!1).get(e),r=await new yc(n).toPromise();return r===void 0?null:r.value}function SE(t,e){const n=td(t,!0).delete(e);return new yc(n).toPromise()}const zV=800,BV=3;class cA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ed._getInstance(kV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OV(),!this.activeServiceWorker)return;this.sender=new VV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await wE(e,If,"1"),await SE(e,If),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=td(a,!1).getAll();return new yc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cA.type="LOCAL";const FV=cA;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e){return e?gr(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HV(t){return eA(t.auth,new Ty(t),t.bypassAuthState)}function qV(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),EV(n,new Ty(t),t.bypassAuthState)}async function GV(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),TV(n,new Ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HV;case"linkViaPopup":case"linkViaRedirect":return GV;case"reauthViaPopup":case"reauthViaRedirect":return qV;default:ei(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new pc(2e3,1e4);async function $V(t,e,n){if(Zn(t.app))return Promise.reject(li(t,"operation-not-supported-in-this-environment"));const r=Pa(t);I2(t,e,vy);const a=hA(r,n);return new ba(r,"signInViaPopup",e,a).executeNotNull()}class ba extends fA{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,ba.currentPopupAction&&ba.currentPopupAction.cancel(),ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=_y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KV.get())};e()}}ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="pendingRedirect",ff=new Map;class QV extends fA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ff.get(this.auth._key());if(!e){try{const r=await XV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ff.set(this.auth._key(),e)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XV(t,e){const n=JV(e),r=ZV(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function WV(t,e){ff.set(t._key(),e)}function ZV(t){return gr(t._redirectPersistence)}function JV(t){return hf(YV,t.config.apiKey,t.name)}async function eP(t,e,n=!1){if(Zn(t.app))return Promise.reject(ws(t));const r=Pa(t),a=hA(r,e),c=await new QV(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=10*60*1e3;class nP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dA(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(li(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tP&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e={}){return Ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aP=/^https?/;async function oP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rP(t);for(const n of e)try{if(lP(n))return}catch{}ei(t,"unauthorized-domain")}function lP(t){const e=ug(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!aP.test(n))return!1;if(sP.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new pc(3e4,6e4);function RE(){const t=Pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cP(t){return new Promise((e,n)=>{var r,a,l;function c(){RE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RE(),n(li(t,"network-request-failed"))},timeout:uP.get()})}if(!((a=(r=Pi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Pi().gapi)===null||l===void 0)&&l.load)c();else{const f=iV("iframefcb");return Pi()[f]=()=>{gapi.load?c():n(li(t,"network-request-failed"))},XS(`${nV()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw df=null,e})}let df=null;function hP(t){return df=df||cP(t),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new pc(5e3,15e3),dP="__/auth/iframe",mP="emulator/auth/iframe",pP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yP(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dy(e,mP):`https://${t.config.authDomain}/${dP}`,r={apiKey:e.apiKey,appName:t.name,v:sl},a=gP.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${mc(r).slice(1)}`}async function vP(t){const e=await hP(t),n=Pi().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:yP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pP,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=li(t,"network-request-failed"),f=Pi().setTimeout(()=>{l(c)},fP.get());function d(){Pi().clearTimeout(f),a(r)}r.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TP=500,EP=600,bP="_blank",wP="http://localhost";class CE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SP(t,e,n,r=TP,a=EP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},_P),{width:r.toString(),height:a.toString(),top:l,left:c}),p=un().toLowerCase();n&&(f=HS(p)?bP:n),BS(p)&&(e=e||wP,d.scrollbars="yes");const y=Object.entries(d).reduce((b,[A,x])=>`${b}${A}=${x},`,"");if($2(p)&&f!=="_self")return AP(e||"",f),new CE(null);const _=window.open(e||"",f,y);we(_,t,"popup-blocked");try{_.focus()}catch{}return new CE(_)}function AP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="__/auth/handler",CP="emulator/auth/handler",xP=encodeURIComponent("fac");async function xE(t,e,n,r,a,l){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sl,eventId:a};if(e instanceof vy){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",pM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof gc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const d=await t._getAppCheckToken(),p=d?`#${xP}=${encodeURIComponent(d)}`:"";return`${IP(t)}?${mc(f).slice(1)}${p}`}function IP({config:t}){return t.emulator?dy(t,CP):`https://${t.authDomain}/${RP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="webStorageSupport";class DP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aA,this._completeRedirectFn=eP,this._overrideRedirectResult=WV}async _openPopup(e,n,r,a){var l;wr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await xE(e,n,r,ug(),a);return SP(e,c,_y())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await xE(e,n,r,ug(),a);return PV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(wr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vP(e),r=new nP(e);return n.register("authEvent",a=>(we(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lp,{type:Lp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Lp];c!==void 0&&n(!!c),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YS()||FS()||py()}}const MP=DP;var IE="@firebase/auth",DE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OP(t){qo(new xa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QS(t)},p=new J2(r,a,l,d);return uV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qo(new xa("auth-internal",e=>{const n=Pa(e.getProvider("auth").getImmediate());return(r=>new VP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(IE,DE,PP(t)),bs(IE,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=5*60,kP=RS("authIdTokenMaxAge")||NP;let ME=null;const LP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kP)return;const a=n==null?void 0:n.token;ME!==a&&(ME=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function mA(t=DS()){const e=uy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lV(t,{popupRedirectResolver:MP,persistence:[FV,rA,aA]}),r=RS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=LP(l.toString());CV(n,c,()=>c(n.currentUser)),RV(n,f=>c(f))}}const a=SS("auth");return a&&cV(n,`http://${a}`),n}function UP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=li("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",UP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OP("Browser");var jP="firebase",zP="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(jP,zP,"app");var VE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,pA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function C(){}C.prototype=R.prototype,D.D=R.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(I,U,F){for(var V=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)V[ze-2]=arguments[ze];return R.prototype[U].apply(I,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,R,C){C||(C=0);var I=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)I[U]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(U=0;16>U;++U)I[U]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=D.g[0],C=D.g[1],U=D.g[2];var F=D.g[3],V=R+(F^C&(U^F))+I[0]+3614090360&4294967295;R=C+(V<<7&4294967295|V>>>25),V=F+(U^R&(C^U))+I[1]+3905402710&4294967295,F=R+(V<<12&4294967295|V>>>20),V=U+(C^F&(R^C))+I[2]+606105819&4294967295,U=F+(V<<17&4294967295|V>>>15),V=C+(R^U&(F^R))+I[3]+3250441966&4294967295,C=U+(V<<22&4294967295|V>>>10),V=R+(F^C&(U^F))+I[4]+4118548399&4294967295,R=C+(V<<7&4294967295|V>>>25),V=F+(U^R&(C^U))+I[5]+1200080426&4294967295,F=R+(V<<12&4294967295|V>>>20),V=U+(C^F&(R^C))+I[6]+2821735955&4294967295,U=F+(V<<17&4294967295|V>>>15),V=C+(R^U&(F^R))+I[7]+4249261313&4294967295,C=U+(V<<22&4294967295|V>>>10),V=R+(F^C&(U^F))+I[8]+1770035416&4294967295,R=C+(V<<7&4294967295|V>>>25),V=F+(U^R&(C^U))+I[9]+2336552879&4294967295,F=R+(V<<12&4294967295|V>>>20),V=U+(C^F&(R^C))+I[10]+4294925233&4294967295,U=F+(V<<17&4294967295|V>>>15),V=C+(R^U&(F^R))+I[11]+2304563134&4294967295,C=U+(V<<22&4294967295|V>>>10),V=R+(F^C&(U^F))+I[12]+1804603682&4294967295,R=C+(V<<7&4294967295|V>>>25),V=F+(U^R&(C^U))+I[13]+4254626195&4294967295,F=R+(V<<12&4294967295|V>>>20),V=U+(C^F&(R^C))+I[14]+2792965006&4294967295,U=F+(V<<17&4294967295|V>>>15),V=C+(R^U&(F^R))+I[15]+1236535329&4294967295,C=U+(V<<22&4294967295|V>>>10),V=R+(U^F&(C^U))+I[1]+4129170786&4294967295,R=C+(V<<5&4294967295|V>>>27),V=F+(C^U&(R^C))+I[6]+3225465664&4294967295,F=R+(V<<9&4294967295|V>>>23),V=U+(R^C&(F^R))+I[11]+643717713&4294967295,U=F+(V<<14&4294967295|V>>>18),V=C+(F^R&(U^F))+I[0]+3921069994&4294967295,C=U+(V<<20&4294967295|V>>>12),V=R+(U^F&(C^U))+I[5]+3593408605&4294967295,R=C+(V<<5&4294967295|V>>>27),V=F+(C^U&(R^C))+I[10]+38016083&4294967295,F=R+(V<<9&4294967295|V>>>23),V=U+(R^C&(F^R))+I[15]+3634488961&4294967295,U=F+(V<<14&4294967295|V>>>18),V=C+(F^R&(U^F))+I[4]+3889429448&4294967295,C=U+(V<<20&4294967295|V>>>12),V=R+(U^F&(C^U))+I[9]+568446438&4294967295,R=C+(V<<5&4294967295|V>>>27),V=F+(C^U&(R^C))+I[14]+3275163606&4294967295,F=R+(V<<9&4294967295|V>>>23),V=U+(R^C&(F^R))+I[3]+4107603335&4294967295,U=F+(V<<14&4294967295|V>>>18),V=C+(F^R&(U^F))+I[8]+1163531501&4294967295,C=U+(V<<20&4294967295|V>>>12),V=R+(U^F&(C^U))+I[13]+2850285829&4294967295,R=C+(V<<5&4294967295|V>>>27),V=F+(C^U&(R^C))+I[2]+4243563512&4294967295,F=R+(V<<9&4294967295|V>>>23),V=U+(R^C&(F^R))+I[7]+1735328473&4294967295,U=F+(V<<14&4294967295|V>>>18),V=C+(F^R&(U^F))+I[12]+2368359562&4294967295,C=U+(V<<20&4294967295|V>>>12),V=R+(C^U^F)+I[5]+4294588738&4294967295,R=C+(V<<4&4294967295|V>>>28),V=F+(R^C^U)+I[8]+2272392833&4294967295,F=R+(V<<11&4294967295|V>>>21),V=U+(F^R^C)+I[11]+1839030562&4294967295,U=F+(V<<16&4294967295|V>>>16),V=C+(U^F^R)+I[14]+4259657740&4294967295,C=U+(V<<23&4294967295|V>>>9),V=R+(C^U^F)+I[1]+2763975236&4294967295,R=C+(V<<4&4294967295|V>>>28),V=F+(R^C^U)+I[4]+1272893353&4294967295,F=R+(V<<11&4294967295|V>>>21),V=U+(F^R^C)+I[7]+4139469664&4294967295,U=F+(V<<16&4294967295|V>>>16),V=C+(U^F^R)+I[10]+3200236656&4294967295,C=U+(V<<23&4294967295|V>>>9),V=R+(C^U^F)+I[13]+681279174&4294967295,R=C+(V<<4&4294967295|V>>>28),V=F+(R^C^U)+I[0]+3936430074&4294967295,F=R+(V<<11&4294967295|V>>>21),V=U+(F^R^C)+I[3]+3572445317&4294967295,U=F+(V<<16&4294967295|V>>>16),V=C+(U^F^R)+I[6]+76029189&4294967295,C=U+(V<<23&4294967295|V>>>9),V=R+(C^U^F)+I[9]+3654602809&4294967295,R=C+(V<<4&4294967295|V>>>28),V=F+(R^C^U)+I[12]+3873151461&4294967295,F=R+(V<<11&4294967295|V>>>21),V=U+(F^R^C)+I[15]+530742520&4294967295,U=F+(V<<16&4294967295|V>>>16),V=C+(U^F^R)+I[2]+3299628645&4294967295,C=U+(V<<23&4294967295|V>>>9),V=R+(U^(C|~F))+I[0]+4096336452&4294967295,R=C+(V<<6&4294967295|V>>>26),V=F+(C^(R|~U))+I[7]+1126891415&4294967295,F=R+(V<<10&4294967295|V>>>22),V=U+(R^(F|~C))+I[14]+2878612391&4294967295,U=F+(V<<15&4294967295|V>>>17),V=C+(F^(U|~R))+I[5]+4237533241&4294967295,C=U+(V<<21&4294967295|V>>>11),V=R+(U^(C|~F))+I[12]+1700485571&4294967295,R=C+(V<<6&4294967295|V>>>26),V=F+(C^(R|~U))+I[3]+2399980690&4294967295,F=R+(V<<10&4294967295|V>>>22),V=U+(R^(F|~C))+I[10]+4293915773&4294967295,U=F+(V<<15&4294967295|V>>>17),V=C+(F^(U|~R))+I[1]+2240044497&4294967295,C=U+(V<<21&4294967295|V>>>11),V=R+(U^(C|~F))+I[8]+1873313359&4294967295,R=C+(V<<6&4294967295|V>>>26),V=F+(C^(R|~U))+I[15]+4264355552&4294967295,F=R+(V<<10&4294967295|V>>>22),V=U+(R^(F|~C))+I[6]+2734768916&4294967295,U=F+(V<<15&4294967295|V>>>17),V=C+(F^(U|~R))+I[13]+1309151649&4294967295,C=U+(V<<21&4294967295|V>>>11),V=R+(U^(C|~F))+I[4]+4149444226&4294967295,R=C+(V<<6&4294967295|V>>>26),V=F+(C^(R|~U))+I[11]+3174756917&4294967295,F=R+(V<<10&4294967295|V>>>22),V=U+(R^(F|~C))+I[2]+718787259&4294967295,U=F+(V<<15&4294967295|V>>>17),V=C+(F^(U|~R))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+F&4294967295}r.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var C=R-this.blockSize,I=this.B,U=this.h,F=0;F<R;){if(U==0)for(;F<=C;)a(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<R;)if(I[U++]=D.charCodeAt(F++),U==this.blockSize){a(this,I),U=0;break}}else for(;F<R;)if(I[U++]=D[F++],U==this.blockSize){a(this,I),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var C=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=C&255,C/=256;for(this.u(D),D=Array(16),R=C=0;4>R;++R)for(var I=0;32>I;I+=8)D[C++]=this.g[R]>>>I&255;return D};function l(D,R){var C=f;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=R(D)}function c(D,R){this.h=R;for(var C=[],I=!0,U=D.length-1;0<=U;U--){var F=D[U]|0;I&&F==R||(C[U]=F,I=!1)}this.g=C}var f={};function d(D){return-128<=D&&128>D?l(D,function(R){return new c([R|0],0>R?-1:0)}):new c([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return P(p(-D));for(var R=[],C=1,I=0;D>=C;I++)R[I]=D/C|0,C*=4294967296;return new c(R,0)}function y(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return P(y(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(R,8)),I=_,U=0;U<D.length;U+=8){var F=Math.min(8,D.length-U),V=parseInt(D.substring(U,U+F),R);8>F?(F=p(Math.pow(R,F)),I=I.j(F).add(p(V))):(I=I.j(C),I=I.add(p(V)))}return I}var _=d(0),b=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(O(this))return-P(this).m();for(var D=0,R=1,C=0;C<this.g.length;C++){var I=this.i(C);D+=(0<=I?I:4294967296+I)*R,R*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(O(this))return"-"+P(this).toString(D);for(var R=p(Math.pow(D,6)),C=this,I="";;){var U=ee(C,R).g;C=k(C,U.j(R));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=U,x(C))return F+I;for(;6>F.length;)F="0"+F;I=F+I}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function O(D){return D.h==-1}t.l=function(D){return D=k(this,D),O(D)?-1:x(D)?0:1};function P(D){for(var R=D.g.length,C=[],I=0;I<R;I++)C[I]=~D.g[I];return new c(C,~D.h).add(b)}t.abs=function(){return O(this)?P(this):this},t.add=function(D){for(var R=Math.max(this.g.length,D.g.length),C=[],I=0,U=0;U<=R;U++){var F=I+(this.i(U)&65535)+(D.i(U)&65535),V=(F>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);I=V>>>16,F&=65535,V&=65535,C[U]=V<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function k(D,R){return D.add(P(R))}t.j=function(D){if(x(this)||x(D))return _;if(O(this))return O(D)?P(this).j(P(D)):P(P(this).j(D));if(O(D))return P(this.j(P(D)));if(0>this.l(A)&&0>D.l(A))return p(this.m()*D.m());for(var R=this.g.length+D.g.length,C=[],I=0;I<2*R;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var U=0;U<D.g.length;U++){var F=this.i(I)>>>16,V=this.i(I)&65535,ze=D.i(U)>>>16,Qe=D.i(U)&65535;C[2*I+2*U]+=V*Qe,Y(C,2*I+2*U),C[2*I+2*U+1]+=F*Qe,Y(C,2*I+2*U+1),C[2*I+2*U+1]+=V*ze,Y(C,2*I+2*U+1),C[2*I+2*U+2]+=F*ze,Y(C,2*I+2*U+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new c(C,0)};function Y(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function K(D,R){this.g=D,this.h=R}function ee(D,R){if(x(R))throw Error("division by zero");if(x(D))return new K(_,_);if(O(D))return R=ee(P(D),R),new K(P(R.g),P(R.h));if(O(R))return R=ee(D,P(R)),new K(P(R.g),R.h);if(30<D.g.length){if(O(D)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,I=R;0>=I.l(D);)C=W(C),I=W(I);var U=B(C,1),F=B(I,1);for(I=B(I,2),C=B(C,2);!x(I);){var V=F.add(I);0>=V.l(D)&&(U=U.add(C),F=V),I=B(I,1),C=B(C,1)}return R=k(D,U.j(R)),new K(U,R)}for(U=_;0<=D.l(R);){for(C=Math.max(1,Math.floor(D.m()/R.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),F=p(C),V=F.j(R);O(V)||0<V.l(D);)C-=I,F=p(C),V=F.j(R);x(F)&&(F=b),U=U.add(F),D=k(D,V)}return new K(U,D)}t.A=function(D){return ee(this,D).h},t.and=function(D){for(var R=Math.max(this.g.length,D.g.length),C=[],I=0;I<R;I++)C[I]=this.i(I)&D.i(I);return new c(C,this.h&D.h)},t.or=function(D){for(var R=Math.max(this.g.length,D.g.length),C=[],I=0;I<R;I++)C[I]=this.i(I)|D.i(I);return new c(C,this.h|D.h)},t.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),C=[],I=0;I<R;I++)C[I]=this.i(I)^D.i(I);return new c(C,this.h^D.h)};function W(D){for(var R=D.g.length+1,C=[],I=0;I<R;I++)C[I]=D.i(I)<<1|D.i(I-1)>>>31;return new c(C,D.h)}function B(D,R){var C=R>>5;R%=32;for(var I=D.g.length-C,U=[],F=0;F<I;F++)U[F]=0<R?D.i(F+C)>>>R|D.i(F+C+1)<<32-R:D.i(F+C);return new c(U,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Ss=c}).apply(typeof VE<"u"?VE:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gA,Iu,yA,mf,fg,vA,_A,TA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)e:{var T=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var G=h[S];if(!(G in T))break e;T=T[G]}h=h[h.length-1],S=T[h],v=v(S),v!=S&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,S=!1,G={next:function(){if(!S&&T<h.length){var X=T++;return{value:v(X,h[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,S),h.apply(v,G)}}return function(){return h.apply(v,arguments)}}function b(h,v,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function A(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function x(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(S,G,X){for(var oe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)oe[Be-2]=arguments[Be];return v.prototype[G].apply(S,oe)}}function O(h){const v=h.length;if(0<v){const T=Array(v);for(let S=0;S<v;S++)T[S]=h[S];return T}return[]}function P(h,v){for(let T=1;T<arguments.length;T++){const S=arguments[T];if(d(S)){const G=h.length||0,X=S.length||0;h.length=G+X;for(let oe=0;oe<X;oe++)h[G+oe]=S[oe]}else h.push(S)}}class k{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ee(h){return ee[" "](h),h}ee[" "]=function(){};var W=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function B(h,v,T){for(const S in h)v.call(T,h[S],S,h)}function D(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,v){let T,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(T in S)h[T]=S[T];for(let X=0;X<C.length;X++)T=C[X],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function U(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function F(h){f.setTimeout(()=>{throw h},0)}function V(){var h=Se;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ze{constructor(){this.h=this.g=null}add(v,T){const S=Qe.get();S.set(v,T),this.h?this.h.next=S:this.g=S,this.h=S}}var Qe=new k(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let he,le=!1,Se=new ze,L=()=>{const h=f.Promise.resolve(void 0);he=()=>{h.then(ae)}};var ae=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(T){F(T)}var v=Qe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}le=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function Re(h,v){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(W){e:{try{ee(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ce[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Re.aa.h.call(this)}}x(Re,ce);var Ce={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function dt(h,v,T,S,G){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!S,this.ha=G,this.key=++Ge,this.da=this.fa=!1}function Ze(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function cn(h){this.src=h,this.g={},this.h=0}cn.prototype.add=function(h,v,T,S,G){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var oe=Vn(h,v,S,G);return-1<oe?(v=h[oe],T||(v.fa=!1)):(v=new dt(v,this.src,X,!!S,G),v.fa=T,h.push(v)),v};function ji(h,v){var T=v.type;if(T in h.g){var S=h.g[T],G=Array.prototype.indexOf.call(S,v,void 0),X;(X=0<=G)&&Array.prototype.splice.call(S,G,1),X&&(Ze(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Vn(h,v,T,S){for(var G=0;G<h.length;++G){var X=h[G];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==S)return G}return-1}var Ir="closure_lm_"+(1e6*Math.random()|0),Dr={};function zi(h,v,T,S,G){if(Array.isArray(v)){for(var X=0;X<v.length;X++)zi(h,v[X],T,S,G);return null}return T=xc(T),h&&h[st]?h.K(v,T,p(S)?!!S.capture:!1,G):yl(h,v,T,!1,S,G)}function yl(h,v,T,S,G,X){if(!v)throw Error("Invalid event type");var oe=p(G)?!!G.capture:!!G,Be=vl(h);if(Be||(h[Ir]=Be=new cn(h)),T=Be.add(v,T,S,oe,X),T.proxy)return T;if(S=Ua(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)ue||(G=oe),G===void 0&&(G=!1),h.addEventListener(v.toString(),S,G);else if(h.attachEvent)h.attachEvent(za(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ua(){function h(T){return v.call(h.src,h.listener,T)}const v=Ad;return h}function ja(h,v,T,S,G){if(Array.isArray(v))for(var X=0;X<v.length;X++)ja(h,v[X],T,S,G);else S=p(S)?!!S.capture:!!S,T=xc(T),h&&h[st]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],T=Vn(X,T,S,G),-1<T&&(Ze(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=vl(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Vn(v,T,S,G)),(T=-1<h?v[h]:null)&&js(T))}function js(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[st])ji(v.i,h);else{var T=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(T,S,h.capture):v.detachEvent?v.detachEvent(za(T),S):v.addListener&&v.removeListener&&v.removeListener(S),(T=vl(v))?(ji(T,h),T.h==0&&(T.src=null,v[Ir]=null)):Ze(h)}}}function za(h){return h in Dr?Dr[h]:Dr[h]="on"+h}function Ad(h,v){if(h.da)h=!0;else{v=new Re(v,this);var T=h.listener,S=h.ha||h.src;h.fa&&js(h),h=T.call(S,v)}return h}function vl(h){return h=h[Ir],h instanceof cn?h:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xc(h){return typeof h=="function"?h:(h[vn]||(h[vn]=function(v){return h.handleEvent(v)}),h[vn])}function It(){ye.call(this),this.i=new cn(this),this.M=this,this.F=null}x(It,ye),It.prototype[st]=!0,It.prototype.removeEventListener=function(h,v,T,S){ja(this,h,v,T,S)};function Lt(h,v){var T,S=h.F;if(S)for(T=[];S;S=S.F)T.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new ce(v,h);else if(v instanceof ce)v.target=v.target||h;else{var G=v;v=new ce(S,h),I(v,G)}if(G=!0,T)for(var X=T.length-1;0<=X;X--){var oe=v.g=T[X];G=Bi(oe,S,!0,v)&&G}if(oe=v.g=h,G=Bi(oe,S,!0,v)&&G,G=Bi(oe,S,!1,v)&&G,T)for(X=0;X<T.length;X++)oe=v.g=T[X],G=Bi(oe,S,!1,v)&&G}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],S=0;S<T.length;S++)Ze(T[S]);delete h.g[v],h.h--}}this.F=null},It.prototype.K=function(h,v,T,S){return this.i.add(String(h),v,!1,T,S)},It.prototype.L=function(h,v,T,S){return this.i.add(String(h),v,!0,T,S)};function Bi(h,v,T,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,X=0;X<v.length;++X){var oe=v[X];if(oe&&!oe.da&&oe.capture==T){var Be=oe.listener,Mt=oe.ha||oe.src;oe.fa&&ji(h.i,oe),G=Be.call(Mt,S)!==!1&&G}}return G&&!S.defaultPrevented}function Ic(h,v,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function _l(h){h.g=Ic(()=>{h.g=null,h.i&&(h.i=!1,_l(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Rd extends ye{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:_l(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(h){ye.call(this),this.h=h,this.g={}}x(zs,ye);var Mr=[];function en(h){B(h.g,function(v,T){this.g.hasOwnProperty(T)&&js(v)},h),h.g={}}zs.prototype.N=function(){zs.aa.N.call(this),en(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tl=f.JSON.stringify,pi=f.JSON.parse,hn=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function El(){}El.prototype.h=null;function Dc(h){return h.h||(h.h=h.i())}function Mc(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){ce.call(this,"d")}x(Vr,ce);function ti(){ce.call(this,"c")}x(ti,ce);var Pn={},Pr=null;function Ba(){return Pr=Pr||new It}Pn.La="serverreachability";function bl(h){ce.call(this,Pn.La,h)}x(bl,ce);function Or(h){const v=Ba();Lt(v,new bl(v))}Pn.STAT_EVENT="statevent";function Fa(h,v){ce.call(this,Pn.STAT_EVENT,h),this.stat=v}x(Fa,ce);function Tt(h){const v=Ba();Lt(v,new Fa(v,h))}Pn.Ma="timingevent";function Vc(h,v){ce.call(this,Pn.Ma,h),this.size=v}x(Vc,ce);function Nr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function kr(){this.g=!0}kr.prototype.xa=function(){this.g=!1};function Pc(h,v,T,S,G,X){h.info(function(){if(h.g)if(X)for(var oe="",Be=X.split("&"),Mt=0;Mt<Be.length;Mt++){var Fe=Be[Mt].split("=");if(1<Fe.length){var zt=Fe[0];Fe=Fe[1];var Vt=zt.split("_");oe=2<=Vt.length&&Vt[1]=="type"?oe+(zt+"="+Fe+"&"):oe+(zt+"=redacted&")}}else oe=null;else oe=X;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+v+`
`+T+`
`+oe})}function Oc(h,v,T,S,G,X,oe){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+v+`
`+T+`
`+X+" "+oe})}function Lr(h,v,T,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ut(h,T)+(S?" "+S:"")})}function yi(h,v){h.info(function(){return"TIMEOUT: "+v})}kr.prototype.info=function(){};function Ut(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var S=T[h];if(!(2>S.length)){var G=S[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var oe=1;oe<G.length;oe++)G[oe]=""}}}}return Tl(T)}catch{return v}}var Dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bs;function Ha(){}x(Ha,El),Ha.prototype.g=function(){return new XMLHttpRequest},Ha.prototype.i=function(){return{}},Bs=new Ha;function vi(h,v,T,S){this.j=h,this.i=v,this.l=T,this.R=S||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wl}function wl(){this.i=null,this.g="",this.h=!1}var Ur={},Fs={};function ni(h,v,T){h.L=1,h.v=Gs(mt(v)),h.m=T,h.P=!0,Hi(h,null)}function Hi(h,v){h.F=Date.now(),lt(h),h.A=mt(h.v);var T=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Ki(T.i,"t",S),h.C=0,T=h.j.J,h.h=new wl,h.g=Yc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new Rd(b(h.Y,h,h.g),h.O)),v=h.U,T=h.g,S=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(Mr[0]=G.toString()),G=Mr);for(var X=0;X<G.length;X++){var oe=zi(T,G[X],S||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Or(),Pc(h.i,h.u,h.A,h.l,h.R,h.m)}vi.prototype.ca=function(h){h=h.target;const v=this.M;v&&Un(h)==3?v.j():this.Y(h)},vi.prototype.Y=function(h){try{if(h==this.g)e:{const Vt=Un(this.g);var v=this.g.Ba();const Xi=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||zc(this.g)))){this.J||Vt!=4||v==7||(v==8||0>=Xi?Or(3):Or(2)),qa(this);var T=this.g.Z();this.X=T;t:if(jr(this)){var S=zc(this.g);h="";var G=S.length,X=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),wn(this);var oe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(X&&v==G-1)});S.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=T==200,Oc(this.i,this.u,this.A,this.l,this.R,Vt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Mt=this.g;if((Be=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Be)){var Fe=Be;break t}}Fe=null}if(T=Fe)Lr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sn(this,T);else{this.o=!1,this.s=3,Tt(12),_n(this),wn(this);break e}}if(this.P){T=!0;let Kt;for(;!this.J&&this.C<oe.length;)if(Kt=zr(this,oe),Kt==Fs){Vt==4&&(this.s=4,Tt(14),T=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Ur){this.s=4,Tt(15),Lr(this.i,this.l,oe,"[Invalid Chunk]"),T=!1;break}else Lr(this.i,this.l,Kt,null),Sn(this,Kt);if(jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||oe.length!=0||this.h.h||(this.s=1,Tt(16),T=!1),this.o=this.o&&T,!T)Lr(this.i,this.l,oe,"[Invalid Chunked Response]"),_n(this),wn(this);else if(0<oe.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Zs(zt),zt.M=!0,Tt(11))}}else Lr(this.i,this.l,oe,null),Sn(this,oe);Vt==4&&_n(this),this.o&&!this.J&&(Vt==4?Gc(this.j,this):(this.o=!1,lt(this)))}else Vd(this.g),T==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),_n(this),wn(this)}}}catch{}finally{}};function jr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function zr(h,v){var T=h.C,S=v.indexOf(`
`,T);return S==-1?Fs:(T=Number(v.substring(T,S)),isNaN(T)?Ur:(S+=1,S+T>v.length?Fs:(v=v.slice(S,S+T),h.C=S+T,v)))}vi.prototype.cancel=function(){this.J=!0,_n(this)};function lt(h){h.S=Date.now()+h.I,Sl(h,h.I)}function Sl(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Nr(b(h.ba,h),v)}function qa(h){h.B&&(f.clearTimeout(h.B),h.B=null)}vi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(yi(this.i,this.A),this.L!=2&&(Or(),Tt(17)),_n(this),this.s=2,wn(this)):Sl(this,this.S-h)};function wn(h){h.j.G==0||h.J||Gc(h.j,h)}function _n(h){qa(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,en(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Sn(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||Br(T.h,h))){if(!h.K&&Br(T.h,h)&&T.G==3){try{var S=T.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)eo(T),Za(T);else break e;Nl(T),Tt(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=Nr(b(T.Za,T),6e3));if(1>=Nc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Qi(T,11)}else if((h.K||T.g==h)&&eo(T),!Y(v))for(G=T.Da.g.parse(v),v=0;v<G.length;v++){let Fe=G[v];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const zt=Fe[3];zt!=null&&(T.la=zt,T.j.info("VER="+T.la));const Vt=Fe[4];Vt!=null&&(T.Aa=Vt,T.j.info("SVER="+T.Aa));const Xi=Fe[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(S=1.5*Xi,T.L=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const Kt=h.g;if(Kt){const Ai=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var X=S.h;X.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Fr(X,X.h),X.h=null))}if(S.D){const Ll=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(S.ya=Ll,Ke(S.I,S.D,Ll))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),S=T;var oe=h;if(S.qa=$c(S,S.J?S.ia:null,S.W),oe.K){On(S.h,oe);var Be=oe,Mt=S.L;Mt&&(Be.I=Mt),Be.B&&(qa(Be),lt(Be)),S.g=oe}else Hc(S);0<T.i.length&&Ja(T)}else Fe[0]!="stop"&&Fe[0]!="close"||Qi(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Qi(T,7):Pl(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}Or(4)}catch{}}var Cd=class{constructor(h,v){this.g=h,this.map=v}};function Al(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Nc(h){return h.h?1:h.g?h.g.size:0}function Br(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Fr(h,v){h.g?h.g.add(v):h.h=v}function On(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Al.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return O(h.i)}function kc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],T=h.length,S=0;S<T;S++)v.push(h[S]);return v}v=[],T=0;for(S in h)v[T++]=h[S];return v}function xd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const S in h)v[T++]=S;return v}}}function Hs(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=xd(h),S=kc(h),G=S.length,X=0;X<G;X++)v.call(void 0,S[X],T&&T[X],h)}var Cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var S=h[T].indexOf("="),G=null;if(0<=S){var X=h[T].substring(0,S);G=h[T].substring(S+1)}else X=h[T];v(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function qi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof qi){this.h=h.h,Hr(this,h.j),this.o=h.o,this.g=h.g,qs(this,h.s),this.l=h.l;var v=h.i,T=new _i;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Ka(this,T),this.m=h.m}else h&&(v=String(h).match(Cl))?(this.h=!1,Hr(this,v[1]||"",!0),this.o=qr(v[2]||""),this.g=qr(v[3]||"",!0),qs(this,v[4]),this.l=qr(v[5]||"",!0),Ka(this,v[6]||"",!0),this.m=qr(v[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}qi.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Nn(v,xl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Nn(v,xl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Nn(T,T.charAt(0)=="/"?Il:Lc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Nn(T,Md)),h.join("")};function mt(h){return new qi(h)}function Hr(h,v,T){h.j=T?qr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function qs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ka(h,v,T){v instanceof _i?(h.i=v,Dl(h.i,h.h)):(T||(v=Nn(v,Dd)),h.i=new _i(v,h.h))}function Ke(h,v,T){h.i.set(v,T)}function Gs(h){return Ke(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function qr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Nn(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Id),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Id(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xl=/[#\/\?@]/g,Lc=/[#\?:]/g,Il=/[#\?]/g,Dd=/[#\?@]/g,Md=/#/g;function _i(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function kn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ga(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=_i.prototype,t.add=function(h,v){kn(this),this.i=null,h=$i(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function $a(h,v){kn(h),v=$i(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Gi(h,v){return kn(h),v=$i(h,v),h.g.has(v)}t.forEach=function(h,v){kn(this),this.g.forEach(function(T,S){T.forEach(function(G){h.call(v,G,S,this)},this)},this)},t.na=function(){kn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let S=0;S<v.length;S++){const G=h[S];for(let X=0;X<G.length;X++)T.push(v[S])}return T},t.V=function(h){kn(this);let v=[];if(typeof h=="string")Gi(this,h)&&(v=v.concat(this.g.get($i(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},t.set=function(h,v){return kn(this),this.i=null,h=$i(this,h),Gi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Ki(h,v,T){$a(h,v),0<T.length&&(h.i=null,h.g.set($i(h,v),O(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var S=v[T];const X=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var G=X;oe[S]!==""&&(G+="="+encodeURIComponent(String(oe[S]))),h.push(G)}}return this.i=h.join("&")};function $i(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Dl(h,v){v&&!h.j&&(kn(h),h.i=null,h.g.forEach(function(T,S){var G=S.toLowerCase();S!=G&&($a(this,S),Ki(this,G,T))},h)),h.j=v}function Uc(h,v){const T=new kr;if(f.Image){const S=new Image;S.onload=A(Ln,T,"TestLoadImage: loaded",!0,v,S),S.onerror=A(Ln,T,"TestLoadImage: error",!1,v,S),S.onabort=A(Ln,T,"TestLoadImage: abort",!1,v,S),S.ontimeout=A(Ln,T,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Ks(h,v){const T=new kr,S=new AbortController,G=setTimeout(()=>{S.abort(),Ln(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(X=>{clearTimeout(G),X.ok?Ln(T,"TestPingServer: ok",!0,v):Ln(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Ln(T,"TestPingServer: error",!1,v)})}function Ln(h,v,T,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(T)}catch{}}function $s(){this.g=new hn}function Ti(h,v,T){const S=T||"";try{Hs(h,function(G,X){let oe=G;p(G)&&(oe=Tl(G)),v.push(S+X+"="+encodeURIComponent(oe))})}catch(G){throw v.push(S+"type="+encodeURIComponent("_badmap")),G}}function Gr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Gr,El),Gr.prototype.g=function(){return new Yi(this.l,this.j)},Gr.prototype.i=function(h){return function(){return h}}({});function Yi(h,v){It.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Yi,It),t=Yi.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,bi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ml(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ml(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ei(this):bi(this),this.readyState==3&&Ml(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ei(this))},t.Qa=function(h){this.g&&(this.response=h,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(h){h.readyState=4,h.l=null,h.j=null,h.v=null,bi(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vl(h){let v="";return B(h,function(T,S){v+=S,v+=":",v+=T,v+=`\r
`}),v}function jt(h,v,T){e:{for(S in T){var S=!1;break e}S=!0}S||(T=Vl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Ke(h,v,T))}function Xe(h){It.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Xe,It);var Ya=/^https?$/i,Ys=["POST","PUT"];t=Xe.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bs.g(),this.v=this.o?Dc(this.o):Dc(Bs),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){jc(this,X);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)T.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())T.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),G=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ys,v,void 0))||S||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,oe]of T)this.g.setRequestHeader(X,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){jc(this,X)}};function jc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Qa(h),wi(h)}function Qa(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Lt(this,"complete"),Lt(this,"abort"),wi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xa(this):this.bb())},t.bb=function(){Xa(this)};function Xa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Un(h)!=4||h.Z()!=2)){if(h.u&&Un(h)==4)Ic(h.Ea,0,h);else if(Lt(h,"readystatechange"),Un(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var S;if(S=oe===0){var G=String(h.D).match(Cl)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),S=!Ya.test(G?G.toLowerCase():"")}T=S}if(T)Lt(h,"complete"),Lt(h,"success");else{h.m=6;try{var X=2<Un(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Qa(h)}}finally{wi(h)}}}}function wi(h,v){if(h.g){Qs(h);const T=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Lt(h,"ready");try{T.onreadystatechange=S}catch{}}}function Qs(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Un(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),pi(v)}};function zc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Vd(h){const v={};h=(h.g&&2<=Un(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(Y(h[S]))continue;var T=U(h[S]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[G]||[];v[G]=X,X.push(T)}D(v,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Wa(h){this.Aa=0,this.i=[],this.j=new kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,h),this.cb=Xs("retryDelaySeedMs",1e4,h),this.Wa=Xs("forwardChannelMaxRetries",2,h),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Al(h&&h.concurrentRequestLimit),this.Da=new $s,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wa.prototype,t.la=8,t.G=1,t.connect=function(h,v,T,S){Tt(0),this.W=h,this.H=v||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.I=$c(this,null,this.W),Ja(this)};function Pl(h){if(Bc(h),h.G==3){var v=h.U++,T=mt(h.I);if(Ke(T,"SID",h.K),Ke(T,"RID",v),Ke(T,"TYPE","terminate"),Ws(h,T),v=new vi(h,h.j,v),v.L=2,v.v=Gs(mt(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=Yc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),lt(v)}Kc(h)}function Za(h){h.g&&(Zs(h),h.g.cancel(),h.g=null)}function Bc(h){Za(h),h.u&&(f.clearTimeout(h.u),h.u=null),eo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ja(h){if(!Rl(h.h)&&!h.s){h.s=!0;var v=h.Ga;he||L(),le||(he(),le=!0),Se.add(v,h),h.B=0}}function Pd(h,v){return Nc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Nr(b(h.Ga,h,v),kl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new vi(this,this.j,h);let X=this.o;if(this.S&&(X?(X=R(X),I(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Fc(this,G,v),T=mt(this.I),Ke(T,"RID",h),Ke(T,"CVER",22),this.D&&Ke(T,"X-HTTP-Session-Id",this.D),Ws(this,T),X&&(this.O?v="headers="+encodeURIComponent(String(Vl(X)))+"&"+v:this.m&&jt(T,this.m,X)),Fr(this.h,G),this.Ua&&Ke(T,"TYPE","init"),this.P?(Ke(T,"$req",v),Ke(T,"SID","null"),G.T=!0,ni(G,T,null)):ni(G,T,v),this.G=2}}else this.G==3&&(h?Ol(this,h):this.i.length==0||Rl(this.h)||Ol(this))};function Ol(h,v){var T;v?T=v.l:T=h.U++;const S=mt(h.I);Ke(S,"SID",h.K),Ke(S,"RID",T),Ke(S,"AID",h.T),Ws(h,S),h.m&&h.o&&jt(S,h.m,h.o),T=new vi(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Fc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Fr(h.h,T),ni(T,S,v)}function Ws(h,v){h.H&&B(h.H,function(T,S){Ke(v,S,T)}),h.l&&Hs({},function(T,S){Ke(v,S,T)})}function Fc(h,v,T){T=Math.min(h.i.length,T);var S=h.l?b(h.l.Na,h.l,h):null;e:{var G=h.i;let X=-1;for(;;){const oe=["count="+T];X==-1?0<T?(X=G[0].g,oe.push("ofs="+X)):X=0:oe.push("ofs="+X);let Be=!0;for(let Mt=0;Mt<T;Mt++){let Fe=G[Mt].g;const zt=G[Mt].map;if(Fe-=X,0>Fe)X=Math.max(0,G[Mt].g-100),Be=!1;else try{Ti(zt,oe,"req"+Fe+"_")}catch{S&&S(zt)}}if(Be){S=oe.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,S}function Hc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;he||L(),le||(he(),le=!0),Se.add(v,h),h.v=0}}function Nl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Nr(b(h.Fa,h),kl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Nr(b(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Za(this),qc(this))};function Zs(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function qc(h){h.g=new vi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=mt(h.qa);Ke(v,"RID","rpc"),Ke(v,"SID",h.K),Ke(v,"AID",h.T),Ke(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ke(v,"TO",h.ja),Ke(v,"TYPE","xmlhttp"),Ws(h,v),h.m&&h.o&&jt(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Gs(mt(v)),T.m=null,T.P=!0,Hi(T,h)}t.Za=function(){this.C!=null&&(this.C=null,Za(this),Nl(this),Tt(19))};function eo(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Gc(h,v){var T=null;if(h.g==v){eo(h),Zs(h),h.g=null;var S=2}else if(Br(h.h,v))T=v.D,On(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var G=h.B;S=Ba(),Lt(S,new Vc(S,T)),Ja(h)}else Hc(h);else if(G=v.s,G==3||G==0&&0<v.X||!(S==1&&Pd(h,v)||S==2&&Nl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),G){case 1:Qi(h,5);break;case 4:Qi(h,10);break;case 3:Qi(h,6);break;default:Qi(h,2)}}}function kl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Qi(h,v){if(h.j.info("Error code "+v),v==2){var T=b(h.fb,h),S=h.Xa;const G=!S;S=new qi(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Hr(S,"https"),Gs(S),G?Uc(S.toString(),T):Ks(S.toString(),T)}else Tt(2);h.G=0,h.l&&h.l.sa(v),Kc(h),Bc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Kc(h){if(h.G=0,h.ka=[],h.l){const v=fn(h.h);(v.length!=0||h.i.length!=0)&&(P(h.ka,v),P(h.ka,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.ra()}}function $c(h,v,T){var S=T instanceof qi?mt(T):new qi(T);if(S.g!="")v&&(S.g=v+"."+S.g),qs(S,S.s);else{var G=f.location;S=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var X=new qi(null);S&&Hr(X,S),v&&(X.g=v),G&&qs(X,G),T&&(X.l=T),S=X}return T=h.D,v=h.ya,T&&v&&Ke(S,T,v),Ke(S,"VER",h.la),Ws(h,S),S}function Yc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Xe(new Gr({eb:T})):new Xe(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}t=Qc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function to(){}to.prototype.g=function(h,v){return new dn(h,v)};function dn(h,v){It.call(this),this.g=new Wa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Y(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Si(this)}x(dn,It),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Pl(this.g)},dn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Tl(h),h=T);v.i.push(new Cd(v.Ya++,h)),v.G==3&&Ja(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,dn.aa.N.call(this)};function Xc(h){Vr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(Xc,Vr);function Wc(){ti.call(this),this.status=1}x(Wc,ti);function Si(h){this.g=h}x(Si,Qc),Si.prototype.ua=function(){Lt(this.g,"a")},Si.prototype.ta=function(h){Lt(this.g,new Xc(h))},Si.prototype.sa=function(h){Lt(this.g,new Wc)},Si.prototype.ra=function(){Lt(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,TA=function(){return new to},_A=function(){return Ba()},vA=Pn,fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,mf=Dt,Fi.COMPLETE="complete",yA=Fi,Mc.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",It.prototype.listen=It.prototype.K,Iu=Mc,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,gA=Xe}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore",OE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new oy("@firebase/firestore");function Do(){return Da.logLevel}function fe(t,...e){if(Da.logLevel<=ke.DEBUG){const n=e.map(Ey);Da.debug(`Firestore (${ol}): ${t}`,...n)}}function Sr(t,...e){if(Da.logLevel<=ke.ERROR){const n=e.map(Ey);Da.error(`Firestore (${ol}): ${t}`,...n)}}function Ko(t,...e){if(Da.logLevel<=ke.WARN){const n=e.map(Ey);Da.warn(`Firestore (${ol}): ${t}`,...n)}}function Ey(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+t;throw Sr(e),new Error(e)}function We(t,e){t||Ae()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class FP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HP{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},f=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vr)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new EA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new an(e)}}class qP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class GP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new qP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KP{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){We(this.o===void 0);const r=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new NE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new NE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=$P(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function $o(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=-62135596800,LE=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LE);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kE)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LE}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-kE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new _t(0,0))}static max(){return new xe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="__name__";class Mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Mi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Mi.isNumericId(e),a=Mi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class at extends Mi{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new at(n)}static emptyPath(){return new at([])}}const YP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Mi{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return YP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UE}static keyField(){return new Zt([UE])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(at.fromString(e))}static fromName(e){return new Te(at.fromString(e).popFirst(5))}static empty(){return new Te(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new at(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=-1;function QP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Rs(a,Te.empty(),e)}function XP(t){return new Rs(t.readTime,t.key,Wu)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(xe.min(),Te.empty(),Wu)}static max(){return new Rs(xe.max(),Te.empty(),Wu)}}function WP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==ZP)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},d=>r(d))}),c=!0,l===a&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(a=>a?ie.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(e,n){return new ie((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function eO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}nd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-1;function id(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function tO(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="";function nO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jE(e)),e=iO(t.get(n),e);return jE(e)}function iO(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case wA:n+="";break;default:n+=l}}return n}function jE(t){return t+wA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=a??Wt.EMPTY,this.right=l??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Wt(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Wt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,a,l){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Nt(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new AA("Invalid base64 string: "+l):l}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const rO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(We(!!t),typeof t=="string"){let e=0;const n=rO.exec(t);if(We(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xs(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="server_timestamp",CA="__type__",xA="__previous_value__",IA="__local_write_time__";function wy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CA])===null||n===void 0?void 0:n.stringValue)===RA}function rd(t){const e=t.mapValue.fields[xA];return wy(e)?rd(e):e}function Zu(t){const e=Cs(t.mapValue.fields[IA].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r,a,l,c,f,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p}}const Vf="(default)";class Ju{constructor(e,n){this.projectId=e,this.database=n||Vf}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Vf}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="__type__",aO="__max__",Jh={mapValue:{}},MA="__vector__",Pf="value";function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wy(t)?4:lO(t)?9007199254740991:oO(t)?10:11:Ae()}function Ui(t,e){if(t===e)return!0;const n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zu(t).isEqual(Zu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Cs(a.timestampValue),f=Cs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return xs(a.bytesValue).isEqual(xs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),f=wt(l.doubleValue);return c===f?Mf(c)===Mf(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(zE(c)!==zE(f))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(f[d]===void 0||!Ui(c[d],f[d])))return!1;return!0}(t,e);default:return Ae()}}function ec(t,e){return(t.values||[]).find(n=>Ui(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=Is(t),r=Is(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=wt(l.integerValue||l.doubleValue),d=wt(c.integerValue||c.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(t,e);case 3:return FE(t.timestampValue,e.timestampValue);case 4:return FE(Zu(t),Zu(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(l,c){const f=xs(l),d=xs(c);return f.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),d=c.split("/");for(let p=0;p<f.length&&p<d.length;p++){const y=je(f[p],d[p]);if(y!==0)return y}return je(f.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=je(wt(l.latitude),wt(c.latitude));return f!==0?f:je(wt(l.longitude),wt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HE(t.arrayValue,e.arrayValue);case 10:return function(l,c){var f,d,p,y;const _=l.fields||{},b=c.fields||{},A=(f=_[Pf])===null||f===void 0?void 0:f.arrayValue,x=(d=b[Pf])===null||d===void 0?void 0:d.arrayValue,O=je(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0);return O!==0?O:HE(A,x)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Jh.mapValue&&c===Jh.mapValue)return 0;if(l===Jh.mapValue)return 1;if(c===Jh.mapValue)return-1;const f=l.fields||{},d=Object.keys(f),p=c.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const b=je(d[_],y[_]);if(b!==0)return b;const A=Yo(f[d[_]],p[y[_]]);if(A!==0)return A}return je(d.length,y.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function FE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Cs(t),r=Cs(e),a=je(n.seconds,r.seconds);return a!==0?a:je(n.nanos,r.nanos)}function HE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Yo(n[a],r[a]);if(l)return l}return je(n.length,r.length)}function Qo(t){return dg(t)}function dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=dg(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${dg(n.fields[c])}`;return a+"}"}(t.mapValue):Ae()}function pf(t){switch(Is(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rd(t);return e?16+pf(e):16;case 5:return 2*t.stringValue.length;case 6:return xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+pf(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return ks(r.fields,(l,c)=>{a+=l.length+pf(c)}),a}(t.mapValue);default:throw Ae()}}function qE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mg(t){return!!t&&"integerValue"in t}function Sy(t){return!!t&&"arrayValue"in t}function GE(t){return!!t&&"nullValue"in t}function KE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gf(t){return!!t&&"mapValue"in t}function oO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[DA])===null||n===void 0?void 0:n.stringValue)===MA}function Uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=Zt.emptyPath(),r={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=Uu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());gf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];gf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ks(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new bn(Uu(this.value))}}function VA(t){const e=[];return ks(t.fields,(n,r)=>{const a=new Zt([n]);if(gf(r)){const l=VA(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,a,l,c,f){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new on(e,0,xe.min(),xe.min(),xe.min(),bn.empty(),0)}static newFoundDocument(e,n,r,a){return new on(e,1,n,xe.min(),r,a,0)}static newNoDocument(e,n){return new on(e,2,n,xe.min(),xe.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,xe.min(),xe.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.position=e,this.inclusive=n}}function $E(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=Te.comparator(Te.fromName(c.referenceValue),n.key):r=Yo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function YE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n="asc"){this.field=e,this.dir=n}}function uO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{}class xt extends PA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hO(e,n,r):n==="array-contains"?new mO(e,r):n==="in"?new pO(e,r):n==="not-in"?new gO(e,r):n==="array-contains-any"?new yO(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fO(e,r):new dO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yo(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends PA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ci(e,n)}matches(e){return OA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function OA(t){return t.op==="and"}function NA(t){return cO(t)&&OA(t)}function cO(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function pg(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+Qo(t.value);if(NA(t))return t.filters.map(e=>pg(e)).join(",");{const e=t.filters.map(n=>pg(n)).join(",");return`${t.op}(${e})`}}function kA(t,e){return t instanceof xt?function(r,a){return a instanceof xt&&r.op===a.op&&r.field.isEqual(a.field)&&Ui(r.value,a.value)}(t,e):t instanceof ci?function(r,a){return a instanceof ci&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&kA(c,a.filters[f]),!0):!1}(t,e):void Ae()}function LA(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`}(t):t instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(LA).join(" ,")+"}"}(t):"Filter"}class hO extends xt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class fO extends xt{constructor(e,n){super(e,"in",n),this.keys=UA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dO extends xt{constructor(e,n){super(e,"not-in",n),this.keys=UA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class mO extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sy(n)&&ec(n.arrayValue,this.value)}}class pO extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class gO extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ec(this.value.arrayValue,n)}}class yO extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function QE(t,e=null,n=[],r=[],a=null,l=null,c=null){return new vO(t,e,n,r,a,l,c)}function Ay(t){const e=De(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qo(r)).join(",")),e.le=n}return e.le}function Ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YE(t.startAt,e.startAt)&&YE(t.endAt,e.endAt)}function gg(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n=null,r=[],a=[],l=null,c="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function _O(t,e,n,r,a,l,c,f){return new vc(t,e,n,r,a,l,c,f)}function Cy(t){return new vc(t)}function XE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jA(t){return t.collectionGroup!==null}function ju(t){const e=De(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Nt(Zt.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new Nf(l,r))}),n.has(Zt.keyField().canonicalString())||e.he.push(new Nf(Zt.keyField(),r))}return e.he}function Oi(t){const e=De(t);return e.Pe||(e.Pe=TO(e,ju(t))),e.Pe}function TO(t,e){if(t.limitType==="F")return QE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Nf(a.field,l)});const n=t.endAt?new Of(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Of(t.startAt.position,t.startAt.inclusive):null;return QE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yg(t,e){const n=t.filters.concat([e]);return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vg(t,e,n){return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sd(t,e){return Ry(Oi(t),Oi(e))&&t.limitType===e.limitType}function zA(t){return`${Ay(Oi(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>LA(a)).join(", ")}]`),id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Qo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Qo(a)).join(",")),`Target(${r})`}(Oi(t))}; limitType=${t.limitType})`}function ad(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Te.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of ju(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(c,f,d){const p=$E(c,f,d);return c.inclusive?p<=0:p<0}(r.startAt,ju(r),a)||r.endAt&&!function(c,f,d){const p=$E(c,f,d);return c.inclusive?p>=0:p>0}(r.endAt,ju(r),a))}(t,e)}function EO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BA(t){return(e,n)=>{let r=!1;for(const a of ju(t)){const l=bO(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function bO(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(l,c,f){const d=c.data.field(l),p=f.data.field(l);return d!==null&&p!==null?Yo(d,p):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return SA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new ft(Te.comparator);function Ar(){return wO}const FA=new ft(Te.comparator);function Du(...t){let e=FA;for(const n of t)e=e.insert(n.key,n);return e}function HA(t){let e=FA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wa(){return zu()}function qA(){return zu()}function zu(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const SO=new ft(Te.comparator),AO=new Nt(Te.comparator);function Le(...t){let e=AO;for(const n of t)e=e.add(n);return e}const RO=new Nt(je);function CO(){return RO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function GA(t){return{integerValue:""+t}}function xO(t,e){return tO(e)?GA(e):xy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this._=void 0}}function IO(t,e,n){return t instanceof kf?function(a,l){const c={fields:{[CA]:{stringValue:RA},[IA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wy(l)&&(l=rd(l)),l&&(c.fields[xA]=l),{mapValue:c}}(n,e):t instanceof tc?$A(t,e):t instanceof nc?YA(t,e):function(a,l){const c=KA(a,l),f=WE(c)+WE(a.Ie);return mg(c)&&mg(a.Ie)?GA(f):xy(a.serializer,f)}(t,e)}function DO(t,e,n){return t instanceof tc?$A(t,e):t instanceof nc?YA(t,e):n}function KA(t,e){return t instanceof Lf?function(r){return mg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class kf extends od{}class tc extends od{constructor(e){super(),this.elements=e}}function $A(t,e){const n=QA(e);for(const r of t.elements)n.some(a=>Ui(a,r))||n.push(r);return{arrayValue:{values:n}}}class nc extends od{constructor(e){super(),this.elements=e}}function YA(t,e){let n=QA(e);for(const r of t.elements)n=n.filter(a=>!Ui(a,r));return{arrayValue:{values:n}}}class Lf extends od{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function WE(t){return wt(t.integerValue||t.doubleValue)}function QA(t){return Sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MO(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof tc&&a instanceof tc||r instanceof nc&&a instanceof nc?$o(r.elements,a.elements,Ui):r instanceof Lf&&a instanceof Lf?Ui(r.Ie,a.Ie):r instanceof kf&&a instanceof kf}(t.transform,e.transform)}class VO{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function XA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iy(t.key,Jn.none()):new _c(t.key,t.data,Jn.none());{const n=t.data,r=bn.empty();let a=new Nt(Zt.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ls(t.key,r,new Dn(a.toArray()),Jn.none())}}function PO(t,e,n){t instanceof _c?function(a,l,c){const f=a.value.clone(),d=JE(a.fieldTransforms,l,c.transformResults);f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Ls?function(a,l,c){if(!yf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=JE(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(WA(a)),d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Bu(t,e,n,r){return t instanceof _c?function(l,c,f,d){if(!yf(l.precondition,c))return f;const p=l.value.clone(),y=eb(l.fieldTransforms,d,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ls?function(l,c,f,d){if(!yf(l.precondition,c))return f;const p=eb(l.fieldTransforms,d,c),y=c.data;return y.setAll(WA(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(l,c,f){return yf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function OO(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=KA(r.transform,a||null);l!=null&&(n===null&&(n=bn.empty()),n.set(r.field,l))}return n||null}function ZE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&$o(r,a,(l,c)=>MO(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _c extends ld{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ls extends ld{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function WA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JE(t,e,n){const r=new Map;We(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,DO(c,f,n[a]))}return r}function eb(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,IO(l,c,e))}return r}class Iy extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&PO(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const d=XA(c,f);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(n,r)=>ZE(n,r))&&$o(this.baseMutations,e.baseMutations,(n,r)=>ZE(n,r))}}class Dy{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){We(e.mutations.length===r.length);let a=function(){return SO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Dy(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,qe;function jO(t){switch(t){case re.OK:return Ae();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ae()}}function ZA(t){if(t===void 0)return Sr("GRPC error has no .code"),re.UNKNOWN;switch(t){case Ct.OK:return re.OK;case Ct.CANCELLED:return re.CANCELLED;case Ct.UNKNOWN:return re.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return re.INTERNAL;case Ct.UNAVAILABLE:return re.UNAVAILABLE;case Ct.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ct.NOT_FOUND:return re.NOT_FOUND;case Ct.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ct.ABORTED:return re.ABORTED;case Ct.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ct.DATA_LOSS:return re.DATA_LOSS;default:return Ae()}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Ss([4294967295,4294967295],0);function tb(t){const e=zO().encode(t),n=new pA;return n.update(e),new Uint8Array(n.digest())}function nb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ss([n,r],0),new Ss([a,l],0)]}class My{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(r<0)throw new Mu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ss.fromNumber(this.Ee)}Ae(e,n,r){let a=e.add(n.multiply(Ss.fromNumber(r)));return a.compare(BO)===1&&(a=new Ss([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=tb(e),[r,a]=nb(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new My(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const n=tb(e),[r,a]=nb(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(xe.min(),a,new ft(je),Ar(),Le())}}class Tc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tc(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,a){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=a}}class JA{constructor(e,n){this.targetId=e,this.ge=n}}class eR{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class ib{constructor(){this.pe=0,this.ye=rb(),this.we=Jt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Le(),n=Le(),r=Le();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ae()}}),new Tc(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=rb()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class FO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ar(),this.$e=ef(),this.Ke=ef(),this.Ue=new ft(je)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,r=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(gg(l))if(r===0){const c=new Te(l.path);this.ze(n,c,on.newNoDocument(c,xe.min()))}else We(r===1);else{const c=this.et(n);if(c!==r){const f=this.tt(e),d=f?this.nt(f,e,c):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=xs(r).toUint8Array()}catch(d){if(d instanceof AA)return Ko("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new My(c,a,l)}catch(d){return Ko(d instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.Ee===0?null:f}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&gg(f.target)){const d=new Te(f.target.path);this._t(d).has(c)||this.ut(c,d)||this.ze(c,d,on.newNoDocument(d,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let r=Le();this.Ke.forEach((l,c)=>{let f=!0;c.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new ud(e,n,this.Ue,this.Qe,r);return this.Qe=Ar(),this.$e=ef(),this.Ke=ef(),this.Ue=new ft(je),a}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new ib,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Nt(je),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Nt(je),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ib),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ef(){return new ft(Te.comparator)}function rb(){return new ft(Te.comparator)}const HO={asc:"ASCENDING",desc:"DESCENDING"},qO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GO={and:"AND",or:"OR"};class KO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _g(t,e){return t.useProto3Json||id(e)?e:{value:e}}function Uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $O(t,e){return Uf(t,e.toTimestamp())}function Ni(t){return We(!!t),xe.fromTimestamp(function(n){const r=Cs(n);return new _t(r.seconds,r.nanos)}(t))}function Vy(t,e){return Tg(t,e).canonicalString()}function Tg(t,e){const n=function(a){return new at(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nR(t){const e=at.fromString(t);return We(oR(e)),e}function Eg(t,e){return Vy(t.databaseId,e.path)}function Up(t,e){const n=nR(e);if(n.get(1)!==t.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(rR(n))}function iR(t,e){return Vy(t.databaseId,e)}function YO(t){const e=nR(t);return e.length===4?at.emptyPath():rR(e)}function bg(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rR(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sb(t,e,n){return{name:Eg(t,e),fields:n.value.mapValue.fields}}function QO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(We(y===void 0||typeof y=="string"),Jt.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Jt.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const y=p.code===void 0?re.UNKNOWN:ZA(p.code);return new de(y,p.message||"")}(c);n=new eR(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Up(t,r.document.name),l=Ni(r.document.updateTime),c=r.document.createTime?Ni(r.document.createTime):xe.min(),f=new bn({mapValue:{fields:r.document.fields}}),d=on.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new vf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Up(t,r.document),l=r.readTime?Ni(r.readTime):xe.min(),c=on.newNoDocument(a,l),f=r.removedTargetIds||[];n=new vf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Up(t,r.document),l=r.removedTargetIds||[];n=new vf([],l,a,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new UO(a,l),f=r.targetId;n=new JA(f,c)}}return n}function XO(t,e){let n;if(e instanceof _c)n={update:sb(t,e.key,e.value)};else if(e instanceof Iy)n={delete:Eg(t,e.key)};else if(e instanceof Ls)n={update:sb(t,e.key,e.data),updateMask:sN(e.fieldMask)};else{if(!(e instanceof NO))return Ae();n={verify:Eg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof kf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof tc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof nc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Lf)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:$O(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae()}(t,e.precondition)),n}function WO(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?Ni(a.updateTime):Ni(l);return c.isEqual(xe.min())&&(c=Ni(l)),new VO(c,a.transformResults||[])}(n,e))):[]}function ZO(t,e){return{documents:[iR(t,e.path)]}}function JO(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iR(t,a);const l=function(p){if(p.length!==0)return aR(ci.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Vo(b.field),direction:nN(b.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=_g(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:a}}function eN(t){let e=YO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){We(r===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const b=sR(_);return b instanceof ci&&NA(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(b=>function(x){return new Nf(Po(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(n.orderBy));let f=null;n.limit&&(f=function(_){let b;return b=typeof _=="object"?_.value:_,id(b)?null:b}(n.limit));let d=null;n.startAt&&(d=function(_){const b=!!_.before,A=_.values||[];return new Of(A,b)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const b=!_.before,A=_.values||[];return new Of(A,b)}(n.endAt)),_O(e,a,c,l,f,"F",d,p)}function tN(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Po(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Po(n.unaryFilter.field);return xt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Po(n.unaryFilter.field);return xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Po(n.unaryFilter.field);return xt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return xt.create(Po(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(r=>sR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function nN(t){return HO[t]}function iN(t){return qO[t]}function rN(t){return GO[t]}function Vo(t){return{fieldPath:t.canonicalString()}}function Po(t){return Zt.fromServerFormat(t.fieldPath)}function aR(t){return t instanceof xt?function(n){if(n.op==="=="){if(KE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(GE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(GE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:iN(n.op),value:n.value}}}(t):t instanceof ci?function(n){const r=n.getFilters().map(a=>aR(a));return r.length===1?r[0]:{compositeFilter:{op:rN(n.op),filters:r}}}(t):Ae()}function sN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,a,l=xe.min(),c=xe.min(),f=Jt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.Tt=e}}function oN(t){const e=eN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.Tn=new uN}addToCollectionParentIndex(e,n){return this.Tn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Rs.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class uN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Nt(at.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Nt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lR=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(lR,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Xo(0)}static Un(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="LruGarbageCollector",cN=1048576;function lb([t,e],[n,r]){const a=je(t,n);return a===0?je(e,r):a}class hN{constructor(e){this.Hn=e,this.buffer=new Nt(lb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(ob,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?fe(ob,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.er(3e5)})}}class dN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(nd.ae);const r=new hN(n);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(ab)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,a,l,c,f,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(l=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Do()<=ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(d-f)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function mN(t,e){return new dN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Bu(r.mutation,a,Dn.empty(),_t.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const a=wa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let c=Du();return l.forEach((f,d)=>{c=c.insert(f,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=wa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,r,a){let l=Ar();const c=zu(),f=function(){return zu()}();return n.forEach((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ls)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Bu(y.mutation,p,y.mutation.getFieldMask(),_t.now())):c.set(p.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new gN(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=zu();let a=new ft((c,f)=>c-f),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||Dn.empty();y=f.applyToLocalView(p,y),r.set(d,y);const _=(a.get(f.batchId)||Le()).add(d);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,y=d.value,_=qA();y.forEach(b=>{if(!l.has(b)){const A=XA(n.get(b),r.get(b));A!==null&&_.set(b,A),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ie.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):ie.resolve(wa());let f=Wu,d=l;return c.next(p=>ie.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{d=d.insert(y,b)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,Le())).next(y=>({batchId:f,changes:HA(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let a=Du();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Du();return this.indexManager.getCollectionParents(e,l).next(f=>ie.forEach(f,d=>{const p=function(_,b){return new vc(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(c=>{l.forEach((d,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))});let f=Du();return c.forEach((d,p)=>{const y=l.get(d);y!==void 0&&Bu(y.mutation,p,Dn.empty(),_t.now()),ad(n,p)&&(f=f.insert(d,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ie.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ni(a.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:oN(a.bundledQuery),readTime:Ni(a.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.overlays=new ft(Te.comparator),this.Rr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wa();return ie.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.Et(e,n,l)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const a=wa(),l=n.length+1,c=new Te(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new ft((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=wa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=wa(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return ie.resolve(f)}Et(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new LO(n,r));let l=this.Rr.get(n);l===void 0&&(l=Le(),this.Rr.set(n,l)),this.Rr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.Vr=new Nt(Gt.mr),this.gr=new Nt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Gt(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new Te(new at([])),r=new Gt(n,e),a=new Gt(n,e+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Te(new at([])),r=new Gt(n,e),a=new Gt(n,e+1);let l=Le();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Gt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Te.comparator(e.key,n.key)||je(e.Cr,n.Cr)}static pr(e,n){return je(e.Cr,n.Cr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(Gt.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new kO(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new Gt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Nr(r),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?by:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),a=new Gt(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const f=this.Or(c.Cr);l.push(f)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(je);return n.forEach(a=>{const l=new Gt(a,0),c=new Gt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{r=r.add(f.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Te.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new Te(l),0);let f=new Nt(je);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(d.Cr)),!0)},c),ie.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){We(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(n.mutations,a=>{const l=new Gt(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Gt(n,0),a=this.Mr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.kr=e,this.docs=function(){return new ft(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Ar();const c=n.path,f=new Te(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||WP(XP(y),r)<=0||(a.has(y.key)||ad(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ae()}qr(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wN(this)}getSize(e){return ie.resolve(this.size)}}class wN extends pN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.persistence=e,this.Qr=new Oa(n=>Ay(n),Ry),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Py,this.targetCount=0,this.Ur=Xo.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,a)=>n(a)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ie.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.zn(n),ie.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ie.waitFor(l).next(()=>a)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new nd(0),this.zr=!1,this.zr=!0,this.jr=new TN,this.referenceDelegate=e(this),this.Hr=new SN(this),this.indexManager=new lN,this.remoteDocumentCache=function(a){return new bN(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new aN(n),this.Yr=new vN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _N,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new EN(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const a=new AN(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class AN extends JP{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.ti=new Py,this.ni=null}static ri(e){return new Oy(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ie.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const a=Te.fromPath(r);return this.si(e,a).next(l=>{l||n.removeEntry(a,xe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ie.or([()=>ie.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class jf{constructor(e,n){this.persistence=e,this.oi=new Oa(r=>nO(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=mN(this,n)}static ri(e,n){return new jf(e,n)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ie.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(l=>l?ie.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(f=>{f||(r++,l.removeEntry(c,xe.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pf(e.data.value)),n}ar(e,n,r){return ie.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return ie.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=a}static Yi(e,n){let r=Le(),a=Le();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ny(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return uM()?8:eO(un())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new RN;return this._s(e,n,c).next(f=>{if(l.result=f,this.Xi)return this.us(e,n,c,f.size)})}).next(()=>l.result)}us(e,n,r,a){return r.documentReadCount<this.es?(Do()<=ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(Do()<=ke.DEBUG&&fe("QueryEngine","Query:",Mo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Do()<=ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):ie.resolve())}rs(e,n){if(XE(n))return ie.resolve(null);let r=Oi(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=vg(n,null,"F"),r=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Le(...l);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(n,f);return this.ls(n,p,c,d.readTime)?this.rs(e,vg(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,r,a){return XE(n)||a.isEqual(xe.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(l=>{const c=this.cs(n,l);return this.ls(n,c,r,a)?ie.resolve(null):(Do()<=ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(n)),this.hs(e,c,n,QP(a,Wu)).next(f=>f))})}cs(e,n){let r=new Nt(BA(e));return n.forEach((a,l)=>{ad(e,l)&&(r=r.add(l))}),r}ls(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,r){return Do()<=ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.ns.getDocumentsMatchingQuery(e,n,Rs.min(),r)}hs(e,n,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LocalStore",xN=3e8;class IN{constructor(e,n,r,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new ft(je),this.Is=new Oa(l=>Ay(l),Ry),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function DN(t,e,n,r){return new IN(t,e,n,r)}async function cR(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let d=Le();for(const p of a){c.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:f}))})})}function MN(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,d,p,y){const _=p.batch,b=_.keys();let A=ie.resolve();return b.forEach(x=>{A=A.next(()=>y.getEntry(d,x)).next(O=>{const P=p.docVersions.get(x);We(P!==null),O.version.compareTo(P)<0&&(_.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),y.addEntry(O)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(d,_))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=Le();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function hR(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function VN(t,e){const n=De(t),r=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const f=[];e.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;f.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,_)));let A=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Jt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),a=a.insert(_,A),function(O,P,k){return O.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=xN?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(b,A,y)&&f.push(n.Hr.updateTargetData(l,A))});let d=Ar(),p=Le();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(PN(l,c,e.documentUpdates).next(y=>{d=y.Vs,p=y.fs})),!r.isEqual(xe.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return ie.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(n.Ts=a,l))}function PN(t,e,n){let r=Le(),a=Le();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let c=Ar();return n.forEach((f,d)=>{const p=l.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),d.isNoDocument()&&d.version.isEqual(xe.min())?(e.removeEntry(f,d.readTime),c=c.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(f,d)):fe(ky,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),{Vs:c,fs:a}})}function ON(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=by),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NN(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Hr.getTargetData(r,e).next(l=>l?(a=l,ie.resolve(a)):n.Hr.allocateTargetId(r).next(c=>(a=new vs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function wg(t,e,n){const r=De(t),a=r.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!ul(c))throw c;fe(ky,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function ub(t,e,n){const r=De(t);let a=xe.min(),l=Le();return r.persistence.runTransaction("Execute query","readwrite",c=>function(d,p,y){const _=De(d),b=_.Is.get(y);return b!==void 0?ie.resolve(_.Ts.get(b)):_.Hr.getTargetData(p,y)}(r,c,Oi(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,f.targetId).next(d=>{l=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,e,n?a:xe.min(),n?l:Le())).next(f=>(kN(r,EO(e),f),{documents:f,gs:l})))}function kN(t,e,n){let r=t.Es.get(e)||xe.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Es.set(e,r)}class cb{constructor(){this.activeTargetIds=CO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LN{constructor(){this.ho=new cb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new cb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="ConnectivityMonitor";class fb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(hb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(hb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=null;function Sg(){return tf===null?tf=function(){return 268435456+Math.round(2147483648*Math.random())}():tf++,"0x"+tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===Vf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}bo(e,n,r,a,l){const c=Sg(),f=this.So(e,n.toUriEncodedString());fe(jp,`Sending RPC '${e}' ${c}:`,f,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,a,l),this.vo(e,f,d,r).then(p=>(fe(jp,`Received RPC '${e}' ${c}: `,p),p),p=>{throw Ko(jp,`RPC '${e}' ${c} failed with error: `,p,"url: ",f,"request:",r),p})}Co(e,n,r,a,l,c){return this.bo(e,n,r,a,l)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}So(e,n){const r=jN[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class FN extends zN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,a){const l=Sg();return new Promise((c,f)=>{const d=new gA;d.setWithCredentials(!0),d.listenOnce(yA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case mf.NO_ERROR:const y=d.getResponseJson();fe(rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case mf.TIMEOUT:fe(rn,`RPC '${e}' ${l} timed out`),f(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case mf.HTTP_ERROR:const _=d.getStatus();if(fe(rn,`RPC '${e}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const A=b==null?void 0:b.error;if(A&&A.status&&A.message){const x=function(P){const k=P.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(k)>=0?k:re.UNKNOWN}(A.status);f(new de(x,A.message))}else f(new de(re.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new de(re.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{fe(rn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);fe(rn,`RPC '${e}' ${l} sending request:`,a),d.send(n,"POST",p,r,15)})}Wo(e,n,r){const a=Sg(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=TA(),f=_A(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=l.join("");fe(rn,`Creating RPC '${e}' stream ${a}: ${y}`,d);const _=c.createWebChannel(y,d);let b=!1,A=!1;const x=new BN({Fo:P=>{A?fe(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(b||(fe(rn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),fe(rn,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Mo:()=>_.close()}),O=(P,k,Y)=>{P.listen(k,K=>{try{Y(K)}catch(ee){setTimeout(()=>{throw ee},0)}})};return O(_,Iu.EventType.OPEN,()=>{A||(fe(rn,`RPC '${e}' stream ${a} transport opened.`),x.Qo())}),O(_,Iu.EventType.CLOSE,()=>{A||(A=!0,fe(rn,`RPC '${e}' stream ${a} transport closed`),x.Ko())}),O(_,Iu.EventType.ERROR,P=>{A||(A=!0,Ko(rn,`RPC '${e}' stream ${a} transport errored:`,P),x.Ko(new de(re.UNAVAILABLE,"The operation could not be completed")))}),O(_,Iu.EventType.MESSAGE,P=>{var k;if(!A){const Y=P.data[0];We(!!Y);const K=Y,ee=(K==null?void 0:K.error)||((k=K[0])===null||k===void 0?void 0:k.error);if(ee){fe(rn,`RPC '${e}' stream ${a} received error:`,ee);const W=ee.status;let B=function(C){const I=Ct[C];if(I!==void 0)return ZA(I)}(W),D=ee.message;B===void 0&&(B=re.INTERNAL,D="Unknown error status: "+W+" with message "+ee.message),A=!0,x.Ko(new de(B,D)),_.close()}else fe(rn,`RPC '${e}' stream ${a} received:`,Y),x.Uo(Y)}}),O(f,vA.STAT_EVENT,P=>{P.stat===fg.PROXY?fe(rn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===fg.NOPROXY&&fe(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return new KO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-r);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="PersistentStream";class dR{constructor(e,n,r,a,l,c,f,d){this.Ti=e,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fR(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===n&&this.V_(r,a)},r=>{e(()=>{const a=new de(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(db,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(fe(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HN extends dR{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=QO(this.serializer,e),r=function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Ni(c.readTime):xe.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=bg(this.serializer),n.addTarget=function(l,c){let f;const d=c.target;if(f=gg(d)?{documents:ZO(l,d)}:{query:JO(l,d).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=tR(l,c.resumeToken);const p=_g(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(xe.min())>0){f.readTime=Uf(l,c.snapshotVersion.toTimestamp());const p=_g(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=tN(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=bg(this.serializer),n.removeTarget=e,this.I_(n)}}class qN extends dR{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=WO(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=bg(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XO(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{}class KN extends GN{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,Tg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(re.UNKNOWN,l.toString())})}Co(e,n,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,Tg(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(re.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $N{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Sr(n),this.N_=!1):fe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class YN{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{Na(this)&&(fe(Ma,"Restarting streams for network reachability change."),await async function(d){const p=De(d);p.W_.add(4),await Ec(p),p.j_.set("Unknown"),p.W_.delete(4),await hd(p)}(this))})}),this.j_=new $N(r,a)}}async function hd(t){if(Na(t))for(const e of t.G_)await e(!0)}async function Ec(t){for(const e of t.G_)await e(!1)}function mR(t,e){const n=De(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),zy(n)?jy(n):cl(n).c_()&&Uy(n,e))}function Ly(t,e){const n=De(t),r=cl(n);n.U_.delete(e),r.c_()&&pR(n,e),n.U_.size===0&&(r.c_()?r.P_():Na(n)&&n.j_.set("Unknown"))}function Uy(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(t).y_(e)}function pR(t,e){t.H_.Ne(e),cl(t).w_(e)}function jy(t){t.H_=new FO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),cl(t).start(),t.j_.B_()}function zy(t){return Na(t)&&!cl(t).u_()&&t.U_.size>0}function Na(t){return De(t).W_.size===0}function gR(t){t.H_=void 0}async function QN(t){t.j_.set("Online")}async function XN(t){t.U_.forEach((e,n)=>{Uy(t,e)})}async function WN(t,e){gR(t),zy(t)?(t.j_.q_(e),jy(t)):t.j_.set("Unknown")}async function ZN(t,e,n){if(t.j_.set("Online"),e instanceof eR&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.U_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.U_.delete(f),a.H_.removeTarget(f))}(t,e)}catch(r){fe(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zf(t,r)}else if(e instanceof vf?t.H_.We(e):e instanceof JA?t.H_.Ze(e):t.H_.je(e),!n.isEqual(xe.min()))try{const r=await hR(t.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.U_.get(p);y&&l.U_.set(p,y.withResumeToken(d.resumeToken,c))}}),f.targetMismatches.forEach((d,p)=>{const y=l.U_.get(d);if(!y)return;l.U_.set(d,y.withResumeToken(Jt.EMPTY_BYTE_STRING,y.snapshotVersion)),pR(l,d);const _=new vs(y.target,d,p,y.sequenceNumber);Uy(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){fe(Ma,"Failed to raise snapshot:",r),await zf(t,r)}}async function zf(t,e,n){if(!ul(e))throw e;t.W_.add(1),await Ec(t),t.j_.set("Offline"),n||(n=()=>hR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Ma,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await hd(t)})}function yR(t,e){return e().catch(n=>zf(t,n,e))}async function fd(t){const e=De(t),n=Ds(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:by;for(;JN(e);)try{const a=await ON(e.localStore,r);if(a===null){e.K_.length===0&&n.P_();break}r=a.batchId,ek(e,a)}catch(a){await zf(e,a)}vR(e)&&_R(e)}function JN(t){return Na(t)&&t.K_.length<10}function ek(t,e){t.K_.push(e);const n=Ds(t);n.c_()&&n.b_&&n.S_(e.mutations)}function vR(t){return Na(t)&&!Ds(t).u_()&&t.K_.length>0}function _R(t){Ds(t).start()}async function tk(t){Ds(t).C_()}async function nk(t){const e=Ds(t);for(const n of t.K_)e.S_(n.mutations)}async function ik(t,e,n){const r=t.K_.shift(),a=Dy.from(r,e,n);await yR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await fd(t)}async function rk(t,e){e&&Ds(t).b_&&await async function(r,a){if(function(c){return jO(c)&&c!==re.ABORTED}(a.code)){const l=r.K_.shift();Ds(r).h_(),await yR(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await fd(r)}}(t,e),vR(t)&&_R(t)}async function mb(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),fe(Ma,"RemoteStore received new credentials");const r=Na(n);n.W_.add(3),await Ec(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await hd(n)}async function sk(t,e){const n=De(t);e?(n.W_.delete(2),await hd(n)):e||(n.W_.add(2),await Ec(n),n.j_.set("Unknown"))}function cl(t){return t.J_||(t.J_=function(n,r,a){const l=De(n);return l.M_(),new HN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:QN.bind(null,t),No:XN.bind(null,t),Lo:WN.bind(null,t),p_:ZN.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),zy(t)?jy(t):t.j_.set("Unknown")):(await t.J_.stop(),gR(t))})),t.J_}function Ds(t){return t.Y_||(t.Y_=function(n,r,a){const l=De(n);return l.M_(),new qN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:tk.bind(null,t),Lo:rk.bind(null,t),D_:nk.bind(null,t),v_:ik.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await fd(t)):(await t.Y_.stop(),t.K_.length>0&&(fe(Ma,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,f=new By(e,n,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),ul(t))return new de(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=Du(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.Z_=new ft(Te.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wo{constructor(e,n,r,a,l,c,f,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Wo(e,n,Fo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ok{constructor(){this.queries=gb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const a=De(n),l=a.queries;a.queries=gb(),l.forEach((c,f)=>{for(const d of f.ta)d.onError(r)})})(this,new de(re.ABORTED,"Firestore shutting down"))}}function gb(){return new Oa(t=>zA(t),sd)}async function TR(t,e){const n=De(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(r=2):(l=new ak,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Fy(c,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&Hy(n)}async function ER(t,e){const n=De(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lk(t,e){const n=De(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(r=!0);c.ea=a}}r&&Hy(n)}function uk(t,e,n){const r=De(t),a=r.queries.get(e);if(a)for(const l of a.ta)l.onError(n);r.queries.delete(e)}function Hy(t){t.ia.forEach(e=>{e.next()})}var Ag,yb;(yb=Ag||(Ag={}))._a="default",yb.Cache="cache";class bR{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.key=e}}class SR{constructor(e){this.key=e}}class ck{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=BA(e),this.wa=new Fo(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new pb,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const b=a.get(y),A=ad(this.query,_)?_:null,x=!!b&&this.mutatedKeys.has(b.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let P=!1;b&&A?b.data.isEqual(A.data)?x!==O&&(r.track({type:3,doc:A}),P=!0):this.va(b,A)||(r.track({type:2,doc:A}),P=!0,(d&&this.ya(A,d)>0||p&&this.ya(A,p)<0)&&(f=!0)):!b&&A?(r.track({type:0,doc:A}),P=!0):b&&!A&&(r.track({type:1,doc:b}),P=!0,(d||p)&&(f=!0)),P&&(A?(c=c.add(A),l=O?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{wa:c,Da:r,ls:f,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,_)=>function(A,x){const O=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return O(A)-O(x)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(r),a=a!=null&&a;const f=n&&!a?this.Fa():[],d=this.pa.size===0&&this.current&&!a?1:0,p=d!==this.ga;return this.ga=d,c.length!==0||p?{snapshot:new Wo(this.query,e.wa,l,c,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new pb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new SR(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new wR(r))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Wo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qy="SyncEngine";class hk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fk{constructor(e){this.key=e,this.Ba=!1}}class dk{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Oa(f=>zA(f),sd),this.qa=new Map,this.Qa=new Set,this.$a=new ft(Te.comparator),this.Ka=new Map,this.Ua=new Py,this.Wa={},this.Ga=new Map,this.za=Xo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function mk(t,e,n=!0){const r=DR(t);let a;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await AR(r,e,n,!0),a}async function pk(t,e){const n=DR(t);await AR(n,e,!0,!1)}async function AR(t,e,n,r){const a=await NN(t.localStore,Oi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await gk(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&mR(t.remoteStore,a),f}async function gk(t,e,n,r,a){t.Ha=(_,b,A)=>async function(O,P,k,Y){let K=P.view.Sa(k);K.ls&&(K=await ub(O.localStore,P.query,!1).then(({documents:D})=>P.view.Sa(D,K)));const ee=Y&&Y.targetChanges.get(P.targetId),W=Y&&Y.targetMismatches.get(P.targetId)!=null,B=P.view.applyChanges(K,O.isPrimaryClient,ee,W);return _b(O,P.targetId,B.Ma),B.snapshot}(t,_,b,A);const l=await ub(t.localStore,e,!0),c=new ck(e,l.gs),f=c.Sa(l.documents),d=Tc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,d);_b(t,n,p.Ma);const y=new hk(e,n,c);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function yk(t,e,n){const r=De(t),a=r.ka.get(e),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!sd(c,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await wg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Ly(r.remoteStore,a.targetId),Rg(r,a.targetId)}).catch(ll)):(Rg(r,a.targetId),await wg(r.localStore,a.targetId,!0))}async function vk(t,e){const n=De(t),r=n.ka.get(e),a=n.qa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ly(n.remoteStore,r.targetId))}async function _k(t,e,n){const r=Rk(t);try{const a=await function(c,f){const d=De(c),p=_t.now(),y=f.reduce((A,x)=>A.add(x.key),Le());let _,b;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let x=Ar(),O=Le();return d.ds.getEntries(A,y).next(P=>{x=P,x.forEach((k,Y)=>{Y.isValidDocument()||(O=O.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,x)).next(P=>{_=P;const k=[];for(const Y of f){const K=OO(Y,_.get(Y.key).overlayedDocument);K!=null&&k.push(new Ls(Y.key,K,VA(K.value.mapValue),Jn.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,k,f)}).next(P=>{b=P;const k=P.applyToLocalDocumentSet(_,O);return d.documentOverlayCache.saveOverlays(A,P.batchId,k)})}).then(()=>({batchId:b.batchId,changes:HA(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,d){let p=c.Wa[c.currentUser.toKey()];p||(p=new ft(je)),p=p.insert(f,d),c.Wa[c.currentUser.toKey()]=p}(r,a.batchId,n),await bc(r,a.changes),await fd(r.remoteStore)}catch(a){const l=Fy(a,"Failed to persist write");n.reject(l)}}async function RR(t,e){const n=De(t);try{const r=await VN(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ka.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?We(c.Ba):a.removedDocuments.size>0&&(We(c.Ba),c.Ba=!1))}),await bc(n,r,e)}catch(r){await ll(r)}}function vb(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ka.forEach((l,c)=>{const f=c.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const d=De(c);d.onlineState=f;let p=!1;d.queries.forEach((y,_)=>{for(const b of _.ta)b.sa(f)&&(p=!0)}),p&&Hy(d)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tk(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Ka.get(e),l=a&&a.key;if(l){let c=new ft(Te.comparator);c=c.insert(l,on.newNoDocument(l,xe.min()));const f=Le().add(l),d=new ud(xe.min(),new Map,new ft(je),c,f);await RR(r,d),r.$a=r.$a.remove(l),r.Ka.delete(e),Gy(r)}else await wg(r.localStore,e,!1).then(()=>Rg(r,e,n)).catch(ll)}async function Ek(t,e){const n=De(t),r=e.batch.batchId;try{const a=await MN(n.localStore,e);xR(n,r,null),CR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bc(n,a)}catch(a){await ll(a)}}async function bk(t,e,n){const r=De(t);try{const a=await function(c,f){const d=De(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,f).next(_=>(We(_!==null),y=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(r.localStore,e);xR(r,e,n),CR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bc(r,a)}catch(a){await ll(a)}}function CR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function xR(t,e,n){const r=De(t);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function Rg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||IR(t,r)})}function IR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Ly(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Gy(t))}function _b(t,e,n){for(const r of n)r instanceof wR?(t.Ua.addReference(r.key,e),wk(t,r)):r instanceof SR?(fe(qy,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||IR(t,r.key)):Ae()}function wk(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(fe(qy,"New document in limbo: "+n),t.Qa.add(r),Gy(t))}function Gy(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Te(at.fromString(e)),r=t.za.next();t.Ka.set(r,new fk(n)),t.$a=t.$a.insert(n,r),mR(t.remoteStore,new vs(Oi(Cy(n.path)),r,"TargetPurposeLimboResolution",nd.ae))}}async function bc(t,e,n){const r=De(t),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((f,d)=>{c.push(r.Ha(d,e,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Ny.Yi(d.targetId,p);l.push(_)}}))}),await Promise.all(c),r.La.p_(a),await async function(d,p){const y=De(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ie.forEach(p,b=>ie.forEach(b.Hi,A=>y.persistence.referenceDelegate.addReference(_,b.targetId,A)).next(()=>ie.forEach(b.Ji,A=>y.persistence.referenceDelegate.removeReference(_,b.targetId,A)))))}catch(_){if(!ul(_))throw _;fe(ky,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const A=y.Ts.get(b),x=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(x);y.Ts=y.Ts.insert(b,O)}}}(r.localStore,l))}async function Sk(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){fe(qy,"User change. New user:",e.toKey());const r=await cR(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(f=>{f.forEach(d=>{d.reject(new de(re.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bc(n,r.Rs)}}function Ak(t,e){const n=De(t),r=n.Ka.get(e);if(r&&r.Ba)return Le().add(r.key);{let a=Le();const l=n.qa.get(e);if(!l)return a;for(const c of l){const f=n.ka.get(c);a=a.unionWith(f.view.ba)}return a}}function DR(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ak.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tk.bind(null,e),e.La.p_=lk.bind(null,e.eventManager),e.La.Ja=uk.bind(null,e.eventManager),e}function Rk(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ek.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bk.bind(null,e),e}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return DN(this.persistence,new CN,e.initialUser,this.serializer)}Xa(e){return new uR(Oy.ri,this.serializer)}Za(e){return new LN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class Ck extends Bf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){We(this.persistence.referenceDelegate instanceof jf);const r=this.persistence.referenceDelegate.garbageCollector;return new fN(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new uR(r=>jf.ri(r,n),this.serializer)}}class Cg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sk.bind(null,this.syncEngine),await sk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ok}()}createDatastore(e){const n=cd(e.databaseInfo.databaseId),r=function(l){return new FN(l)}(e.databaseInfo);return function(l,c,f,d){return new KN(l,c,f,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,c,f){return new YN(r,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>vb(this.syncEngine,n,0),function(){return fb.D()?new fb:new UN}())}createSyncEngine(e,n){return function(a,l,c,f,d,p,y){const _=new dk(a,l,c,f,d,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=De(a);fe(Ma,"RemoteStore shutting down."),l.W_.add(5),await Ec(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cg.provider={build:()=>new Cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class xk{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=bA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{fe(Ms,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(fe(Ms,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bp(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ms,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await cR(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ik(t);fe(Ms,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>mb(e.remoteStore,a)),t._onlineComponents=e}async function Ik(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ms,"Using user provided OfflineComponentProvider");try{await Bp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),await Bp(t,new Bf)}}else fe(Ms,"Using default OfflineComponentProvider"),await Bp(t,new Ck(void 0));return t._offlineComponents}async function VR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ms,"Using user provided OnlineComponentProvider"),await Tb(t,t._uninitializedComponentsProvider._online)):(fe(Ms,"Using default OnlineComponentProvider"),await Tb(t,new Cg))),t._onlineComponents}function Dk(t){return VR(t).then(e=>e.syncEngine)}async function PR(t){const e=await VR(t),n=e.eventManager;return n.onListen=mk.bind(null,e.syncEngine),n.onUnlisten=yk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vk.bind(null,e.syncEngine),n}function Mk(t,e,n={}){const r=new vr;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,d,p){const y=new MR({next:b=>{y.su(),c.enqueueAndForget(()=>ER(l,_));const A=b.docs.has(f);!A&&b.fromCache?p.reject(new de(re.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&d&&d.source==="server"?p.reject(new de(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new bR(Cy(f.path),y,{includeMetadataChanges:!0,Ta:!0});return TR(l,_)}(await PR(t),t.asyncQueue,e,n,r)),r.promise}function Vk(t,e,n={}){const r=new vr;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,d,p){const y=new MR({next:b=>{y.su(),c.enqueueAndForget(()=>ER(l,_)),b.fromCache&&d.source==="server"?p.reject(new de(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new bR(f,y,{includeMetadataChanges:!0,Ta:!0});return TR(l,_)}(await PR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t,e,n){if(!n)throw new de(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Pk(t,e,n,r){if(e===!0&&r===!0)throw new de(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bb(t){if(!Te.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wb(t){if(Te.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dd(t);throw new de(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firestore.googleapis.com",Sb=!0;class Ab{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kR,this.ssl=Sb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Sb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cN)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ab({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ab(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BP;switch(r.type){case"firstParty":return new GP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Eb.get(n);r&&(fe("ComponentProvider","Removing Datastore"),Eb.delete(n),r.terminate())}(this),Promise.resolve()}}function Ok(t,e,n,r={}){var a;const l=(t=hi(t,md))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;l.host!==kR&&l.host!==f&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:r});if(!Ca(d,c)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=an.MOCK_USER;else{p=nM(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(_)}t._authCredentials=new FP(new EA(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hl(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class As extends hl{constructor(e,n,r){super(e,n,Cy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new Te(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function xg(t,e,...n){if(t=kt(t),NR("collection","path",e),t instanceof md){const r=at.fromString(e,...n);return wb(r),new As(t,null,r)}{if(!(t instanceof yn||t instanceof As))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return wb(r),new As(t.firestore,null,r)}}function _s(t,e,...n){if(t=kt(t),arguments.length===1&&(e=bA.newId()),NR("doc","path",e),t instanceof md){const r=at.fromString(e,...n);return bb(r),new yn(t,null,new Te(r))}{if(!(t instanceof yn||t instanceof As))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return bb(r),new yn(t.firestore,t instanceof As?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="AsyncQueue";class Cb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fR(this,"async_queue_retry"),this.bu=()=>{const r=zp();r&&fe(Rb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new vr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ul(e))throw e;fe(Rb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(r);throw Sr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=By.createAndSchedule(this,e,n,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ka extends md{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new Cb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cb(e),this._firestoreClient=void 0,await e}}}function Nk(t,e){const n=typeof t=="object"?t:DS(),r=typeof t=="string"?t:Vf,a=uy(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=eM("firestore");l&&Ok(a,...l)}return a}function Ky(t){if(t._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kk(t),t._firestoreClient}function kk(t){var e,n,r;const a=t._freezeSettings(),l=function(f,d,p,y){return new sO(f,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,OR(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new xk(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(Jt.fromBase64String(e))}catch(n){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zo(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=/^__.*__$/;class Uk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new _c(e,this.data,n,this.fieldTransforms)}}class LR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Xy{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Xy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ff(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(UR(this.Lu)&&Lk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class jk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cd(e)}ju(e,n,r,a=!1){return new Xy({Lu:e,methodName:n,zu:r,path:Zt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gd(t){const e=t._freezeSettings(),n=cd(t._databaseId);return new jk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jR(t,e,n,r,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);Wy("Data must be an object, but it was:",c,r);const f=zR(r,c);let d,p;if(l.merge)d=new Dn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=Ig(e,_,n);if(!c.contains(b))throw new de(re.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);FR(y,b)||y.push(b)}d=new Dn(y),p=c.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=c.fieldTransforms;return new Uk(new bn(f),d,p)}class yd extends $y{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yd}}function zk(t,e,n,r){const a=t.ju(1,e,n);Wy("Data must be an object, but it was:",a,r);const l=[],c=bn.empty();ks(r,(d,p)=>{const y=Zy(e,d,n);p=kt(p);const _=a.Ku(y);if(p instanceof yd)l.push(y);else{const b=wc(p,_);b!=null&&(l.push(y),c.set(y,b))}});const f=new Dn(l);return new LR(c,f,a.fieldTransforms)}function Bk(t,e,n,r,a,l){const c=t.ju(1,e,n),f=[Ig(e,r,n)],d=[a];if(l.length%2!=0)throw new de(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(Ig(e,l[b])),d.push(l[b+1]);const p=[],y=bn.empty();for(let b=f.length-1;b>=0;--b)if(!FR(p,f[b])){const A=f[b];let x=d[b];x=kt(x);const O=c.Ku(A);if(x instanceof yd)p.push(A);else{const P=wc(x,O);P!=null&&(p.push(A),y.set(A,P))}}const _=new Dn(p);return new LR(y,_,c.fieldTransforms)}function Fk(t,e,n,r=!1){return wc(n,t.ju(r?4:3,e))}function wc(t,e){if(BR(t=kt(t)))return Wy("Unsupported field value:",e,t),zR(t,e);if(t instanceof $y)return function(r,a){if(!UR(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let d=wc(f,a.Uu(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xO(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=_t.fromDate(r);return{timestampValue:Uf(a.serializer,l)}}if(r instanceof _t){const l=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uf(a.serializer,l)}}if(r instanceof Yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zo)return{bytesValue:tR(a.serializer,r._byteString)};if(r instanceof yn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Qy)return function(c,f){return{mapValue:{fields:{[DA]:{stringValue:MA},[Pf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Wu("VectorValues must only contain numeric values.");return xy(f.serializer,p)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${dd(r)}`)}(t,e)}function zR(t,e){const n={};return SA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(t,(r,a)=>{const l=wc(a,e.qu(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function BR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof Yy||t instanceof Zo||t instanceof yn||t instanceof $y||t instanceof Qy)}function Wy(t,e,n){if(!BR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=dd(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Ig(t,e,n){if((e=kt(e))instanceof pd)return e._internalPath;if(typeof e=="string")return Zy(t,e);throw Ff("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hk=new RegExp("[~\\*/\\[\\]]");function Zy(t,e,n){if(e.search(Hk)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pd(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ff(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new de(re.INVALID_ARGUMENT,f+t+d)}function FR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qk extends HR{data(){return super.data()}}function Jy(t,e){return typeof e=="string"?Zy(t,e):e instanceof pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class Kk extends ev{}function qR(t,e,...n){let r=[];e instanceof ev&&r.push(e),r=r.concat(n),function(l){const c=l.filter(d=>d instanceof tv).length,f=l.filter(d=>d instanceof vd).length;if(c>1||c>0&&f>0)throw new de(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class vd extends Kk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vd(e,n,r)}_apply(e){const n=this._parse(e);return GR(e._query,n),new hl(e.firestore,e.converter,yg(e._query,n))}_parse(e){const n=gd(e.firestore);return function(l,c,f,d,p,y,_){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Ib(_,y);const x=[];for(const O of _)x.push(xb(d,l,O));b={arrayValue:{values:x}}}else b=xb(d,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Ib(_,y),b=Fk(f,c,_,y==="in"||y==="not-in");return xt.create(p,y,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vu(t,e,n){const r=e,a=Jy("where",t);return vd._create(a,r,n)}class tv extends ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const d of f)GR(c,d),c=yg(c,d)}(e._query,n),new hl(e.firestore,e.converter,yg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xb(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new de(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jA(e)&&n.indexOf("/")!==-1)throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!Te.isDocumentKey(r))throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qE(t,new Te(r))}if(n instanceof yn)return qE(t,n._key);throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dd(n)}.`)}function Ib(t,e){if(!Array.isArray(t)||t.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GR(t,e){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $k{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ks(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[Pf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>wt(c.doubleValue));return new Qy(l)}convertGeoPoint(e){return new Yy(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);We(oR(r));const a=new Ju(r.get(1),r.get(3)),l=new Te(r.popFirst(5));return a.isEqual(n)||Sr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $R extends HR{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _f extends $R{data(e={}){return super.data(e)}}class Yk{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Pu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _f(this._firestore,this._userDataWriter,r.key,r,new Pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const d=new _f(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const d=new _f(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:Qk(f.type),doc:d,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Qk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){t=hi(t,yn);const e=hi(t.firestore,ka);return Mk(Ky(e),t._key).then(n=>Jk(e,t,n))}class YR extends $k{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function Dg(t){t=hi(t,hl);const e=hi(t.firestore,ka),n=Ky(e),r=new YR(e);return Gk(t._query),Vk(n,t._query).then(a=>new Yk(e,r,t,a))}function Xk(t,e,n){t=hi(t,yn);const r=hi(t.firestore,ka),a=KR(t.converter,e);return _d(r,[jR(gd(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Jn.none())])}function Db(t,e,n,...r){t=hi(t,yn);const a=hi(t.firestore,ka),l=gd(a);let c;return c=typeof(e=kt(e))=="string"||e instanceof pd?Bk(l,"updateDoc",t._key,e,n,r):zk(l,"updateDoc",t._key,e),_d(a,[c.toMutation(t._key,Jn.exists(!0))])}function Wk(t){return _d(hi(t.firestore,ka),[new Iy(t._key,Jn.none())])}function Zk(t,e){const n=hi(t.firestore,ka),r=_s(t),a=KR(t.converter,e);return _d(n,[jR(gd(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function _d(t,e){return function(r,a){const l=new vr;return r.asyncQueue.enqueueAndForget(async()=>_k(await Dk(r),a,l)),l.promise}(Ky(t),e)}function Jk(t,e,n){const r=n.docs.get(e._key),a=new YR(t);return new $R(t,a,e._key,r,new Pu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){ol=a})(sl),qo(new xa("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new ka(new HP(r.getProvider("auth-internal")),new KP(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),bs(PE,OE,e),bs(PE,OE,"esm2017")})();const eL={apiKey:"AIzaSyB5yb6VlmLSeiH0jUD6xl2MGR4jLZ1Rew8",authDomain:"homequest-51564.firebaseapp.com",projectId:"homequest-51564",storageBucket:"homequest-51564.firebasestorage.app",messagingSenderId:"1095979967903",appId:"1:1095979967903:web:e92a8d06c77652efbb09aa"},QR=IS(eL),Ho=mA(QR),Vi=Nk(QR),XR=N.createContext(void 0),tL=({children:t})=>{const[e,n]=N.useState(null),[r,a]=N.useState(!0);N.useEffect(()=>{AV(Ho,rA).then(()=>console.log("Persistncia ativada!")).catch(f=>console.error("Erro ao definir persistncia:",f));const c=xV(Ho,async f=>{if(f)try{let d=await nL(f.uid);d||(d=await iL(f.uid,f.email?f.email:"")),n(d)}catch(d){console.error("Erro ao buscar ou criar usurio no Firestore:",d),n(null)}else n(null);a(!1)});return()=>c()},[]);const l=async()=>{await tA(Ho),n(null)};return q.jsx(XR.Provider,{value:{user:e,loading:r,logout:l},children:r?q.jsx("div",{className:"flex justify-center items-center h-screen",children:"Carregando..."}):t})},fl=()=>{const t=N.useContext(XR);if(!t)throw new Error("useAuth deve estar dentro de um AuthProvider");return t},nL=async t=>{try{const e=_s(Vi,"users",t),n=await nv(e);return n.exists()?n.data():(console.warn("Usurio no encontrado no Firestore:",t),null)}catch(e){return console.error("Erro ao buscar usurio no Firestore:",e),null}},iL=async(t,e)=>{try{const n=_s(Vi,"users",t),r={uid:t,email:e,points:0,name:"",createdAt:new Date().toISOString(),isAdmin:!1};return await Xk(n,r),console.log("Usurio criado no Firestore:",t),r}catch(n){throw console.error("Erro ao criar usurio no Firestore:",n),new Error("No foi possvel criar o usurio no Firestore.")}},iv="-",rL=t=>{const e=aL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const f=c.split(iv);return f[0]===""&&f.length!==1&&f.shift(),WR(f,e)||sL(c)},getConflictingClassGroupIds:(c,f)=>{const d=n[c]||[];return f&&r[c]?[...d,...r[c]]:d}}},WR=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),a=r?WR(t.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(iv);return(c=e.validators.find(({validator:f})=>f(l)))==null?void 0:c.classGroupId},Mb=/^\[(.+)\]$/,sL=t=>{if(Mb.test(t)){const e=Mb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aL=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const a in n)Mg(n[a],r,a,e);return r},Mg=(t,e,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:Vb(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(oL(a)){Mg(a(r),e,n,r);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,c])=>{Mg(c,Vb(e,l),n,r)})})},Vb=(t,e)=>{let n=t;return e.split(iv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},oL=t=>t.isThemeGetter,lL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const a=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return a(l,c),c},set(l,c){n.has(l)?n.set(l,c):a(l,c)}}},Vg="!",Pg=":",uL=Pg.length,cL=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let c=0,f=0,d=0,p;for(let x=0;x<a.length;x++){let O=a[x];if(c===0&&f===0){if(O===Pg){l.push(a.slice(d,x)),d=x+uL;continue}if(O==="/"){p=x;continue}}O==="["?c++:O==="]"?c--:O==="("?f++:O===")"&&f--}const y=l.length===0?a:a.substring(d),_=hL(y),b=_!==y,A=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:_,maybePostfixModifierPosition:A}};if(e){const a=e+Pg,l=r;r=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},hL=t=>t.endsWith(Vg)?t.substring(0,t.length-1):t.startsWith(Vg)?t.substring(1):t,fL=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let l=[];return r.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},dL=t=>({cache:lL(t.cacheSize),parseClassName:cL(t),sortModifiers:fL(t),...rL(t)}),mL=/\s+/,pL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=t.trim().split(mL);let d="";for(let p=f.length-1;p>=0;p-=1){const y=f[p],{isExternal:_,modifiers:b,hasImportantModifier:A,baseClassName:x,maybePostfixModifierPosition:O}=n(y);if(_){d=y+(d.length>0?" "+d:d);continue}let P=!!O,k=r(P?x.substring(0,O):x);if(!k){if(!P){d=y+(d.length>0?" "+d:d);continue}if(k=r(x),!k){d=y+(d.length>0?" "+d:d);continue}P=!1}const Y=l(b).join(":"),K=A?Y+Vg:Y,ee=K+k;if(c.includes(ee))continue;c.push(ee);const W=a(k,P);for(let B=0;B<W.length;++B){const D=W[B];c.push(K+D)}d=y+(d.length>0?" "+d:d)}return d};function gL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ZR(e))&&(r&&(r+=" "),r+=n);return r}const ZR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ZR(t[r]))&&(n&&(n+=" "),n+=e);return n};function yL(t,...e){let n,r,a,l=c;function c(d){const p=e.reduce((y,_)=>_(y),t());return n=dL(p),r=n.cache.get,a=n.cache.set,l=f,f(d)}function f(d){const p=r(d);if(p)return p;const y=pL(d,n);return a(d,y),y}return function(){return l(gL.apply(null,arguments))}}const qt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},JR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,e1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vL=/^\d+\/\d+$/,_L=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Io=t=>vL.test(t),Ne=t=>!!t&&!Number.isNaN(Number(t)),ya=t=>!!t&&Number.isInteger(Number(t)),Pb=t=>t.endsWith("%")&&Ne(t.slice(0,-1)),ds=t=>_L.test(t),SL=()=>!0,AL=t=>TL.test(t)&&!EL.test(t),rv=()=>!1,RL=t=>bL.test(t),CL=t=>wL.test(t),xL=t=>!pe(t)&&!ge(t),IL=t=>dl(t,i1,rv),pe=t=>JR.test(t),va=t=>dl(t,r1,AL),Fp=t=>dl(t,zL,Ne),DL=t=>dl(t,t1,rv),ML=t=>dl(t,n1,CL),VL=t=>dl(t,rv,RL),ge=t=>e1.test(t),nf=t=>ml(t,r1),PL=t=>ml(t,BL),OL=t=>ml(t,t1),NL=t=>ml(t,i1),kL=t=>ml(t,n1),LL=t=>ml(t,FL,!0),dl=(t,e,n)=>{const r=JR.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ml=(t,e,n=!1)=>{const r=e1.exec(t);return r?r[1]?e(r[1]):n:!1},t1=t=>t==="position",UL=new Set(["image","url"]),n1=t=>UL.has(t),jL=new Set(["length","size","percentage"]),i1=t=>jL.has(t),r1=t=>t==="length",zL=t=>t==="number",BL=t=>t==="family-name",FL=t=>t==="shadow",HL=()=>{const t=qt("color"),e=qt("font"),n=qt("text"),r=qt("font-weight"),a=qt("tracking"),l=qt("leading"),c=qt("breakpoint"),f=qt("container"),d=qt("spacing"),p=qt("radius"),y=qt("shadow"),_=qt("inset-shadow"),b=qt("drop-shadow"),A=qt("blur"),x=qt("perspective"),O=qt("aspect"),P=qt("ease"),k=qt("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto","contain","none"],B=()=>[ge,pe,d],D=()=>[Io,"full","auto",...B()],R=()=>[ya,"none","subgrid",ge,pe],C=()=>["auto",{span:["full",ya,ge,pe]},ge,pe],I=()=>[ya,"auto",ge,pe],U=()=>["auto","min","max","fr",ge,pe],F=()=>["start","end","center","between","around","evenly","stretch","baseline"],V=()=>["start","end","center","stretch"],ze=()=>["auto",...B()],Qe=()=>[Io,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],te=()=>[t,ge,pe],he=()=>[Pb,va],le=()=>["","none","full",p,ge,pe],Se=()=>["",Ne,nf,va],L=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>["","none",A,ge,pe],ce=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge,pe],ue=()=>["none",Ne,ge,pe],Re=()=>["none",Ne,ge,pe],Ce=()=>[Ne,ge,pe],st=()=>[Io,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ds],breakpoint:[ds],color:[SL],container:[ds],"drop-shadow":[ds],ease:["in","out","in-out"],font:[xL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ds],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ds],shadow:[ds],spacing:["px",Ne],text:[ds],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Io,pe,ge,O]}],container:["container"],columns:[{columns:[Ne,pe,ge,f]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),pe,ge]}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[ya,"auto",ge,pe]}],basis:[{basis:[Io,"full","auto",f,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ne,Io,"auto","initial","none",pe]}],grow:[{grow:["",Ne,ge,pe]}],shrink:[{shrink:["",Ne,ge,pe]}],order:[{order:[ya,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:C()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:C()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...V(),"baseline"]}],"align-self":[{self:["auto",...V(),"baseline"]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:ze()}],mx:[{mx:ze()}],my:[{my:ze()}],ms:[{ms:ze()}],me:[{me:ze()}],mt:[{mt:ze()}],mr:[{mr:ze()}],mb:[{mb:ze()}],ml:[{ml:ze()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:Qe()}],w:[{w:[f,"screen",...Qe()]}],"min-w":[{"min-w":[f,"screen","none",...Qe()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...Qe()]}],h:[{h:["screen",...Qe()]}],"min-h":[{"min-h":["screen","none",...Qe()]}],"max-h":[{"max-h":["screen",...Qe()]}],"font-size":[{text:["base",n,nf,va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,Fp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pb,pe]}],"font-family":[{font:[PL,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ge,pe]}],"line-clamp":[{"line-clamp":[Ne,"none",ge,Fp]}],leading:[{leading:[l,...B()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ne,"from-font","auto",ge,va]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Ne,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),OL,DL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",NL,IL]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ya,ge,pe],radial:["",ge,pe],conic:[ya,ge,pe]},kL,ML]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:Se()}],"border-w-x":[{"border-x":Se()}],"border-w-y":[{"border-y":Se()}],"border-w-s":[{"border-s":Se()}],"border-w-e":[{"border-e":Se()}],"border-w-t":[{"border-t":Se()}],"border-w-r":[{"border-r":Se()}],"border-w-b":[{"border-b":Se()}],"border-w-l":[{"border-l":Se()}],"divide-x":[{"divide-x":Se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...L(),"hidden","none"]}],"divide-style":[{divide:[...L(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...L(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ne,ge,pe]}],"outline-w":[{outline:["",Ne,nf,va]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",y,LL,VL]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",ge,pe,_]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:Se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Ne,va]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":Se()}],"inset-ring-color":[{"inset-ring":te()}],opacity:[{opacity:[Ne,ge,pe]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:ye()}],brightness:[{brightness:[Ne,ge,pe]}],contrast:[{contrast:[Ne,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",b,ge,pe]}],grayscale:[{grayscale:["",Ne,ge,pe]}],"hue-rotate":[{"hue-rotate":[Ne,ge,pe]}],invert:[{invert:["",Ne,ge,pe]}],saturate:[{saturate:[Ne,ge,pe]}],sepia:[{sepia:["",Ne,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[Ne,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Ne,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ne,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ne,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",Ne,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Ne,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Ne,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ne,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ne,"initial",ge,pe]}],ease:[{ease:["linear","initial",P,ge,pe]}],delay:[{delay:[Ne,ge,pe]}],animate:[{animate:["none",k,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,ge,pe]}],"perspective-origin":[{"perspective-origin":ce()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:ce()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:st()}],"translate-x":[{"translate-x":st()}],"translate-y":[{"translate-y":st()}],"translate-z":[{"translate-z":st()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Ne,nf,va,Fp]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Rr=yL(HL);function Wn(t){const e={primary:"bg-violet-600 text-violet-100 hover:bg-violet-800 hover:text-violet-200",secondary:"bg-violet-300 text-violet-600 hover:bg-violet-400 hover:text-violet-700",danger:"bg-red-500 text-red-100 hover:bg-red-700 hover:text-red-200"};return q.jsx("button",{className:Rr("p-2 rounded ease-linear transition-colors flex gap-4 items-center outline-amber-500",e[t.variant],t.disabled?"cursor-not-allowed":"cursor-pointer",t.styling),onClick:t.click,children:t.placeholder})}/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...f},d)=>N.createElement("svg",{ref:d,...GL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:s1("lucide",a),...f},[...c.map(([p,y])=>N.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=(t,e)=>{const n=N.forwardRef(({className:r,...a},l)=>N.createElement(KL,{ref:l,iconNode:e,className:s1(`lucide-${qL(t)}`,r),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]],YL=mi("Blocks",$L);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XL=mi("CircleCheckBig",QL);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ZL=mi("Clock",WL);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],a1=mi("Crown",JL);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],tU=mi("LogOut",eU);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],iU=mi("Scroll",nU);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]],sU=mi("Stamp",rU);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],oU=mi("StickyNote",aU);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],uU=mi("Trash",lU);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],o1=mi("User",cU);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fU=mi("X",hU),sv=N.createContext({});function av(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const ov=typeof window<"u",l1=ov?N.useLayoutEffect:N.useEffect,Td=N.createContext(null),lv=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class dU extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mU({children:t,isPresent:e,anchorX:n}){const r=N.useId(),a=N.useRef(null),l=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=N.useContext(lv);return N.useInsertionEffect(()=>{const{width:f,height:d,top:p,left:y,right:_}=l.current;if(e||!a.current||!f||!d)return;const b=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=r;const A=document.createElement("style");return c&&(A.nonce=c),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[e]),q.jsx(dU,{isPresent:e,childRef:a,sizeRef:l,children:N.cloneElement(t,{ref:a})})}const pU=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f})=>{const d=av(gU),p=N.useId(),y=N.useCallback(b=>{d.set(b,!0);for(const A of d.values())if(!A)return;r&&r()},[d,r]),_=N.useMemo(()=>({id:p,initial:e,isPresent:n,custom:a,onExitComplete:y,register:b=>(d.set(b,!1),()=>d.delete(b))}),l?[Math.random(),y]:[n,y]);return N.useMemo(()=>{d.forEach((b,A)=>d.set(A,!1))},[n]),N.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),c==="popLayout"&&(t=q.jsx(mU,{isPresent:n,anchorX:f,children:t})),q.jsx(Td.Provider,{value:_,children:t})};function gU(){return new Map}function u1(t=!0){const e=N.useContext(Td);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const c=N.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const rf=t=>t.key||"";function Ob(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const yU=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left"})=>{const[d,p]=u1(c),y=N.useMemo(()=>Ob(t),[t]),_=c&&!d?[]:y.map(rf),b=N.useRef(!0),A=N.useRef(y),x=av(()=>new Map),[O,P]=N.useState(y),[k,Y]=N.useState(y);l1(()=>{b.current=!1,A.current=y;for(let W=0;W<k.length;W++){const B=rf(k[W]);_.includes(B)?x.delete(B):x.get(B)!==!0&&x.set(B,!1)}},[k,_.length,_.join("-")]);const K=[];if(y!==O){let W=[...y];for(let B=0;B<k.length;B++){const D=k[B],R=rf(D);_.includes(R)||(W.splice(B,0,D),K.push(D))}return l==="wait"&&K.length&&(W=K),Y(Ob(W)),P(y),null}const{forceRender:ee}=N.useContext(sv);return q.jsx(q.Fragment,{children:k.map(W=>{const B=rf(W),D=c&&!d?!1:y===k||_.includes(B),R=()=>{if(x.has(B))x.set(B,!0);else return;let C=!0;x.forEach(I=>{I||(C=!1)}),C&&(ee==null||ee(),Y(A.current),c&&(p==null||p()),r&&r())};return q.jsx(pU,{isPresent:D,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:D?void 0:R,anchorX:f,children:W},B)})})};function uv(t,e){t.indexOf(e)===-1&&t.push(e)}function cv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Mn=t=>t;let c1=Mn;const vU={useManualTiming:!1};function hv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class fv{constructor(){this.subscriptions=[]}add(e){return uv(this.subscriptions,e),()=>cv(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _r=t=>t*1e3,Tr=t=>t/1e3;function h1(t,e){return e?t*(1e3/e):0}const _U=hv(()=>window.ScrollTimeline!==void 0);class TU{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(a=>{if(_U()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class EU extends TU{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function dv(t,e){return t?t[e]||t.default||t:void 0}const Og=2e4;function f1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Og;)e+=n,r=t.next(e);return e>=Og?1/0:e}function mv(t){return typeof t=="function"}function Nb(t,e){t.timeline=e,t.onfinish=null}const pv=t=>Array.isArray(t)&&typeof t[0]=="number",bU={linearEasing:void 0};function wU(t,e){const n=hv(t);return()=>{var r;return(r=bU[e])!==null&&r!==void 0?r:n()}}const Hf=wU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),d1=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=t(Jo(0,a-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function m1(t){return!!(typeof t=="function"&&Hf()||!t||typeof t=="string"&&(t in Ng||Hf())||pv(t)||Array.isArray(t)&&t.every(m1))}const Ou=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ng={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ou([0,.65,.55,1]),circOut:Ou([.55,0,1,.45]),backIn:Ou([.31,.01,.66,-.59]),backOut:Ou([.33,1.53,.69,.99])};function p1(t,e){if(t)return typeof t=="function"&&Hf()?d1(t,e):pv(t)?Ou(t):Array.isArray(t)?t.map(n=>p1(n,e)||Ng.easeOut):Ng[t]}const sf=["read","resolveKeyframes","update","preRender","render","postRender"],kb={value:null};function SU(t,e){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},d=0;function p(_){c.has(_)&&(y.schedule(_),t()),d++,_(f)}const y={schedule:(_,b=!1,A=!1)=>{const O=A&&a?n:r;return b&&c.add(_),O.has(_)||O.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),e&&kb.value&&kb.value.frameloop[e].push(d),d=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const AU=40;function g1(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=sf.reduce((k,Y)=>(k[Y]=SU(l,e?Y:void 0),k),{}),{read:f,resolveKeyframes:d,update:p,preRender:y,render:_,postRender:b}=c,A=()=>{const k=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(k-a.timestamp,AU),1),a.timestamp=k,a.isProcessing=!0,f.process(a),d.process(a),p.process(a),y.process(a),_.process(a),b.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(A))},x=()=>{n=!0,r=!0,a.isProcessing||t(A)};return{schedule:sf.reduce((k,Y)=>{const K=c[Y];return k[Y]=(ee,W=!1,B=!1)=>(n||x(),K.schedule(ee,W,B)),k},{}),cancel:k=>{for(let Y=0;Y<sf.length;Y++)c[sf[Y]].cancel(k)},state:a,steps:c}}const{schedule:rt,cancel:Vs,state:Xt,steps:Hp}=g1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0),{schedule:gv}=g1(queueMicrotask,!1);let Tf;function RU(){Tf=void 0}const ki={now:()=>(Tf===void 0&&ki.set(Xt.isProcessing||vU.useManualTiming?Xt.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(RU)}},oi={x:!1,y:!1};function y1(){return oi.x||oi.y}function CU(t){return t==="x"||t==="y"?oi[t]?null:(oi[t]=!0,()=>{oi[t]=!1}):oi.x||oi.y?null:(oi.x=oi.y=!0,()=>{oi.x=oi.y=!1})}function xU(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const l=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function v1(t,e){const n=xU(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Lb(t){return!(t.pointerType==="touch"||y1())}function IU(t,e,n={}){const[r,a,l]=v1(t,n),c=f=>{if(!Lb(f))return;const{target:d}=f,p=e(d,f);if(typeof p!="function"||!d)return;const y=_=>{Lb(_)&&(p(_),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}function Ub(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const _1=(t,e)=>e?t===e?!0:_1(t,e.parentElement):!1,yv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,DU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MU(t){return DU.has(t.tagName)||t.tabIndex!==-1}const Nu=new WeakSet;function jb(t){return e=>{e.key==="Enter"&&t(e)}}function qp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=jb(()=>{if(Nu.has(n))return;qp(n,"down");const a=jb(()=>{qp(n,"up")}),l=()=>qp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function zb(t){return yv(t)&&!y1()}function PU(t,e,n={}){const[r,a,l]=v1(t,n),c=f=>{const d=f.currentTarget;if(!d||!zb(f)||Nu.has(d))return;Nu.add(d),Ub(f,"set");const p=e(d,f),y=(A,x)=>{d.removeEventListener("pointerup",_),d.removeEventListener("pointercancel",b),Ub(A,"release"),!(!zb(A)||!Nu.has(d))&&(Nu.delete(d),typeof p=="function"&&p(A,{success:x}))},_=A=>{(A.isTrusted?OU(A,d instanceof Element?d.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?y(A,!1):y(A,!(d instanceof Element)||_1(d,A.target))},b=A=>{y(A,!1)};d.addEventListener("pointerup",_,a),d.addEventListener("pointercancel",b,a),d.addEventListener("lostpointercapture",b,a)};return r.forEach(f=>{f=n.useGlobalTarget?window:f;let d=!1;f instanceof HTMLElement&&(d=!0,!MU(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0)),f.addEventListener("pointerdown",c,a),d&&f.addEventListener("focus",p=>VU(p,a),a)}),l}function OU(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const Bb=30,NU=t=>!isNaN(parseFloat(t));class kU{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=ki.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ki.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=NU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fv);const r=this.events[e].add(n);return e==="change"?()=>{r(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ki.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Bb);return h1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ic(t,e){return new kU(t,e)}const T1=N.createContext({strict:!1}),Fb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},el={};for(const t in Fb)el[t]={isEnabled:e=>Fb[t].some(n=>!!e[n])};function LU(t){for(const e in t)el[e]={...el[e],...t[e]}}const UU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UU.has(t)}let E1=t=>!qf(t);function jU(t){t&&(E1=e=>e.startsWith("on")?!qf(e):t(e))}try{jU(require("@emotion/is-prop-valid").default)}catch{}function zU(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(E1(a)||n===!0&&qf(a)||!e&&!qf(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function BU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Ed=N.createContext({});function bd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rc(t){return typeof t=="string"||Array.isArray(t)}const vv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_v=["initial",...vv];function wd(t){return bd(t.animate)||_v.some(e=>rc(t[e]))}function b1(t){return!!(wd(t)||t.variants)}function FU(t,e){if(wd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rc(n)?n:void 0,animate:rc(r)?r:void 0}}return t.inherit!==!1?e:{}}function HU(t){const{initial:e,animate:n}=FU(t,N.useContext(Ed));return N.useMemo(()=>({initial:e,animate:n}),[Hb(e),Hb(n)])}function Hb(t){return Array.isArray(t)?t.join(" "):t}const qU=Symbol.for("motionComponentSymbol");function Oo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function GU(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Oo(n)&&(n.current=r))},[e])}const Tv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KU="framerAppearId",w1="data-"+Tv(KU),S1=N.createContext({});function $U(t,e,n,r,a){var l,c;const{visualElement:f}=N.useContext(Ed),d=N.useContext(T1),p=N.useContext(Td),y=N.useContext(lv).reducedMotion,_=N.useRef(null);r=r||d.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:f,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const b=_.current,A=N.useContext(S1);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&YU(_.current,n,a,A);const x=N.useRef(!1);N.useInsertionEffect(()=>{b&&x.current&&b.update(n,p)});const O=n[w1],P=N.useRef(!!O&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,O))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,O)));return l1(()=>{b&&(x.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),gv.render(b.render),P.current&&b.animationState&&b.animationState.animateChanges())}),N.useEffect(()=>{b&&(!P.current&&b.animationState&&b.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)===null||k===void 0||k.call(window,O)}),P.current=!1))}),b}function YU(t,e,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:A1(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Oo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:p})}function A1(t){if(t)return t.options.allowProjection!==!1?t.projection:A1(t.parent)}function QU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){var l,c;t&&LU(t);function f(p,y){let _;const b={...N.useContext(lv),...p,layoutId:XU(p)},{isStatic:A}=b,x=HU(p),O=r(p,A);if(!A&&ov){WU();const P=ZU(b);_=P.MeasureLayout,x.visualElement=$U(a,O,b,e,P.ProjectionNode)}return q.jsxs(Ed.Provider,{value:x,children:[_&&x.visualElement?q.jsx(_,{visualElement:x.visualElement,...b}):null,n(a,p,GU(O,x.visualElement,y),O,A,x.visualElement)]})}f.displayName=`motion.${typeof a=="string"?a:`create(${(c=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&c!==void 0?c:""})`}`;const d=N.forwardRef(f);return d[qU]=a,d}function XU({layoutId:t}){const e=N.useContext(sv).id;return e&&t!==void 0?e+"-"+t:t}function WU(t,e){N.useContext(T1).strict}function ZU(t){const{drag:e,layout:n}=el;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const R1=t=>e=>typeof e=="string"&&e.startsWith(t),Ev=R1("--"),JU=R1("var(--"),bv=t=>JU(t)?e4.test(t.split("/*")[0].trim()):!1,e4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sc={};function t4(t){for(const e in t)sc[e]=t[e],Ev(e)&&(sc[e].isCSSVariable=!0)}const pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],La=new Set(pl);function C1(t,{layout:e,layoutId:n}){return La.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sc[t]||t==="opacity")}const ln=t=>!!(t&&t.getVelocity),x1=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Cr=(t,e,n)=>n>e?e:n<t?t:n,gl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ac={...gl,transform:t=>Cr(0,1,t)},af={...gl,default:1},Sc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ms=Sc("deg"),Li=Sc("%"),be=Sc("px"),n4=Sc("vh"),i4=Sc("vw"),qb={...Li,parse:t=>Li.parse(t)/100,transform:t=>Li.transform(t*100)},r4={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be},s4={rotate:ms,rotateX:ms,rotateY:ms,rotateZ:ms,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:ms,skewX:ms,skewY:ms,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:ac,originX:qb,originY:qb,originZ:be},Gb={...gl,transform:Math.round},wv={...r4,...s4,zIndex:Gb,size:be,fillOpacity:ac,strokeOpacity:ac,numOctaves:Gb},a4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o4=pl.length;function l4(t,e,n){let r="",a=!0;for(let l=0;l<o4;l++){const c=pl[l],f=t[c];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(c.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const p=x1(f,wv[c]);if(!d){a=!1;const y=a4[c]||c;r+=`${y}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Sv(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const d in e){const p=e[d];if(La.has(d)){c=!0;continue}else if(Ev(d)){a[d]=p;continue}else{const y=x1(p,wv[d]);d.startsWith("origin")?(f=!0,l[d]=y):r[d]=y}}if(e.transform||(c||n?r.transform=l4(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${d} ${p} ${y}`}}const Av=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function I1(t,e,n){for(const r in e)!ln(e[r])&&!C1(r,n)&&(t[r]=e[r])}function u4({transformTemplate:t},e){return N.useMemo(()=>{const n=Av();return Sv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function c4(t,e){const n=t.style||{},r={};return I1(r,n,t),Object.assign(r,u4(t,e)),r}function h4(t,e){const n={},r=c4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const f4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rv(t){return typeof t!="string"||t.includes("-")?!1:!!(f4.indexOf(t)>-1||/[A-Z]/u.test(t))}const d4={offset:"stroke-dashoffset",array:"stroke-dasharray"},m4={offset:"strokeDashoffset",array:"strokeDasharray"};function p4(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?d4:m4;t[l.offset]=be.transform(-r);const c=be.transform(e),f=be.transform(n);t[l.array]=`${c} ${f}`}function Kb(t,e,n){return typeof t=="string"?t:be.transform(e+n*t)}function g4(t,e,n){const r=Kb(e,t.x,t.width),a=Kb(n,t.y,t.height);return`${r} ${a}`}function Cv(t,{attrX:e,attrY:n,attrScale:r,originX:a,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:d=0,...p},y,_){if(Sv(t,p,_),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:A,dimensions:x}=t;b.transform&&(x&&(A.transform=b.transform),delete b.transform),x&&(a!==void 0||l!==void 0||A.transform)&&(A.transformOrigin=g4(x,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),c!==void 0&&p4(b,c,f,d,!1)}const D1=()=>({...Av(),attrs:{}}),xv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function y4(t,e,n,r){const a=N.useMemo(()=>{const l=D1();return Cv(l,e,xv(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};I1(l,t.style,t),a.style={...l,...a.style}}return a}function v4(t=!1){return(n,r,a,{latestValues:l},c)=>{const d=(Rv(n)?y4:h4)(r,l,c,n),p=zU(r,typeof n=="string",t),y=n!==N.Fragment?{...p,...d,ref:a}:{},{children:_}=r,b=N.useMemo(()=>ln(_)?_.get():_,[_]);return N.createElement(n,{...y,children:b})}}function $b(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Iv(t,e,n,r){if(typeof e=="function"){const[a,l]=$b(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=$b(r);e=e(n!==void 0?n:t.custom,a,l)}return e}const kg=t=>Array.isArray(t),_4=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),T4=t=>kg(t)?t[t.length-1]||0:t;function Ef(t){const e=ln(t)?t.get():t;return _4(e)?e.toValue():e}function E4({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,a,l){const c={latestValues:b4(r,a,l,t),renderState:e()};return n&&(c.onMount=f=>n({props:r,current:f,...c}),c.onUpdate=f=>n(f)),c}const M1=t=>(e,n)=>{const r=N.useContext(Ed),a=N.useContext(Td),l=()=>E4(t,e,r,a);return n?l():av(l)};function b4(t,e,n,r){const a={},l=r(t,{});for(const b in l)a[b]=Ef(l[b]);let{initial:c,animate:f}=t;const d=wd(t),p=b1(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!bd(_)){const b=Array.isArray(_)?_:[_];for(let A=0;A<b.length;A++){const x=Iv(t,b[A]);if(x){const{transitionEnd:O,transition:P,...k}=x;for(const Y in k){let K=k[Y];if(Array.isArray(K)){const ee=y?K.length-1:0;K=K[ee]}K!==null&&(a[Y]=K)}for(const Y in O)a[Y]=O[Y]}}}return a}function Dv(t,e,n){var r;const{style:a}=t,l={};for(const c in a)(ln(a[c])||e.style&&ln(e.style[c])||C1(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=a[c]);return l}const w4={useVisualState:M1({scrapeMotionValuesFromProps:Dv,createRenderState:Av})};function V1(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function P1(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const O1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function N1(t,e,n,r){P1(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(O1.has(a)?a:Tv(a),e.attrs[a])}function k1(t,e,n){const r=Dv(t,e,n);for(const a in t)if(ln(t[a])||ln(e[a])){const l=pl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const Yb=["x","y","width","height","cx","cy","r"],S4={useVisualState:M1({scrapeMotionValuesFromProps:k1,createRenderState:D1,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const f in a)if(La.has(f)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let f=0;f<Yb.length;f++){const d=Yb[f];t[d]!==e[d]&&(c=!0)}c&&rt.read(()=>{V1(n,r),rt.render(()=>{Cv(r,a,xv(n.tagName),t.transformTemplate),N1(n,r)})})}})};function A4(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Rv(r)?S4:w4,preloadedFeatures:t,useRender:v4(a),createVisualElement:e,Component:r};return QU(c)}}function oc(t,e,n){const r=t.getProps();return Iv(r,e,n!==void 0?n:r.custom,t)}const L1=new Set(["width","height","top","left","right","bottom",...pl]);function R4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ic(n))}function C4(t,e){const n=oc(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=T4(l[c]);R4(t,c,f)}}function x4(t){return!!(ln(t)&&t.add)}function Lg(t,e){const n=t.getValue("willChange");if(x4(n))return n.add(e)}function U1(t){return t.props[w1]}const j1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,I4=1e-7,D4=12;function M4(t,e,n,r,a){let l,c,f=0;do c=e+(n-e)/2,l=j1(c,r,a)-t,l>0?n=c:e=c;while(Math.abs(l)>I4&&++f<D4);return c}function Ac(t,e,n,r){if(t===e&&n===r)return Mn;const a=l=>M4(l,0,1,t,n);return l=>l===0||l===1?l:j1(a(l),e,r)}const z1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,B1=t=>e=>1-t(1-e),F1=Ac(.33,1.53,.69,.99),Mv=B1(F1),H1=z1(Mv),q1=t=>(t*=2)<1?.5*Mv(t):.5*(2-Math.pow(2,-10*(t-1))),Vv=t=>1-Math.sin(Math.acos(t)),G1=B1(Vv),K1=z1(Vv),$1=t=>/^0[^.\s]+$/u.test(t);function V4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$1(t):!0}const Fu=t=>Math.round(t*1e5)/1e5,Pv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function P4(t){return t==null}const O4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ov=(t,e)=>n=>!!(typeof n=="string"&&O4.test(n)&&n.startsWith(t)||e&&!P4(n)&&Object.prototype.hasOwnProperty.call(n,e)),Y1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(Pv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},N4=t=>Cr(0,255,t),Gp={...gl,transform:t=>Math.round(N4(t))},Sa={test:Ov("rgb","red"),parse:Y1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Gp.transform(t)+", "+Gp.transform(e)+", "+Gp.transform(n)+", "+Fu(ac.transform(r))+")"};function k4(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Ug={test:Ov("#"),parse:k4,transform:Sa.transform},No={test:Ov("hsl","hue"),parse:Y1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Li.transform(Fu(e))+", "+Li.transform(Fu(n))+", "+Fu(ac.transform(r))+")"},sn={test:t=>Sa.test(t)||Ug.test(t)||No.test(t),parse:t=>Sa.test(t)?Sa.parse(t):No.test(t)?No.parse(t):Ug.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Sa.transform(t):No.transform(t)},L4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Pv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(L4))===null||n===void 0?void 0:n.length)||0)>0}const Q1="number",X1="color",j4="var",z4="var(",Qb="${}",B4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(B4,d=>(sn.test(d)?(r.color.push(l),a.push(X1),n.push(sn.parse(d))):d.startsWith(z4)?(r.var.push(l),a.push(j4),n.push(d)):(r.number.push(l),a.push(Q1),n.push(parseFloat(d))),++l,Qb)).split(Qb);return{values:n,split:f,indexes:r,types:a}}function W1(t){return lc(t).values}function Z1(t){const{split:e,types:n}=lc(t),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===Q1?l+=Fu(a[c]):f===X1?l+=sn.transform(a[c]):l+=a[c]}return l}}const F4=t=>typeof t=="number"?0:t;function H4(t){const e=W1(t);return Z1(t)(e.map(F4))}const Ps={test:U4,parse:W1,createTransformer:Z1,getAnimatableNone:H4},q4=new Set(["brightness","contrast","saturate","opacity"]);function G4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Pv)||[];if(!r)return t;const a=n.replace(r,"");let l=q4.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const K4=/\b([a-z-]*)\(.*?\)/gu,jg={...Ps,getAnimatableNone:t=>{const e=t.match(K4);return e?e.map(G4).join(" "):t}},$4={...wv,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:jg,WebkitFilter:jg},J1=t=>$4[t];function eC(t,e){let n=J1(t);return n!==jg&&(n=Ps),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Y4=new Set(["auto","none","0"]);function Q4(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!Y4.has(l)&&lc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=eC(n,a)}const Aa=t=>t*180/Math.PI,zg=t=>{const e=Aa(Math.atan2(t[1],t[0]));return Bg(e)},X4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zg,rotateZ:zg,skewX:t=>Aa(Math.atan(t[1])),skewY:t=>Aa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Bg=t=>(t=t%360,t<0&&(t+=360),t),Xb=zg,Wb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Zb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),W4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wb,scaleY:Zb,scale:t=>(Wb(t)+Zb(t))/2,rotateX:t=>Bg(Aa(Math.atan2(t[6],t[5]))),rotateY:t=>Bg(Aa(Math.atan2(-t[2],t[0]))),rotateZ:Xb,rotate:Xb,skewX:t=>Aa(Math.atan(t[4])),skewY:t=>Aa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Jb(t){return t.includes("scale")?1:0}function Fg(t,e){if(!t||t==="none")return Jb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=W4,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=X4,a=f}if(!a)return Jb(e);const l=r[e],c=a[1].split(",").map(J4);return typeof l=="function"?l(c):c[l]}const Z4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Fg(n,e)};function J4(t){return parseFloat(t.trim())}const ew=t=>t===gl||t===be,e9=new Set(["x","y","z"]),t9=pl.filter(t=>!e9.has(t));function n9(t){const e=[];return t9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fg(e,"x"),y:(t,{transform:e})=>Fg(e,"y")};tl.translateX=tl.x;tl.translateY=tl.y;const Ra=new Set;let Hg=!1,qg=!1;function tC(){if(qg){const t=Array.from(Ra).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=n9(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))===null||f===void 0||f.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qg=!1,Hg=!1,Ra.forEach(t=>t.complete()),Ra.clear()}function nC(){Ra.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qg=!0)})}function i9(){nC(),tC()}class Nv{constructor(e,n,r,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ra.add(this),Hg||(Hg=!0,rt.read(nC),rt.resolveKeyframes(tC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=a==null?void 0:a.get(),f=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const d=r.readValue(n,f);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=f),a&&c===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ra.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ra.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const iC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),r9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s9(t){const e=r9.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function rC(t,e,n=1){const[r,a]=s9(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return iC(c)?parseFloat(c):c}return bv(a)?rC(a,e,n+1):a}const sC=t=>e=>e.test(t),a9={test:t=>t==="auto",parse:t=>t},aC=[gl,be,Li,ms,i4,n4,a9],tw=t=>aC.find(sC(t));class oC extends Nv{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),bv(p))){const y=rC(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!L1.has(r)||e.length!==2)return;const[a,l]=e,c=tw(a),f=tw(l);if(c!==f)if(ew(c)&&ew(f))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)V4(e[a])&&r.push(a);r.length&&Q4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=a.length-1,f=a[c];a[c]=tl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const nw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ps.test(t)||t==="0")&&!t.startsWith("url("));function o9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function l9(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=nw(a,e),f=nw(l,e);return!c||!f?!1:o9(t)||(n==="spring"||mv(n))&&r}const u9=t=>t!==null;function Sd(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(u9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const c9=40;class lC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ki.now(),this.options={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>c9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&i9(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ki.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:l,delay:c,onComplete:f,onUpdate:d,isGenerator:p}=this.options;if(!p&&!l9(e,r,a,l))if(c)this.options.duration=0;else{d&&d(Sd(e,this.options,n)),f&&f(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ht=(t,e,n)=>t+(e-t)*n;function Kp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function h9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;a=Kp(d,f,t+1/3),l=Kp(d,f,t),c=Kp(d,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Gf(t,e){return n=>n>0?e:t}const $p=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},f9=[Ug,Sa,No],d9=t=>f9.find(e=>e.test(t));function iw(t){const e=d9(t);if(!e)return!1;let n=e.parse(t);return e===No&&(n=h9(n)),n}const rw=(t,e)=>{const n=iw(t),r=iw(e);if(!n||!r)return Gf(t,e);const a={...n};return l=>(a.red=$p(n.red,r.red,l),a.green=$p(n.green,r.green,l),a.blue=$p(n.blue,r.blue,l),a.alpha=ht(n.alpha,r.alpha,l),Sa.transform(a))},m9=(t,e)=>n=>e(t(n)),Rc=(...t)=>t.reduce(m9),Gg=new Set(["none","hidden"]);function p9(t,e){return Gg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function g9(t,e){return n=>ht(t,e,n)}function kv(t){return typeof t=="number"?g9:typeof t=="string"?bv(t)?Gf:sn.test(t)?rw:_9:Array.isArray(t)?uC:typeof t=="object"?sn.test(t)?rw:y9:Gf}function uC(t,e){const n=[...t],r=n.length,a=t.map((l,c)=>kv(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function y9(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=kv(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function v9(t,e){var n;const r=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],f=t.indexes[c][a[c]],d=(n=t.values[f])!==null&&n!==void 0?n:0;r[l]=d,a[c]++}return r}const _9=(t,e)=>{const n=Ps.createTransformer(e),r=lc(t),a=lc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Gg.has(t)&&!a.values.length||Gg.has(e)&&!r.values.length?p9(t,e):Rc(uC(v9(r,a),a.values),n):Gf(t,e)};function cC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):kv(t)(t,e)}const T9=5;function hC(t,e,n){const r=Math.max(e-T9,0);return h1(n-t(r),e-r)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sw=.001;function E9({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:r=vt.mass}){let a,l,c=1-e;c=Cr(vt.minDamping,vt.maxDamping,c),t=Cr(vt.minDuration,vt.maxDuration,Tr(t)),c<1?(a=p=>{const y=p*c,_=y*t,b=y-n,A=Kg(p,c),x=Math.exp(-_);return sw-b/A*x},l=p=>{const _=p*c*t,b=_*n+n,A=Math.pow(c,2)*Math.pow(p,2)*t,x=Math.exp(-_),O=Kg(Math.pow(p,2),c);return(-a(p)+sw>0?-1:1)*((b-A)*x)/O}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,d=w9(a,l,f);if(t=_r(t),isNaN(d))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const b9=12;function w9(t,e,n){let r=n;for(let a=1;a<b9;a++)r=r-t(r)/e(r);return r}function Kg(t,e){return t*Math.sqrt(1-e*e)}const S9=["duration","bounce"],A9=["stiffness","damping","mass"];function aw(t,e){return e.some(n=>t[n]!==void 0)}function R9(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!aw(t,A9)&&aw(t,S9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Cr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=E9(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function fC(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:A}=R9({...n,velocity:-Tr(n.velocity||0)}),x=b||0,O=p/(2*Math.sqrt(d*y)),P=c-l,k=Tr(Math.sqrt(d/y)),Y=Math.abs(P)<5;r||(r=Y?vt.restSpeed.granular:vt.restSpeed.default),a||(a=Y?vt.restDelta.granular:vt.restDelta.default);let K;if(O<1){const W=Kg(k,O);K=B=>{const D=Math.exp(-O*k*B);return c-D*((x+O*k*P)/W*Math.sin(W*B)+P*Math.cos(W*B))}}else if(O===1)K=W=>c-Math.exp(-k*W)*(P+(x+k*P)*W);else{const W=k*Math.sqrt(O*O-1);K=B=>{const D=Math.exp(-O*k*B),R=Math.min(W*B,300);return c-D*((x+O*k*P)*Math.sinh(R)+W*P*Math.cosh(R))/W}}const ee={calculatedDuration:A&&_||null,next:W=>{const B=K(W);if(A)f.done=W>=_;else{let D=0;O<1&&(D=W===0?_r(x):hC(K,W,B));const R=Math.abs(D)<=r,C=Math.abs(c-B)<=a;f.done=R&&C}return f.value=f.done?c:B,f},toString:()=>{const W=Math.min(f1(ee),Og),B=d1(D=>ee.next(W*D).value,W,30);return W+"ms "+B}};return ee}function ow({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:d,restDelta:p=.5,restSpeed:y}){const _=t[0],b={done:!1,value:_},A=R=>f!==void 0&&R<f||d!==void 0&&R>d,x=R=>f===void 0?d:d===void 0||Math.abs(f-R)<Math.abs(d-R)?f:d;let O=n*e;const P=_+O,k=c===void 0?P:c(P);k!==P&&(O=k-_);const Y=R=>-O*Math.exp(-R/r),K=R=>k+Y(R),ee=R=>{const C=Y(R),I=K(R);b.done=Math.abs(C)<=p,b.value=b.done?k:I};let W,B;const D=R=>{A(b.value)&&(W=R,B=fC({keyframes:[b.value,x(b.value)],velocity:hC(K,R,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return D(0),{calculatedDuration:null,next:R=>{let C=!1;return!B&&W===void 0&&(C=!0,ee(R),D(R)),W!==void 0&&R>=W?B.next(R-W):(!C&&ee(R),b)}}}const C9=Ac(.42,0,1,1),x9=Ac(0,0,.58,1),dC=Ac(.42,0,.58,1),I9=t=>Array.isArray(t)&&typeof t[0]!="number",D9={linear:Mn,easeIn:C9,easeInOut:dC,easeOut:x9,circIn:Vv,circInOut:K1,circOut:G1,backIn:Mv,backInOut:H1,backOut:F1,anticipate:q1},lw=t=>{if(pv(t)){c1(t.length===4);const[e,n,r,a]=t;return Ac(e,n,r,a)}else if(typeof t=="string")return D9[t];return t};function M9(t,e,n){const r=[],a=n||cC,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||Mn:e;f=Rc(d,f)}r.push(f)}return r}function V9(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(c1(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=M9(e,r,a),d=f.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const b=Jo(t[_],t[_+1],y);return f[_](b)};return n?y=>p(Cr(t[0],t[l-1],y)):p}function P9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Jo(0,e,r);t.push(ht(n,1,a))}}function O9(t){const e=[0];return P9(e,t.length-1),e}function N9(t,e){return t.map(n=>n*e)}function k9(t,e){return t.map(()=>e||dC).splice(0,t.length-1)}function Kf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=I9(r)?r.map(lw):lw(r),l={done:!1,value:e[0]},c=N9(n&&n.length===e.length?n:O9(e),t),f=V9(c,e,{ease:Array.isArray(a)?a:k9(e,a)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const L9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>rt.update(e,!0),stop:()=>Vs(e),now:()=>Xt.isProcessing?Xt.timestamp:ki.now()}},U9={decay:ow,inertia:ow,tween:Kf,keyframes:Kf,spring:fC},j9=t=>t/100;class Lv extends lC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||Nv,f=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new c(l,f,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,f=mv(n)?n:U9[n]||Kf;let d,p;f!==Kf&&typeof e[0]!="number"&&(d=Rc(j9,cC(e[0],e[1])),e=[0,100]);const y=f({...this.options,keyframes:e});l==="mirror"&&(p=f({...this.options,keyframes:[...e].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=f1(y));const{calculatedDuration:_}=y,b=_+a,A=b*(r+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:_,resolvedDuration:b,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:d,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=r;if(this.startTime===null)return l.next(0);const{delay:b,repeat:A,repeatType:x,repeatDelay:O,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const k=this.currentTime-b*(this.speed>=0?1:-1),Y=this.speed>=0?k<0:k>y;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let K=this.currentTime,ee=l;if(A){const R=Math.min(this.currentTime,y)/_;let C=Math.floor(R),I=R%1;!I&&R>=1&&(I=1),I===1&&C--,C=Math.min(C,A+1),!!(C%2)&&(x==="reverse"?(I=1-I,O&&(I-=O/_)):x==="mirror"&&(ee=c)),K=Cr(0,1,I)*_}const W=Y?{done:!1,value:d[0]}:ee.next(K);f&&(W.value=f(W.value));let{done:B}=W;!Y&&p!==null&&(B=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return D&&a!==void 0&&(W.value=Sd(d,this.options,a)),P&&P(W.value),D&&this.finish(),W}get duration(){const{resolved:e}=this;return e?Tr(e.calculatedDuration):0}get time(){return Tr(this.currentTime)}set time(e){e=_r(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Tr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=L9,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const z9=new Set(["opacity","clipPath","filter","transform"]);function B9(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:d}={}){const p={[e]:n};d&&(p.offset=d);const y=p1(f,a);return Array.isArray(y)&&(p.easing=y),t.animate(p,{delay:r,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const F9=hv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$f=10,H9=2e4;function q9(t){return mv(t.type)||t.type==="spring"||!m1(t.ease)}function G9(t,e){const n=new Lv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const a=[];let l=0;for(;!r.done&&l<H9;)r=n.sample(l),a.push(r.value),l+=$f;return{times:void 0,keyframes:a,duration:l-$f,ease:"linear"}}const mC={anticipate:q1,backInOut:H1,circInOut:K1};function K9(t){return t in mC}class uw extends lC{constructor(e){super(e);const{name:n,motionValue:r,element:a,keyframes:l}=this.options;this.resolver=new oC(l,(c,f)=>this.onKeyframesResolved(c,f),n,r,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:a,ease:l,type:c,motionValue:f,name:d,startTime:p}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&Hf()&&K9(l)&&(l=mC[l]),q9(this.options)){const{onComplete:_,onUpdate:b,motionValue:A,element:x,...O}=this.options,P=G9(e,O);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,a=P.times,l=P.ease,c="keyframes"}const y=B9(f.owner.current,d,e,{...this.options,duration:r,times:a,ease:l});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(Nb(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;f.set(Sd(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Tr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Tr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=_r(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Mn;const{animation:r}=n;Nb(r,e)}return Mn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:a,type:l,ease:c,times:f}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:b,...A}=this.options,x=new Lv({...A,keyframes:r,duration:a,type:l,ease:c,times:f,isGenerator:!0}),O=_r(this.time);p.setWithVelocity(x.sample(O-$f).value,x.sample(O).value,$f)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:a,repeatType:l,damping:c,type:f}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return F9()&&r&&z9.has(r)&&!d&&!p&&!a&&l!=="mirror"&&c!==0&&f!=="inertia"}}const $9={type:"spring",stiffness:500,damping:25,restSpeed:10},Y9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Q9={type:"keyframes",duration:.8},X9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W9=(t,{keyframes:e})=>e.length>2?Q9:La.has(t)?t.startsWith("scale")?Y9(e[1]):$9:X9;function Z9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Uv=(t,e,n,r={},a,l)=>c=>{const f=dv(r,t)||{},d=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-_r(d);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};Z9(f)||(y={...y,...W9(t,y)}),y.duration&&(y.duration=_r(y.duration)),y.repeatDelay&&(y.repeatDelay=_r(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const b=Sd(y.keyframes,f);if(b!==void 0)return rt.update(()=>{y.onUpdate(b),y.onComplete()}),new EU([])}return!l&&uw.supports(y)?new uw(y):new Lv(y)};function J9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pC(t,e,{delay:n=0,transitionOverride:r,type:a}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:f,...d}=e;r&&(c=r);const p=[],y=a&&t.animationState&&t.animationState.getState()[a];for(const _ in d){const b=t.getValue(_,(l=t.latestValues[_])!==null&&l!==void 0?l:null),A=d[_];if(A===void 0||y&&J9(y,_))continue;const x={delay:n,...dv(c||{},_)};let O=!1;if(window.MotionHandoffAnimation){const k=U1(t);if(k){const Y=window.MotionHandoffAnimation(k,_,rt);Y!==null&&(x.startTime=Y,O=!0)}}Lg(t,_),b.start(Uv(_,b,A,t.shouldReduceMotion&&L1.has(_)?{type:!1}:x,t,O));const P=b.animation;P&&p.push(P)}return f&&Promise.all(p).then(()=>{rt.update(()=>{f&&C4(t,f)})}),p}function $g(t,e,n={}){var r;const a=oc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const c=a?()=>Promise.all(pC(t,a,n)):()=>Promise.resolve(),f=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:b}=l;return ej(t,e,y+p,_,b,n)}:()=>Promise.resolve(),{when:d}=l;if(d){const[p,y]=d==="beforeChildren"?[c,f]:[f,c];return p().then(()=>y())}else return Promise.all([c(),f(n.delay)])}function ej(t,e,n=0,r=0,a=1,l){const c=[],f=(t.variantChildren.size-1)*r,d=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(t.variantChildren).sort(tj).forEach((p,y)=>{p.notify("AnimationStart",e),c.push($g(p,e,{...l,delay:n+d(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function tj(t,e){return t.sortNodePosition(e)}function nj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>$g(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=$g(t,e,n);else{const a=typeof e=="function"?oc(t,e,n.custom):e;r=Promise.all(pC(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function gC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ij=_v.length;function yC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ij;n++){const r=_v[n],a=t.props[r];(rc(a)||a===!1)&&(e[r]=a)}return e}const rj=[...vv].reverse(),sj=vv.length;function aj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nj(t,n,r)))}function oj(t){let e=aj(t),n=cw(),r=!0;const a=d=>(p,y)=>{var _;const b=oc(t,y,d==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(b){const{transition:A,transitionEnd:x,...O}=b;p={...p,...O,...x}}return p};function l(d){e=d(t)}function c(d){const{props:p}=t,y=yC(t.parent)||{},_=[],b=new Set;let A={},x=1/0;for(let P=0;P<sj;P++){const k=rj[P],Y=n[k],K=p[k]!==void 0?p[k]:y[k],ee=rc(K),W=k===d?Y.isActive:null;W===!1&&(x=P);let B=K===y[k]&&K!==p[k]&&ee;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),Y.protectedKeys={...A},!Y.isActive&&W===null||!K&&!Y.prevProp||bd(K)||typeof K=="boolean")continue;const D=lj(Y.prevProp,K);let R=D||k===d&&Y.isActive&&!B&&ee||P>x&&ee,C=!1;const I=Array.isArray(K)?K:[K];let U=I.reduce(a(k),{});W===!1&&(U={});const{prevResolvedValues:F={}}=Y,V={...F,...U},ze=he=>{R=!0,b.has(he)&&(C=!0,b.delete(he)),Y.needsAnimating[he]=!0;const le=t.getValue(he);le&&(le.liveStyle=!1)};for(const he in V){const le=U[he],Se=F[he];if(A.hasOwnProperty(he))continue;let L=!1;kg(le)&&kg(Se)?L=!gC(le,Se):L=le!==Se,L?le!=null?ze(he):b.add(he):le!==void 0&&b.has(he)?ze(he):Y.protectedKeys[he]=!0}Y.prevProp=K,Y.prevResolvedValues=U,Y.isActive&&(A={...A,...U}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(B&&D)||C)&&_.push(...I.map(he=>({animation:he,options:{type:k}})))}if(b.size){const P={};if(typeof p.initial!="boolean"){const k=oc(t,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(P.transition=k.transition)}b.forEach(k=>{const Y=t.getBaseTarget(k),K=t.getValue(k);K&&(K.liveStyle=!0),P[k]=Y??null}),_.push({animation:P})}let O=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(O=!1),r=!1,O?e(_):Promise.resolve()}function f(d,p){var y;if(n[d].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(b=>{var A;return(A=b.animationState)===null||A===void 0?void 0:A.setActive(d,p)}),n[d].isActive=p;const _=c(d);for(const b in n)n[b].protectedKeys={};return _}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=cw(),r=!0}}}function lj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gC(e,t):!1}function _a(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cw(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class Us{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uj extends Us{constructor(e){super(e),e.animationState||(e.animationState=oj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let cj=0;class hj extends Us{constructor(){super(...arguments),this.id=cj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const fj={animation:{Feature:uj},exit:{Feature:hj}};function uc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Cc(t){return{point:{x:t.pageX,y:t.pageY}}}const dj=t=>e=>yv(e)&&t(e,Cc(e));function Hu(t,e,n,r){return uc(t,e,dj(n),r)}function vC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const _C=1e-4,gj=1-_C,yj=1+_C,TC=.01,vj=0-TC,_j=0+TC;function gn(t){return t.max-t.min}function Tj(t,e,n){return Math.abs(t-e)<=n}function hw(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=gn(n)/gn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gj&&t.scale<=yj||isNaN(t.scale))&&(t.scale=1),(t.translate>=vj&&t.translate<=_j||isNaN(t.translate))&&(t.translate=0)}function qu(t,e,n,r){hw(t.x,e.x,n.x,r?r.originX:void 0),hw(t.y,e.y,n.y,r?r.originY:void 0)}function fw(t,e,n){t.min=n.min+e.min,t.max=t.min+gn(e)}function Ej(t,e,n){fw(t.x,e.x,n.x),fw(t.y,e.y,n.y)}function dw(t,e,n){t.min=e.min-n.min,t.max=t.min+gn(e)}function Gu(t,e,n){dw(t.x,e.x,n.x),dw(t.y,e.y,n.y)}const mw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:mw(),y:mw()}),pw=()=>({min:0,max:0}),bt=()=>({x:pw(),y:pw()});function Xn(t){return[t("x"),t("y")]}function Yp(t){return t===void 0||t===1}function Yg({scale:t,scaleX:e,scaleY:n}){return!Yp(t)||!Yp(e)||!Yp(n)}function Ea(t){return Yg(t)||EC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function EC(t){return gw(t.x)||gw(t.y)}function gw(t){return t&&t!=="0%"}function Yf(t,e,n){const r=t-n,a=e*r;return n+a}function yw(t,e,n,r,a){return a!==void 0&&(t=Yf(t,a,r)),Yf(t,n,r)+e}function Qg(t,e=0,n=1,r,a){t.min=yw(t.min,e,n,r,a),t.max=yw(t.max,e,n,r,a)}function bC(t,{x:e,y:n}){Qg(t.x,e.translate,e.scale,e.originPoint),Qg(t.y,n.translate,n.scale,n.originPoint)}const vw=.999999999999,_w=1.0000000000001;function bj(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Uo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,bC(t,c)),r&&Ea(l.latestValues)&&Uo(t,l.latestValues))}e.x<_w&&e.x>vw&&(e.x=1),e.y<_w&&e.y>vw&&(e.y=1)}function Lo(t,e){t.min=t.min+e,t.max=t.max+e}function Tw(t,e,n,r,a=.5){const l=ht(t.min,t.max,a);Qg(t,e,n,l,r)}function Uo(t,e){Tw(t.x,e.x,e.scaleX,e.scale,e.originX),Tw(t.y,e.y,e.scaleY,e.scale,e.originY)}function wC(t,e){return vC(pj(t.getBoundingClientRect(),e))}function wj(t,e,n){const r=wC(t,n),{scroll:a}=e;return a&&(Lo(r.x,a.offset.x),Lo(r.y,a.offset.y)),r}const SC=({current:t})=>t?t.ownerDocument.defaultView:null,Ew=(t,e)=>Math.abs(t-e);function Sj(t,e){const n=Ew(t.x,e.x),r=Ew(t.y,e.y);return Math.sqrt(n**2+r**2)}class AC{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Xp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,A=Sj(_.offset,{x:0,y:0})>=3;if(!b&&!A)return;const{point:x}=_,{timestamp:O}=Xt;this.history.push({...x,timestamp:O});const{onStart:P,onMove:k}=this.handlers;b||(P&&P(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Qp(b,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:A,onSessionEnd:x,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Xp(_.type==="pointercancel"?this.lastMoveEventInfo:Qp(b,this.transformPagePoint),this.history);this.startEvent&&A&&A(_,P),x&&x(_,P)},!yv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=Cc(e),f=Qp(c,this.transformPagePoint),{point:d}=f,{timestamp:p}=Xt;this.history=[{...d,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,Xp(f,this.history)),this.removeListeners=Rc(Hu(this.contextWindow,"pointermove",this.handlePointerMove),Hu(this.contextWindow,"pointerup",this.handlePointerUp),Hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vs(this.updatePoint)}}function Qp(t,e){return e?{point:e(t.point)}:t}function bw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xp({point:t},e){return{point:t,delta:bw(t,RC(e)),offset:bw(t,Aj(e)),velocity:Rj(e,.1)}}function Aj(t){return t[0]}function RC(t){return t[t.length-1]}function Rj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=RC(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>_r(e)));)n--;if(!r)return{x:0,y:0};const l=Tr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Cj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function ww(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function xj(t,{top:e,left:n,bottom:r,right:a}){return{x:ww(t.x,n,a),y:ww(t.y,e,r)}}function Sw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Ij(t,e){return{x:Sw(t.x,e.x),y:Sw(t.y,e.y)}}function Dj(t,e){let n=.5;const r=gn(t),a=gn(e);return a>r?n=Jo(e.min,e.max-r,t.min):r>a&&(n=Jo(t.min,t.max-a,e.min)),Cr(0,1,n)}function Mj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xg=.35;function Vj(t=Xg){return t===!1?t=0:t===!0&&(t=Xg),{x:Aw(t,"left","right"),y:Aw(t,"top","bottom")}}function Aw(t,e,n){return{min:Rw(t,e),max:Rw(t,n)}}function Rw(t,e){return typeof t=="number"?t:t[e]||0}const Pj=new WeakMap;class Oj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cc(y).point)},l=(y,_)=>{const{drag:b,dragPropagation:A,onDragStart:x}=this.getProps();if(b&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CU(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(P=>{let k=this.getAxisMotionValue(P).get()||0;if(Li.test(k)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const K=Y.layout.layoutBox[P];K&&(k=gn(K)*(parseFloat(k)/100))}}this.originPoint[P]=k}),x&&rt.postRender(()=>x(y,_)),Lg(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:b,dragDirectionLock:A,onDirectionLock:x,onDrag:O}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:P}=_;if(A&&this.currentDirection===null){this.currentDirection=Nj(P),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",_.point,P),this.updateAxis("y",_.point,P),this.visualElement.render(),O&&O(y,_)},f=(y,_)=>this.stop(y,_),d=()=>Xn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new AC(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:SC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&rt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!of(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Cj(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Oo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=xj(a.layoutBox,n):this.constraints=!1,this.elastic=Vj(r),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Xn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Mj(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Oo(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=wj(r,a.root,this.visualElement.getTransformPagePoint());let c=Ij(a.layout.layoutBox,l);if(n){const f=n(mj(c));this.hasMutatedConstraints=!!f,f&&(c=vC(f))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=Xn(y=>{if(!of(y,n,this.currentDirection))return;let _=d&&d[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,A=a?40:1e7,x={type:"inertia",velocity:r?e[y]:0,bounceStiffness:b,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,x)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Lg(this.visualElement,e),r.start(Uv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xn(n=>{const{drag:r}=this.getProps();if(!of(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-ht(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Oo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const d=f.get();a[c]=Dj({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xn(c=>{if(!of(c,e,null))return;const f=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];f.set(ht(d,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;Pj.set(this.visualElement,this);const e=this.visualElement.current,n=Hu(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Oo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),rt.read(r);const c=uc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=d[y].translate,_.set(_.get()+d[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Xg,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function of(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Nj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kj extends Us{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new Oj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cw=t=>(e,n)=>{t&&rt.postRender(()=>t(e,n))};class Lj extends Us{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new AC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Cw(e),onStart:Cw(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&rt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ru={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=xw(t,e.target.x),r=xw(t,e.target.y);return`${n}% ${r}%`}},Uj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Ps.parse(t);if(a.length>5)return r;const l=Ps.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=d;const p=ht(f,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class jj extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;t4(zj),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||rt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CC(t){const[e,n]=u1(),r=N.useContext(sv);return q.jsx(jj,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(S1),isPresent:e,safeToRemove:n})}const zj={borderRadius:{...Ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ru,borderTopRightRadius:Ru,borderBottomLeftRadius:Ru,borderBottomRightRadius:Ru,boxShadow:Uj};function Bj(t,e,n){const r=ln(t)?t:ic(t);return r.start(Uv("",r,e,n)),r.animation}function Fj(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Hj=(t,e)=>t.depth-e.depth;class qj{constructor(){this.children=[],this.isDirty=!1}add(e){uv(this.children,e),this.isDirty=!0}remove(e){cv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Hj),this.isDirty=!1,this.children.forEach(e)}}function Gj(t,e){const n=ki.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Vs(r),t(l-e))};return rt.read(r,!0),()=>Vs(r)}const xC=["TopLeft","TopRight","BottomLeft","BottomRight"],Kj=xC.length,Iw=t=>typeof t=="string"?parseFloat(t):t,Dw=t=>typeof t=="number"||be.test(t);function $j(t,e,n,r,a,l){a?(t.opacity=ht(0,n.opacity!==void 0?n.opacity:1,Yj(r)),t.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,Qj(r))):l&&(t.opacity=ht(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<Kj;c++){const f=`border${xC[c]}Radius`;let d=Mw(e,f),p=Mw(n,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Dw(d)===Dw(p)?(t[f]=Math.max(ht(Iw(d),Iw(p),r),0),(Li.test(p)||Li.test(d))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function Mw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Yj=IC(0,.5,G1),Qj=IC(.5,.95,Mn);function IC(t,e,n){return r=>r<t?0:r>e?1:n(Jo(t,e,r))}function Vw(t,e){t.min=e.min,t.max=e.max}function Qn(t,e){Vw(t.x,e.x),Vw(t.y,e.y)}function Pw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ow(t,e,n,r,a){return t-=e,t=Yf(t,1/n,r),a!==void 0&&(t=Yf(t,1/a,r)),t}function Xj(t,e=0,n=1,r=.5,a,l=t,c=t){if(Li.test(e)&&(e=parseFloat(e),e=ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ht(l.min,l.max,r);t===l&&(f-=e),t.min=Ow(t.min,e,n,f,a),t.max=Ow(t.max,e,n,f,a)}function Nw(t,e,[n,r,a],l,c){Xj(t,e[n],e[r],e[a],e.scale,l,c)}const Wj=["x","scaleX","originX"],Zj=["y","scaleY","originY"];function kw(t,e,n,r){Nw(t.x,e,Wj,n?n.x:void 0,r?r.x:void 0),Nw(t.y,e,Zj,n?n.y:void 0,r?r.y:void 0)}function Lw(t){return t.translate===0&&t.scale===1}function DC(t){return Lw(t.x)&&Lw(t.y)}function Uw(t,e){return t.min===e.min&&t.max===e.max}function Jj(t,e){return Uw(t.x,e.x)&&Uw(t.y,e.y)}function jw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MC(t,e){return jw(t.x,e.x)&&jw(t.y,e.y)}function zw(t){return gn(t.x)/gn(t.y)}function Bw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class e6{constructor(){this.members=[]}add(e){uv(this.members,e),e.scheduleRender()}remove(e){if(cv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t6(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:A,skewY:x}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),A&&(r+=`skewX(${A}deg) `),x&&(r+=`skewY(${x}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(r+=`scale(${f}, ${d})`),r||"none"}const Wp=["","X","Y","Z"],n6={visibility:"hidden"},Fw=1e3;let i6=0;function Zp(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function VC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=U1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&VC(r)}function PC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=i6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(a6),this.nodes.forEach(h6),this.nodes.forEach(f6),this.nodes.forEach(o6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new qj)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new fv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const d=this.eventHandlers.get(c);d&&d.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Fj(c),this.instance=c;const{layoutId:d,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||d)&&(this.isLayoutDirty=!0),t){let _;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=Gj(b,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(qw))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:b,hasRelativeLayoutChanged:A,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||y.getDefaultTransition()||y6,{onLayoutAnimationStart:P,onLayoutAnimationComplete:k}=y.getProps(),Y=!this.targetLayout||!MC(this.targetLayout,x),K=!b&&A;if(this.options.layoutRoot||this.resumeFrom||K||b&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,K);const ee={...dv(O,"layout"),onPlay:P,onComplete:k};(y.shouldReduceMotion||this.options.layoutRoot)&&(ee.delay=0,ee.type=!1),this.startAnimation(ee)}else b||qw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hw);return}this.isUpdating||this.nodes.forEach(u6),this.isUpdating=!1,this.nodes.forEach(c6),this.nodes.forEach(r6),this.nodes.forEach(s6),this.clearAllSnapshots();const f=ki.now();Xt.delta=Cr(0,1e3/60,f-Xt.timestamp),Xt.timestamp=f,Xt.isProcessing=!0,Hp.update.process(Xt),Hp.preRender.process(Xt),Hp.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l6),this.sharedNodes.forEach(m6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!DC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(f||Ea(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return c&&(d=this.removeTransform(d)),v6(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:f}=this.options;if(!f)return bt();const d=f.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(_6))){const{scroll:y}=this.root;y&&(Lo(d.x,y.offset.x),Lo(d.y,y.offset.y))}return d}removeElementScroll(c){var f;const d=bt();if(Qn(d,c),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:b}=y;y!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&Qn(d,c),Lo(d.x,_.offset.x),Lo(d.y,_.offset.y))}return d}applyTransform(c,f=!1){const d=bt();Qn(d,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Uo(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ea(y.latestValues)&&Uo(d,y.latestValues)}return Ea(this.latestValues)&&Uo(d,this.latestValues),d}removeTransform(c){const f=bt();Qn(f,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ea(p.latestValues))continue;Yg(p.latestValues)&&p.updateSnapshot();const y=bt(),_=p.measurePageBox();Qn(y,_),kw(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ea(this.latestValues)&&kw(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:b}=this.options;if(!(!this.layout||!(_||b))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Gu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ej(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),bC(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Gu(this.relativeTargetOrigin,this.target,A.target),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Yg(this.parent.latestValues)||EC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),d=!!this.resumingFrom||this!==f;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||_))return;Qn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,A=this.treeScale.y;bj(this.layoutCorrected,this.treeScale,this.path,d),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=bt());const{target:x}=f;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pw(this.prevProjectionDelta.x,this.projectionDelta.x),Pw(this.prevProjectionDelta.y,this.projectionDelta.y)),qu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==A||!Bw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Bw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(c,f=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},_=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=bt(),A=d?d.source:void 0,x=this.layout?this.layout.source:void 0,O=A!==x,P=this.getStack(),k=!P||P.members.length<=1,Y=!!(O&&!k&&this.options.crossfade===!0&&!this.path.some(g6));this.animationProgress=0;let K;this.mixTargetDelta=ee=>{const W=ee/1e3;Gw(_.x,c.x,W),Gw(_.y,c.y,W),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p6(this.relativeTarget,this.relativeTargetOrigin,b,W),K&&Jj(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=bt()),Qn(K,this.relativeTarget)),O&&(this.animationValues=y,$j(y,p,this.latestValues,W,Y,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{bf.hasAnimatedSinceResize=!0,this.currentAnimation=Bj(0,Fw,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:y}=c;if(!(!f||!d||!p)){if(this!==c&&this.layout&&p&&OC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||bt();const _=gn(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+_;const b=gn(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+b}Qn(f,d),Uo(f,y),qu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new e6),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const p={};d.z&&Zp("z",c,p,this.animationValues);for(let y=0;y<Wp.length;y++)Zp(`rotate${Wp[y]}`,c,p,this.animationValues),Zp(`skew${Wp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){var f,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return n6;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Ef(c==null?void 0:c.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=Ef(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(O.transform=y?y({},""):"none",this.hasProjected=!1),O}const b=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=t6(this.projectionDeltaWithTransform,this.treeScale,b),y&&(p.transform=y(b,p.transform));const{x:A,y:x}=this.projectionDelta;p.transformOrigin=`${A.origin*100}% ${x.origin*100}% 0`,_.animationValues?p.opacity=_===this?(d=(f=b.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:p.opacity=_===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const O in sc){if(b[O]===void 0)continue;const{correct:P,applyTo:k,isCSSVariable:Y}=sc[O],K=p.transform==="none"?b[O]:P(b[O],_);if(k){const ee=k.length;for(let W=0;W<ee;W++)p[k[W]]=K}else Y?this.options.visualElement.renderState.vars[O]=K:p[O]=K}return this.options.layoutId&&(p.pointerEvents=_===this?Ef(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(Hw),this.root.sharedNodes.clear()}}}function r6(t){t.updateLayout()}function s6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?Xn(_=>{const b=c?n.measuredBox[_]:n.layoutBox[_],A=gn(b);b.min=r[_].min,b.max=b.min+A}):OC(l,n.layoutBox,r)&&Xn(_=>{const b=c?n.measuredBox[_]:n.layoutBox[_],A=gn(r[_]);b.max=b.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+A)});const f=ko();qu(f,r,n.layoutBox);const d=ko();c?qu(d,t.applyTransform(a,!0),n.measuredBox):qu(d,r,n.layoutBox);const p=!DC(f);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:A}=_;if(b&&A){const x=bt();Gu(x,n.layoutBox,b.layoutBox);const O=bt();Gu(O,r,A.layoutBox),MC(x,O)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=O,t.relativeTargetOrigin=x,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function a6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function o6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function l6(t){t.clearSnapshot()}function Hw(t){t.clearMeasurements()}function u6(t){t.isLayoutDirty=!1}function c6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function h6(t){t.resolveTargetDelta()}function f6(t){t.calcProjection()}function d6(t){t.resetSkewAndRotation()}function m6(t){t.removeLeadSnapshot()}function Gw(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Kw(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function p6(t,e,n,r){Kw(t.x,e.x,n.x,r),Kw(t.y,e.y,n.y,r)}function g6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const y6={duration:.45,ease:[.4,0,.1,1]},$w=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Yw=$w("applewebkit/")&&!$w("chrome/")?Math.round:Mn;function Qw(t){t.min=Yw(t.min),t.max=Yw(t.max)}function v6(t){Qw(t.x),Qw(t.y)}function OC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Tj(zw(e),zw(n),.2)}function _6(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const T6=PC({attachResizeListener:(t,e)=>uc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jp={current:void 0},NC=PC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jp.current){const t=new T6({});t.mount(window),t.setOptions({layoutScroll:!0}),Jp.current=t}return Jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E6={pan:{Feature:Lj},drag:{Feature:kj,ProjectionNode:NC,MeasureLayout:CC}};function Xw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&rt.postRender(()=>l(e,Cc(e)))}class b6 extends Us{mount(){const{current:e}=this.node;e&&(this.unmount=IU(e,(n,r)=>(Xw(this.node,r,"Start"),a=>Xw(this.node,a,"End"))))}unmount(){}}class w6 extends Us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rc(uc(this.node.current,"focus",()=>this.onFocus()),uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ww(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&rt.postRender(()=>l(e,Cc(e)))}class S6 extends Us{mount(){const{current:e}=this.node;e&&(this.unmount=PU(e,(n,r)=>(Ww(this.node,r,"Start"),(a,{success:l})=>Ww(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wg=new WeakMap,eg=new WeakMap,A6=t=>{const e=Wg.get(t.target);e&&e(t)},R6=t=>{t.forEach(A6)};function C6({root:t,...e}){const n=t||document;eg.has(n)||eg.set(n,{});const r=eg.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(R6,{root:t,...e})),r[a]}function x6(t,e,n){const r=C6(e);return Wg.set(t,n),r.observe(t),()=>{Wg.delete(t),r.unobserve(t)}}const I6={some:0,all:1};class D6 extends Us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:I6[a]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(d)};return x6(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(M6(e,n))&&this.startObserver()}unmount(){}}function M6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const V6={inView:{Feature:D6},tap:{Feature:S6},focus:{Feature:w6},hover:{Feature:b6}},P6={layout:{ProjectionNode:NC,MeasureLayout:CC}},Zg={current:null},kC={current:!1};function O6(){if(kC.current=!0,!!ov)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zg.current=t.matches;t.addListener(e),e()}else Zg.current=!1}const N6=[...aC,sn,Ps],k6=t=>N6.find(sC(t)),L6=new WeakMap;function U6(t,e,n){for(const r in e){const a=e[r],l=n[r];if(ln(a))t.addValue(r,a);else if(ln(l))t.addValue(r,ic(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,ic(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Zw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=ki.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,rt.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:y}=c;this.onUpdate=y,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=wd(n),this.isVariantNode=b1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in b){const x=b[A];d[A]!==void 0&&ln(x)&&x.set(d[A],!1)}}mount(e){this.current=e,L6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kC.current||O6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vs(this.notifyUpdate),Vs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=La.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in el){const n=el[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Zw.length;r++){const a=Zw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=U6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ic(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(iC(a)||$1(a))?a=parseFloat(a):!k6(a)&&Ps.test(n)&&(a=eC(e,n)),this.setBaseTarget(e,ln(a)?a.get():a)),ln(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const c=Iv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(a=c[e])}if(r&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!ln(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LC extends j6{constructor(){super(...arguments),this.KeyframeResolver=oC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function z6(t){return window.getComputedStyle(t)}class B6 extends LC{constructor(){super(...arguments),this.type="html",this.renderInstance=P1}readValueFromInstance(e,n){if(La.has(n))return Z4(e,n);{const r=z6(e),a=(Ev(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wC(e,n)}build(e,n,r){Sv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Dv(e,n,r)}}class F6 extends LC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&V1(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(La.has(n)){const r=J1(n);return r&&r.default||0}return n=O1.has(n)?n:Tv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return k1(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&rt.postRender(this.updateDimensions)}build(e,n,r){Cv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,a){N1(e,n,r,a)}mount(e){this.isSVGTag=xv(e.tagName),super.mount(e)}}const H6=(t,e)=>Rv(t)?new F6(e):new B6(e,{allowProjection:t!==N.Fragment}),q6=A4({...fj,...V6,...E6,...P6},H6),UC=BU(q6);function Jw(t){const e=N.useRef(null);return N.useEffect(()=>{if(!t.isOpen)return;const n=r=>{e.current&&!e.current.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t.isOpen,t.onClose]),t.isOpen?q.jsx(yU,{children:q.jsx(UC.div,{className:"fixed inset-0 flex flex-col justify-center items-center bg-violet-800/20 backdrop-blur-[2px] z-50",role:"dialog","aria-modal":"true",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:q.jsxs("div",{ref:e,className:"bg-violet-100 p-6 rounded flex flex-col gap-2 min-w-96",children:[q.jsxs("div",{className:"flex gap-8 justify-end items-end",children:[t.title&&q.jsx("h3",{className:"text-lg font-semibold pr-8",children:t.title}),q.jsx(Wn,{placeholder:q.jsx(fU,{className:"size-4"}),variant:"secondary",click:t.onClose})]}),q.jsxs("div",{className:"flex flex-col gap-4",children:[t.description&&q.jsx("p",{className:"text-sm whitespace-pre-line leading-6",children:t.description}),t.children]})]})})}):null}const tg=()=>{var Y,K,ee,W;const[t,e]=N.useState([]),[n,r]=N.useState(!0),[a,l]=N.useState(null),[c,f]=N.useState(null),[d,p]=N.useState(null),[y,_]=N.useState(!1),[b,A]=N.useState(null),x=async()=>{r(!0);const D=mA().currentUser;if(D)try{const R=_s(Vi,"users",D.uid),C=await nv(R);C.exists()&&A(C.data());const I=qR(xg(Vi,"missions"),Vu("assignedTo","array-contains",D.uid)),F=(await Dg(I)).docs.map(te=>({id:te.id,...te.data()})),V=new Date,ze=F.map(async te=>{if(te.status==="pendente"&&te.dueDate.toDate()<V){const he=_s(Vi,"missions",te.id);return await Db(he,{status:"expirada"}),{...te,status:"expirada"}}return te}),Qe=await Promise.all(ze);e(Qe)}catch(R){console.error("Erro ao buscar misses:",R)}r(!1)};N.useEffect(()=>{x()},[]);const O=async()=>{if(c){l(c);try{const B=_s(Vi,"missions",c);await Db(B,{status:"concluda"}),e(D=>D.map(R=>R.id===c?{...R,status:"concluda"}:R))}catch(B){console.error("Erro ao completar a misso:",B)}finally{setTimeout(()=>{l(null),f(null)},2e3)}}},P=async B=>{if(d){l(d);try{const D=_s(Vi,"missions",B);await Wk(D),alert("Misso excluda com sucesso!"),x()}catch(D){console.error("Erro ao apagar misso:",D),alert("Erro ao excluir misso. Tente novamente.")}finally{setTimeout(()=>{l(null),p(null)},2e3)}}};if(n)return q.jsx("p",{children:"Carregando misses..."});const k=B=>{const D=B.toDate(),R=D.getDate().toString().padStart(2,"0"),C=(D.getMonth()+1).toString().padStart(2,"0"),I=D.getFullYear(),U=D.getHours().toString().padStart(2,"0"),F=D.getMinutes().toString().padStart(2,"0");return`${R}/${C}/${I} ${U}:${F}`};return q.jsxs("div",{className:"bg-violet-100 h-screen max-h-screen flex flex-col",children:[q.jsx("div",{className:"py-8 px-12 bg-violet-400",children:q.jsx("h1",{className:"text-2xl font-bold text-violet-950",children:"Misses"})}),q.jsx("div",{className:"py-8 px-12 size-full bg-violet-200",children:t.length>0?q.jsx("ul",{className:"flex gap-2 flex-wrap",children:t.map(B=>q.jsxs("li",{className:Rr("p-4 border-2 w-fit min-w-96 max-w-120 rounded overflow-hidden gap-1 flex flex-col",B.status==="concluda"?"border-green-600 bg-green-100":"",B.status==="pendente"?"border-violet-800 bg-violet-200":"",B.status==="expirada"?"border-red-800 bg-red-200":""),children:[q.jsxs("div",{className:"flex justify-between items-center",children:[q.jsx("h2",{className:"font-semibold text-xl capitalize",children:B.title}),q.jsxs("div",{className:"flex gap-2",children:[q.jsxs("span",{className:`text-sm leading-[22px] ${B.status==="concluda"?"rounded bg-green-600 text-white px-2 py-1":""}
                    ${B.status==="pendente"?"rounded bg-amber-500 text-black px-2 py-1":""}
                    ${B.status==="expirada"?"rounded bg-red-500 text-white px-2 py-1":""}`,children:[B.status&&B.status," ",B.status&&B.points?"|":""," ",B.points>0&&`${B.status!=="expirada"?"+":""} ${B.points} pt${B.points>1&&"s"}`]}),b.isAdmin&&q.jsx(Wn,{variant:"danger",placeholder:q.jsx(uU,{size:16,fill:"white",stroke:"white"}),click:()=>{p(B.id),_(!0)}})]})]}),q.jsxs("div",{className:"flex flex-col",children:[q.jsx("p",{className:"text-ellipsis",children:B.description}),q.jsxs("div",{className:"flex justify-between items-end",children:[q.jsxs("span",{className:Rr("text-sm flex gap-2 items-center",B.status==="concluda"?"line-through":B.status==="expirada"?"text-red-500":""),children:[q.jsx(ZL,{className:"size-4"}),k(B.dueDate)]}),B.status==="concluda"?q.jsx(UC.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:q.jsx(XL,{className:"size-8 text-green-600"})}):B.status==="pendente"?q.jsx(Wn,{variant:"primary",placeholder:"Completar Misso",styling:"place-self-end",click:()=>{f(B.id),_(!0)},disabled:a===B.id}):q.jsx(Wn,{variant:"secondary",placeholder:"Misso Expirada",styling:"place-self-end bg-red-300 text-red-600 hover:bg-red-300 hover:text-red-600 opacity-50",disabled:!0})]})]})]},B.id))}):q.jsx("p",{children:"No h misses atribudas a voc!"})}),c&&q.jsx(Jw,{isOpen:y,onClose:()=>_(!1),title:`Deseja concluir a misso "${((Y=t.find(B=>B.id===c))==null?void 0:Y.title)||""}"?`,description:`Ao confirmar, a misso "${((K=t.find(B=>B.id===c))==null?void 0:K.title)||""}" ser concluda e voc no poder alterar.
Tem certeza que deseja continuar?`,children:q.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[q.jsx(Wn,{placeholder:"Confirmar",variant:"primary",click:O}),q.jsx(Wn,{placeholder:"Cancelar",variant:"danger",click:()=>_(!1)})]})}),d&&q.jsx(Jw,{isOpen:y,onClose:()=>_(!1),title:`Deseja apagar a misso "${((ee=t.find(B=>B.id===d))==null?void 0:ee.title)||""}"?`,description:`Ao confirmar, a misso "${((W=t.find(B=>B.id===d))==null?void 0:W.title)||""}" ser apagada e voc no poder alterar.
Tem certeza que deseja continuar?`,children:q.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[q.jsx(Wn,{placeholder:"Confirmar",variant:"primary",click:()=>P(d)}),q.jsx(Wn,{placeholder:"Cancelar",variant:"danger",click:()=>_(!1)})]})})]})},G6=()=>{const{user:t}=fl(),[e,n]=N.useState(0);return N.useEffect(()=>{(async()=>{if(t!=null&&t.uid){const a=_s(Vi,"users",t.uid),l=await nv(a);l.exists()&&n(l.data().points||0)}})()},[t]),t?q.jsxs("div",{className:"bg-violet-100 h-screen max-h-screen flex flex-col",children:[q.jsx("div",{className:"py-8 px-12 bg-violet-400",children:q.jsx("h1",{className:"text-2xl font-bold text-violet-950",children:"Perfil"})}),q.jsxs("div",{className:"py-8 px-12 bg-violet-200 flex gap-6 h-full",children:[q.jsx("img",{src:t.avatar||"https://i.imgur.com/uZ117ol.jpeg",alt:"Avatar",className:"w-48 h-48 rounded-md"}),q.jsxs("div",{className:"flex flex-col gap-2",children:[q.jsxs("h1",{className:"text-2xl font-bold flex gap-2 items-center",children:[t.name||"Usurio",t.isAdmin?q.jsx(a1,{size:20,fill:"#7f22fe",stroke:"#7f22fe"}):""]}),q.jsx("p",{className:"text-violet-400",children:t.email}),q.jsxs("p",{className:"text-lg font-semibold text-violet-600",children:["Pontos: ",e]})]})]})]}):q.jsx("p",{className:"text-center text-red-500",children:"Usurio no autenticado."})};function Ku(t){return q.jsx("input",{className:Rr("p-2 rounded border border-violet-400 bg-violet-100 placeholder-violet-600 placeholder:opacity-50 outline-amber-500",t.styling),...t})}function eS(t){return q.jsx("div",{className:Rr("bg-violet-400",t.float==="horizontal"?"h-px w-full":"w-px h-full")})}function tS(t){return q.jsxs("div",{className:Rr("flex gap-4 items-center justify-center",t.styling),children:[q.jsx(eS,{float:"horizontal"}),q.jsx("span",{className:"text-sm text-nowrap text-violet-400",children:t.placeholder}),q.jsx(eS,{float:"horizontal"})]})}const nS=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[a,l]=N.useState(""),c=hc(),{user:f,loading:d}=fl();N.useEffect(()=>{!d&&f&&c("/dashboard")},[f,d,c]);const p=async b=>{b.preventDefault();try{await SV(Ho,t,n),c("/dashboard")}catch{l("Erro ao fazer login. Verifique seus dados.")}},y=async()=>{try{const b=new dr;await $V(Ho,b),c("/dashboard")}catch{l("Erro ao fazer login com Google.")}},_=async()=>{c("/register")};return q.jsxs("div",{className:"flex flex-col gap-4 items-center justify-center min-h-screen bg-violet-200",children:[q.jsx("h1",{className:"text-2xl font-bold mb-4 text-violet-800",children:"Login"}),a&&q.jsx("p",{className:"text-red-500",children:a}),q.jsxs("form",{onSubmit:p,className:"flex flex-col gap-2 min-w-96",children:[q.jsx(Ku,{type:"email",placeholder:"Email",value:t,onChange:b=>e(b.target.value)}),q.jsx(Ku,{type:"password",placeholder:"Senha",value:n,onChange:b=>r(b.target.value)}),q.jsx(Wn,{variant:"primary",type:"submit",placeholder:"Entrar",styling:"justify-center"})]}),q.jsx(tS,{placeholder:"ou",styling:"w-96"}),q.jsx(Wn,{variant:"secondary",placeholder:"Entrar com Google",click:y,styling:"w-96 justify-center"}),q.jsx(tS,{placeholder:"No tem conta?",styling:"w-96"}),q.jsx(Wn,{variant:"primary",placeholder:"Registre-se",click:_,styling:"w-96 justify-center"})]})},jC=()=>{const t=hc(),{user:e}=fl(),n=async()=>{await tA(Ho),t("/login")};return q.jsxs("aside",{className:"h-screen w-64 bg-violet-800 text-white flex flex-col px-4 py-8 items-center",children:[q.jsx("h1",{className:"text-xl font-bold pb-8",children:"HomeQuest"}),q.jsx("nav",{className:"flex w-10/12 h-full",children:q.jsxs("ul",{className:"w-full flex flex-col gap-2",children:[q.jsx(ku,{to:"/dashboard",className:"outline-amber-500",children:q.jsxs("li",{className:"flex gap-4 items-center pl-4 w-full rounded bg-transparent hover:bg-violet-700 transition-colors ease-linear p-2",children:[q.jsx(iU,{size:20})," Misses"]})}),q.jsx(ku,{to:"/profile",className:"outline-amber-500",children:q.jsxs("li",{className:"flex gap-4 items-center pl-4 w-full rounded bg-transparent hover:bg-violet-700 transition-colors ease-linear p-2",children:[q.jsx(o1,{size:20})," Perfil"]})}),(e==null?void 0:e.isAdmin)&&q.jsx(ku,{to:"/admin",className:"outline-amber-500",children:q.jsxs("li",{className:"flex gap-4 items-center pl-4 w-full rounded bg-transparent hover:bg-violet-700 transition-colors ease-linear p-2",children:[q.jsx(a1,{size:20})," Admin"]})})]})}),q.jsx(Wn,{variant:"danger",click:n,styling:"w-10/12 pl-4",placeholder:q.jsxs(q.Fragment,{children:[q.jsx(tU,{size:20}),"Sair"]})})]})},K6=()=>{const{user:t}=fl();return t?q.jsxs("div",{className:"flex",children:[q.jsx(jC,{}),q.jsx("main",{className:"size-full",children:q.jsx(pS,{})})]}):q.jsx(mS,{to:"/login",replace:!0})},$6=()=>{const{user:t}=fl();return t&&t.isAdmin?q.jsxs("div",{className:"flex",children:[q.jsx(jC,{}),q.jsx("main",{className:"size-full",children:q.jsx(pS,{})})]}):q.jsx(mS,{to:"/login",replace:!0})};function Y6(t){return q.jsx("textarea",{className:Rr("p-2 rounded border border-violet-400 bg-violet-100 placeholder-violet-600 placeholder:opacity-50 outline-amber-500",t.styling),...t})}function iS(t){var f;const[e,n]=N.useState(""),[r,a]=N.useState(!1),l=N.useRef(null);N.useEffect(()=>{const d=p=>{l.current&&!l.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const c=d=>{n(d),t.change(d),a(!1)};return q.jsxs("div",{className:Rr("relative",t.styling),ref:l,children:[q.jsx("div",{className:"cursor-pointer p-2 rounded border border-violet-400 bg-violet-100 min-w-48",onClick:()=>a(!r),children:e?(f=t.options.find(d=>d.value===e))==null?void 0:f.placeholder:"Selecione uma opo"}),r&&q.jsx("div",{className:"absolute top-full left-0 w-full rounded bg-violet-100 border border-violet-400 z-10 overflow-y-auto min-h-48",children:t.options.map((d,p)=>q.jsxs("div",{className:Rr("p-2 cursor-pointer hover:bg-violet-200 flex items-center gap-2",d.placeholder==="Pablo"&&"bg-indigo-200",d.value==="limpeza"&&"bg-teal-100",d.value==="contas"&&"bg-amber-100",d.value==="geral"&&"bg-violet-100"),onClick:()=>c(d.value),children:[d.icon&&d.icon.includes("https://")?q.jsx("img",{src:d.icon,alt:d.placeholder,className:"w-5 h-5 inline-block rounded-full"}):d.value==="user-filled"?q.jsx(o1,{fill:"#2f0d68",stroke:"#2f0d68",className:"size-4 inline-block"}):d.value==="limpeza"?q.jsx(sU,{fill:"#2f0d68",stroke:"#2f0d68",className:"size-4 inline-block"}):d.value==="contas"?q.jsx(oU,{fill:"#2f0d68",stroke:"#2f0d68",className:"size-4 inline-block"}):d.value==="geral"?q.jsx(YL,{fill:"#2f0d68",stroke:"#2f0d68",className:"size-4 inline-block"}):"",q.jsx("span",{children:d.placeholder})]},p))})]})}function Q6(){const[t,e]=N.useState(""),[n,r]=N.useState(0),[a,l]=N.useState(""),[c,f]=N.useState(""),[d,p]=N.useState(!1),[y,_]=N.useState([]),[b,A]=N.useState(""),[x,O]=N.useState("");N.useEffect(()=>{(async()=>{try{const B=(await Dg(xg(Vi,"users"))).docs.map(D=>({uid:D.id,...D.data()}));_(B)}catch(W){console.error("Erro ao buscar usurios:",W)}})()},[]);const P=hc(),k=async ee=>{if(ee.preventDefault(),!t||!a||!c||!b||!x){alert("Por favor, preencha todos os campos.");return}p(!0);try{const W=xg(Vi,"missions"),B=qR(W,Vu("title","==",t),Vu("category","==",x),Vu("dueDate","==",_t.fromDate(new Date(c))),Vu("assignedTo","array-contains",b));if(!(await Dg(B)).empty){alert("J existe uma misso com esse ttulo, categoria, data de vencimento e alvo."),p(!1);return}const R=_t.fromDate(new Date(`${c}T00:00:00`));await Zk(W,{title:t,description:a,dueDate:R,status:"pendente",createdAt:_t.now(),points:n,assignedTo:[b],category:x}),e(""),l(""),f(""),A(""),O(""),r(0),alert("Misso adicionada com sucesso!"),P("/admin")}catch(W){console.error("Erro ao adicionar misso:",W),alert("Erro ao adicionar misso. Tente novamente.")}finally{p(!1)}},Y=y.map(ee=>({placeholder:ee.name,value:ee.uid,icon:ee.avatar||"user-filled"})),K=[{placeholder:"Limpeza",value:"limpeza"},{placeholder:"Contas",value:"contas"},{placeholder:"Geral",value:"geral"}];return q.jsxs("div",{className:"bg-violet-100 h-screen max-h-screen flex flex-col",children:[q.jsx("div",{className:"py-8 px-12 bg-violet-400",children:q.jsx("h1",{className:"text-2xl font-bold text-violet-950",children:"Admin"})}),q.jsxs("div",{className:"py-8 px-12 bg-violet-200 flex flex-col gap-6 h-full",children:[q.jsx("h2",{className:"text-xl font-semibold",children:"Adicionar Misso"}),q.jsxs("form",{onSubmit:k,className:"flex flex-col gap-4 w-fit",children:[q.jsxs("div",{className:"flex justify-between gap-4 w-full",children:[q.jsxs("div",{className:"w-full",children:[q.jsx("label",{className:"block text-sm font-medium text-violet-950",children:"Ttulo"}),q.jsx(Ku,{type:"text",value:t,onChange:ee=>e(ee.target.value),placeholder:"Ttulo da misso",required:!0,styling:"w-full"})]}),q.jsxs("div",{className:"w-1/3",children:[q.jsx("label",{className:"block text-sm font-medium text-violet-950",children:"Pontos"}),q.jsx(Ku,{type:"number",value:n,onChange:ee=>r(Number(ee.target.value)),placeholder:"Pontos",required:!0,styling:"w-full"})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-violet-950",children:"Descrio"}),q.jsx(Y6,{value:a,onChange:ee=>l(ee.target.value),styling:"w-full resize-none",placeholder:"Descrio da misso",rows:4,required:!0})]}),q.jsxs("div",{className:"flex gap-4 justify-between",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-violet-950",children:"Data de Vencimento"}),q.jsx(Ku,{type:"date",value:c,onChange:ee=>f(ee.target.value),styling:"w-fit"})]})," ",q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-violet-950",children:"Categoria"}),q.jsx(iS,{options:K,change:ee=>O(ee),required:!0})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-violet-950",children:"Misso para"}),q.jsx(iS,{options:Y,change:ee=>A(ee),required:!0})]})]}),q.jsx("button",{type:"submit",className:"mt-4 py-2 px-4 bg-violet-600 text-white rounded hover:bg-violet-700",disabled:d,children:d?"Adicionando...":"Adicionar Misso"})]})]})]})}const X6=()=>{const{user:t}=fl();return q.jsx(kD,{children:q.jsxs(dD,{children:[q.jsx(fr,{path:"/login",element:q.jsx(nS,{})}),q.jsxs(fr,{element:q.jsx(K6,{}),children:[q.jsx(fr,{path:"/",element:q.jsx(tg,{})}),q.jsx(fr,{path:"/dashboard",element:q.jsx(tg,{})}),q.jsx(fr,{path:"/profile",element:q.jsx(G6,{})})]}),q.jsx(fr,{element:q.jsx($6,{}),children:q.jsx(fr,{path:"/admin",element:q.jsx(Q6,{})})}),q.jsx(fr,{path:"*",element:t?q.jsx(tg,{}):q.jsx(nS,{})})]})})},W6=()=>q.jsx(X6,{});EI.createRoot(document.getElementById("root")).render(q.jsx(dI.StrictMode,{children:q.jsx(tL,{children:q.jsx(W6,{})})}));
